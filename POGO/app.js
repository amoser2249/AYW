/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
(function(t,n){var L,Ae,l=typeof n,i=t.document,Wt=t.location,It=t.jQuery,zt=t.$,H={},T=[],Q="1.9.1",je=T.concat,K=T.push,y=T.slice,De=T.indexOf,Xt=H.toString,E=H.hasOwnProperty,Z=Q.trim,e=function(t,n){return new e.fn.init(t,n,Ae)},M=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,u=/\S+/g,Ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Vt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,Le=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Yt=/^[\],:{}\s]*$/,Jt=/(?:^|:|,)(?:\s*\[)+/g,Gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Qt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Kt=/^-ms-/,Zt=/-([\da-z])/gi,en=function(e,t){return t.toUpperCase()},c=function(t){if(i.addEventListener||t.type==="load"||i.readyState==="complete"){He();e.ready()}},He=function(){if(i.addEventListener){i.removeEventListener("DOMContentLoaded",c,!1);t.removeEventListener("load",c,!1)}
else{i.detachEvent("onreadystatechange",c);t.detachEvent("onload",c)}};e.fn=e.prototype={jquery:Q,constructor:e,init:function(t,r,o){var s,a;if(!t){return this};if(typeof t==="string"){if(t.charAt(0)==="<"&&t.charAt(t.length-1)===">"&&t.length>=3){s=[null,t,null]}
else{s=Vt.exec(t)};if(s&&(s[1]||!r)){if(s[1]){r=r instanceof e?r[0]:r;e.merge(this,e.parseHTML(s[1],r&&r.nodeType?r.ownerDocument||r:i,!0));if(Le.test(s[1])&&e.isPlainObject(r)){for(s in r){if(e.isFunction(this[s])){this[s](r[s])}
else{this.attr(s,r[s])}}};return this}
else{a=i.getElementById(s[2]);if(a&&a.parentNode){if(a.id!==s[2]){return o.find(t)};this.length=1;this[0]=a};this.context=i;this.selector=t;return this}}
else if(!r||r.jquery){return(r||o).find(t)}
else{return this.constructor(r).find(t)}}
else if(t.nodeType){this.context=this[0]=t;this.length=1;return this}
else if(e.isFunction(t)){return o.ready(t)};if(t.selector!==n){this.selector=t.selector;this.context=t.context};return e.makeArray(t,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return y.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(t){var n=e.merge(this.constructor(),t);n.prevObject=this;n.context=this.context;return n},each:function(t,n){return e.each(this,t,n)},ready:function(t){e.ready.promise().done(t);return this},slice:function(){return this.pushStack(y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var n=this.length,t=+e+(e<0?n:0);return this.pushStack(t>=0&&t<n?[this[t]]:[])},map:function(t){return this.pushStack(e.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:[].sort,splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var r,a,i,s,l,u,t=arguments[0]||{},o=1,c=arguments.length,f=!1;if(typeof t==="boolean"){f=t;t=arguments[1]||{};o=2};if(typeof t!=="object"&&!e.isFunction(t)){t={}};if(c===o){t=this;--o};for(;o<c;o++){if((l=arguments[o])!=null){for(s in l){r=t[s];i=l[s];if(t===i){continue};if(f&&i&&(e.isPlainObject(i)||(a=e.isArray(i)))){if(a){a=!1;u=r&&e.isArray(r)?r:[]}
else{u=r&&e.isPlainObject(r)?r:{}};t[s]=e.extend(f,u,i)}
else if(i!==n){t[s]=i}}}};return t};e.extend({noConflict:function(n){if(t.$===e){t.$=zt};if(n&&t.jQuery===e){t.jQuery=It};return e},isReady:!1,readyWait:1,holdReady:function(t){if(t){e.readyWait++}
else{e.ready(!0)}},ready:function(t){if(t===!0?--e.readyWait:e.isReady){return};if(!i.body){return setTimeout(e.ready)};e.isReady=!0;if(t!==!0&&--e.readyWait>0){return};L.resolveWith(i,[e]);if(e.fn.trigger){e(i).trigger("ready").off("ready")}},isFunction:function(t){return e.type(t)==="function"},isArray:Array.isArray||function(t){return e.type(t)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)};return typeof e==="object"||typeof e==="function"?H[Xt.call(e)]||"object":typeof e},isPlainObject:function(t){if(!t||e.type(t)!=="object"||t.nodeType||e.isWindow(t)){return!1};try{if(t.constructor&&!E.call(t,"constructor")&&!E.call(t.constructor.prototype,"isPrototypeOf")){return!1}}catch(i){return!1};var r;for(r in t){};return r===n||E.call(t,r)},isEmptyObject:function(e){var t;for(t in e){return!1};return!0},error:function(e){throw new Error(e)},parseHTML:function(t,n,r){if(!t||typeof t!=="string"){return null};if(typeof n==="boolean"){r=n;n=!1};n=n||i;var o=Le.exec(t),s=!r&&[];if(o){return[n.createElement(o[1])]};o=e.buildFragment([t],n,s);if(s){e(s).remove()};return e.merge([],o.childNodes)},parseJSON:function(n){if(t.JSON&&t.JSON.parse){return t.JSON.parse(n)};if(n===null){return n};if(typeof n==="string"){n=e.trim(n);if(n){if(Yt.test(n.replace(Gt,"@").replace(Qt,"]").replace(Jt,""))){return(new Function("return "+n))()}}};e.error("Invalid JSON: "+n)},parseXML:function(i){var o,s;if(!i||typeof i!=="string"){return null};try{if(t.DOMParser){s=new DOMParser();o=s.parseFromString(i,"text/xml")}
else{o=new ActiveXObject("Microsoft.XMLDOM");o.async="false";o.loadXML(i)}}catch(r){o=n};if(!o||!o.documentElement||o.getElementsByTagName("parsererror").length){e.error("Invalid XML: "+i)};return o},noop:function(){},globalEval:function(n){if(n&&e.trim(n)){(t.execScript||function(e){t["eval"].call(t,e)})(n)}},camelCase:function(e){return e.replace(Kt,"ms-").replace(Zt,en)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,s=ee(e);if(n){if(s){for(;i<o;i++){r=t.apply(e[i],n);if(r===!1){break}}}
else{for(i in e){r=t.apply(e[i],n);if(r===!1){break}}}}
else{if(s){for(;i<o;i++){r=t.call(e[i],i,e[i]);if(r===!1){break}}}
else{for(i in e){r=t.call(e[i],i,e[i]);if(r===!1){break}}}};return e},trim:Z&&!Z.call("\uFEFF\xA0")?function(e){return e==null?"":Z.call(e)}:function(e){return e==null?"":(e+"").replace(Ut,"")},makeArray:function(t,n){var i=n||[];if(t!=null){if(ee(Object(t))){e.merge(i,typeof t==="string"?[t]:t)}
else{K.call(i,t)}};return i},inArray:function(e,t,n){var i;if(t){if(De){return De.call(t,e,n)};i=t.length;n=n?n<0?Math.max(0,i+n):n:0;for(;n<i;n++){if(n in t&&t[n]===e){return n}}};return-1},merge:function(e,t){var o=t.length,r=e.length,i=0;if(typeof o==="number"){for(;i<o;i++){e[r++]=t[i]}}
else{while(t[i]!==n){e[r++]=t[i++]}};e.length=r;return e},grep:function(e,t,n){var r,o=[],i=0,s=e.length;n=!!n;for(;i<s;i++){r=!!t(e[i],i);if(n!==r){o.push(e[i])}};return o},map:function(e,t,n){var r,i=0,s=e.length,a=ee(e),o=[];if(a){for(;i<s;i++){r=t(e[i],i,n);if(r!=null){o[o.length]=r}}}
else{for(i in e){r=t(e[i],i,n);if(r!=null){o[o.length]=r}}};return je.apply([],o)},guid:1,proxy:function(t,i){var o,r,s;if(typeof i==="string"){s=t[i];i=t;t=s};if(!e.isFunction(t)){return n};o=y.call(arguments,2);r=function(){return t.apply(i||this,o.concat(y.call(arguments)))};r.guid=t.guid=t.guid||e.guid++;return r},access:function(t,i,r,o,s,l,u){var a=0,c=t.length,f=r==null;if(e.type(r)==="object"){s=!0;for(a in r){e.access(t,i,a,r[a],!0,l,u)}}
else if(o!==n){s=!0;if(!e.isFunction(o)){u=!0};if(f){if(u){i.call(t,o);i=null}
else{f=i;i=function(t,n,i){return f.call(e(t),i)}}};if(i){for(;a<c;a++){i(t[a],r,u?o:o.call(t[a],a,i(t[a],r)))}}};return s?t:f?i.call(t):c?i(t[0],r):l},now:function(){return(new Date()).getTime()}});e.ready.promise=function(n){if(!L){L=e.Deferred();if(i.readyState==="complete"){setTimeout(e.ready)}
else if(i.addEventListener){i.addEventListener("DOMContentLoaded",c,!1);t.addEventListener("load",c,!1)}
else{i.attachEvent("onreadystatechange",c);t.attachEvent("onload",c);var o=!1;try{o=t.frameElement==null&&i.documentElement}catch(r){};if(o&&o.doScroll){(function s(){if(!e.isReady){try{o.doScroll("left")}catch(t){return setTimeout(s,50)};He();e.ready()}})()}}};return L.promise(n)};e.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()});function ee(t){var n=t.length,i=e.type(t);if(e.isWindow(t)){return!1};if(t.nodeType===1&&n){return!0};return i==="array"||i!=="function"&&(n===0||typeof n==="number"&&n>0&&(n-1)in t)};Ae=e(i);var Se={};function tn(t){var n=Se[t]={};e.each(t.match(u)||[],function(e,t){n[t]=!0});return n};e.Callbacks=function(t){t=typeof t==="string"?(Se[t]||tn(t)):e.extend({},t);var a,o,f,l,s,c,i=[],r=!t.once&&[],p=function(e){o=t.memory&&e;f=!0;s=c||0;c=0;l=i.length;a=!0;for(;i&&s<l;s++){if(i[s].apply(e[0],e[1])===!1&&t.stopOnFalse){o=!1;break}};a=!1;if(i){if(r){if(r.length){p(r.shift())}}
else if(o){i=[]}
else{u.disable()}}},u={add:function(){if(i){var n=i.length;(function r(n){e.each(n,function(n,o){var s=e.type(o);if(s==="function"){if(!t.unique||!u.has(o)){i.push(o)}}
else if(o&&o.length&&s!=="string"){r(o)}})})(arguments);if(a){l=i.length}
else if(o){c=n;p(o)}};return this},remove:function(){if(i){e.each(arguments,function(t,n){var r;while((r=e.inArray(n,i,r))>-1){i.splice(r,1);if(a){if(r<=l){l--};if(r<=s){s--}}}})};return this},has:function(t){return t?e.inArray(t,i)>-1:!!(i&&i.length)},empty:function(){i=[];return this},disable:function(){i=r=o=n;return this},disabled:function(){return!i},lock:function(){r=n;if(!o){u.disable()};return this},locked:function(){return!r},fireWith:function(e,t){t=t||[];t=[e,t.slice?t.slice():t];if(i&&(!f||r)){if(a){r.push(t)}
else{p(t)}};return this},fire:function(){u.fireWith(this,arguments);return this},fired:function(){return!!f}};return u};e.extend({Deferred:function(t){var r=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]],o="pending",i={state:function(){return o},always:function(){n.done(arguments).fail(arguments);return this},then:function(){var t=arguments;return e.Deferred(function(o){e.each(r,function(r,s){var l=s[0],a=e.isFunction(t[r])&&t[r];n[s[1]](function(){var t=a&&a.apply(this,arguments);if(t&&e.isFunction(t.promise)){t.promise().done(o.resolve).fail(o.reject).progress(o.notify)}
else{o[l+"With"](this===i?o.promise():this,a?[t]:arguments)}})});t=null}).promise()},promise:function(t){return t!=null?e.extend(t,i):i}},n={};i.pipe=i.then;e.each(r,function(e,t){var s=t[2],a=t[3];i[t[1]]=s.add;if(a){s.add(function(){o=a},r[e^1][2].disable,r[2][2].lock)};n[t[0]]=function(){n[t[0]+"With"](this===n?i:this,arguments);return this};n[t[0]+"With"]=s.fireWith});i.promise(n);if(t){t.call(n,n)};return n},when:function(t){var n=0,r=y.call(arguments),i=r.length,s=i!==1||(t&&e.isFunction(t.promise))?i:0,o=s===1?t:e.Deferred(),u=function(e,t,n){return function(i){t[e]=this;n[e]=arguments.length>1?y.call(arguments):i;if(n===a){o.notifyWith(t,n)}
else if(!(--s)){o.resolveWith(t,n)}}},a,f,l;if(i>1){a=new Array(i);f=new Array(i);l=new Array(i);for(;n<i;n++){if(r[n]&&e.isFunction(r[n].promise)){r[n].promise().done(u(n,l,r)).fail(o.reject).progress(u(n,f,a))}
else{--s}}};if(!s){o.resolveWith(l,r)};return o.promise()}});e.support=(function(){var o,u,a,s,f,c,p,d,g,h,n=i.createElement("div");n.setAttribute("className","t");n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";u=n.getElementsByTagName("*");a=n.getElementsByTagName("a")[0];if(!u||!a||!u.length){return{}};f=i.createElement("select");p=f.appendChild(i.createElement("option"));s=n.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";o={getSetAttribute:n.className!=="t",leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:!!s.value,optSelected:p.selected,enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};s.checked=!0;o.noCloneChecked=s.cloneNode(!0).checked;f.disabled=!0;o.optDisabled=!p.disabled;try{delete n.test}catch(r){o.deleteExpando=!1};s=i.createElement("input");s.setAttribute("value","");o.input=s.getAttribute("value")==="";s.value="t";s.setAttribute("type","radio");o.radioValue=s.value==="t";s.setAttribute("checked","t");s.setAttribute("name","t");c=i.createDocumentFragment();c.appendChild(s);o.appendChecked=s.checked;o.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;if(n.attachEvent){n.attachEvent("onclick",function(){o.noCloneEvent=!1});n.cloneNode(!0).click()};for(h in{submit:!0,change:!0,focusin:!0}){n.setAttribute(d="on"+h,"t");o[h+"Bubbles"]=d in t||n.attributes[d].expando===!1};n.style.backgroundClip="content-box";n.cloneNode(!0).style.backgroundClip="";o.clearCloneStyle=n.style.backgroundClip==="content-box";e(function(){var s,r,e,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=i.getElementsByTagName("body")[0];if(!a){return};s=i.createElement("div");s.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";a.appendChild(s).appendChild(n);n.innerHTML="<table><tr><td></td><td>t</td></tr></table>";e=n.getElementsByTagName("td");e[0].style.cssText="padding:0;margin:0;border:0;display:none";g=(e[0].offsetHeight===0);e[0].style.display="";e[1].style.display="none";o.reliableHiddenOffsets=g&&(e[0].offsetHeight===0);n.innerHTML="";n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";o.boxSizing=(n.offsetWidth===4);o.doesNotIncludeMarginInBodyOffset=(a.offsetTop!==1);if(t.getComputedStyle){o.pixelPosition=(t.getComputedStyle(n,null)||{}).top!=="1%";o.boxSizingReliable=(t.getComputedStyle(n,null)||{width:"4px"}).width==="4px";r=n.appendChild(i.createElement("div"));r.style.cssText=n.style.cssText=u;r.style.marginRight=r.style.width="0";n.style.width="1px";o.reliableMarginRight=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)};if(typeof n.style.zoom!==l){n.innerHTML="";n.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1";o.inlineBlockNeedsLayout=(n.offsetWidth===3);n.style.display="block";n.innerHTML="<div></div>";n.firstChild.style.width="5px";o.shrinkWrapBlocks=(n.offsetWidth!==3);if(o.inlineBlockNeedsLayout){a.style.zoom=1}};a.removeChild(s);s=n=e=r=null});u=f=c=p=a=s=null;return o})();var Pt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Rt=/([A-Z])/g;function Me(t,i,r,o){if(!e.acceptData(t)){return};var l,u,f=e.expando,p=typeof i==="string",c=t.nodeType,a=c?e.cache:t,s=c?t[f]:t[f]&&f;if((!s||!a[s]||(!o&&!a[s].data))&&p&&r===n){return};if(!s){if(c){t[f]=s=T.pop()||e.guid++}
else{s=f}};if(!a[s]){a[s]={};if(!c){a[s].toJSON=e.noop}};if(typeof i==="object"||typeof i==="function"){if(o){a[s]=e.extend(a[s],i)}
else{a[s].data=e.extend(a[s].data,i)}};l=a[s];if(!o){if(!l.data){l.data={}};l=l.data};if(r!==n){l[e.camelCase(i)]=r};if(p){u=l[i];if(u==null){u=l[e.camelCase(i)]}}
else{u=l};return u};function qe(t,n,i){if(!e.acceptData(t)){return};var a,u,s,l=t.nodeType,r=l?e.cache:t,o=l?t[e.expando]:e.expando;if(!r[o]){return};if(n){s=i?r[o]:r[o].data;if(s){if(!e.isArray(n)){if(n in s){n=[n]}
else{n=e.camelCase(n);if(n in s){n=[n]}
else{n=n.split(" ")}}}
else{n=n.concat(e.map(n,e.camelCase))};for(a=0,u=n.length;a<u;a++){delete s[n[a]]};if(!(i?te:e.isEmptyObject)(s)){return}}};if(!i){delete r[o].data;if(!te(r[o])){return}};if(l){e.cleanData([t],!0)}
else if(e.support.deleteExpando||r!=r.window){delete r[o]}
else{r[o]=null}};e.extend({cache:{},expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),noData:{"embed":!0,"object":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000","applet":!0},hasData:function(t){t=t.nodeType?e.cache[t[e.expando]]:t[e.expando];return!!t&&!te(t)},data:function(e,t,n){return Me(e,t,n)},removeData:function(e,t){return qe(e,t)},_data:function(e,t,n){return Me(e,t,n,!0)},_removeData:function(e,t){return qe(e,t,!0)},acceptData:function(t){if(t.nodeType&&t.nodeType!==1&&t.nodeType!==9){return!1};var n=t.nodeName&&e.noData[t.nodeName.toLowerCase()];return!n||n!==!0&&t.getAttribute("classid")===n}});e.fn.extend({data:function(t,i){var s,o,r=this[0],a=0,l=null;if(t===n){if(this.length){l=e.data(r);if(r.nodeType===1&&!e._data(r,"parsedAttrs")){s=r.attributes;for(;a<s.length;a++){o=s[a].name;if(!o.indexOf("data-")){o=e.camelCase(o.slice(5));Fe(r,o,l[o])}};e._data(r,"parsedAttrs",!0)}};return l};if(typeof t==="object"){return this.each(function(){e.data(this,t)})};return e.access(this,function(i){if(i===n){return r?Fe(r,t,e.data(r,t)):null};this.each(function(){e.data(this,t,i)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){e.removeData(this,t)})}});function Fe(t,i,r){if(r===n&&t.nodeType===1){var s="data-"+i.replace(Rt,"-$1").toLowerCase();r=t.getAttribute(s);if(typeof r==="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:Pt.test(r)?e.parseJSON(r):r}catch(o){};e.data(t,i,r)}
else{r=n}};return r};function te(t){var n;for(n in t){if(n==="data"&&e.isEmptyObject(t[n])){continue};if(n!=="toJSON"){return!1}};return!0};e.extend({queue:function(t,n,i){var r;if(t){n=(n||"fx")+"queue";r=e._data(t,n);if(i){if(!r||e.isArray(i)){r=e._data(t,n,e.makeArray(i))}
else{r.push(i)}};return r||[]}},dequeue:function(t,n){n=n||"fx";var o=e.queue(t,n),s=o.length,i=o.shift(),r=e._queueHooks(t,n),a=function(){e.dequeue(t,n)};if(i==="inprogress"){i=o.shift();s--};r.cur=i;if(i){if(n==="fx"){o.unshift("inprogress")};delete r.stop;i.call(t,a,r)};if(!s&&r){r.empty.fire()}},_queueHooks:function(t,n){var i=n+"queueHooks";return e._data(t,i)||e._data(t,i,{empty:e.Callbacks("once memory").add(function(){e._removeData(t,n+"queue");e._removeData(t,i)})})}});e.fn.extend({queue:function(t,i){var r=2;if(typeof t!=="string"){i=t;t="fx";r--};if(arguments.length<r){return e.queue(this[0],t)};return i===n?this:this.each(function(){var n=e.queue(this,t,i);e._queueHooks(this,t);if(t==="fx"&&n[0]!=="inprogress"){e.dequeue(this,t)}})},dequeue:function(t){return this.each(function(){e.dequeue(this,t)})},delay:function(t,n){t=e.fx?e.fx.speeds[t]||t:t;n=n||"fx";return this.queue(n,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(t,i){var r,s=1,a=e.Deferred(),o=this,l=this.length,u=function(){if(!(--s)){a.resolveWith(o,[o])}};if(typeof t!=="string"){i=t;t=n};t=t||"fx";while(l--){r=e._data(o[l],t+"queueHooks");if(r&&r.empty){s++;r.empty.add(u)}};u();return a.promise(i)}});var w,ke,Y=/[\t\r\n]/g,Ft=/\r/g,Ot=/^(?:input|select|textarea|button|object)$/i,Bt=/^(?:a|area)$/i,Ee=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,J=/^(?:checked|selected)$/i,m=e.support.getSetAttribute,G=e.support.input;e.fn.extend({attr:function(t,n){return e.access(this,e.attr,t,n,arguments.length>1)},removeAttr:function(t){return this.each(function(){e.removeAttr(this,t)})},prop:function(t,n){return e.access(this,e.prop,t,n,arguments.length>1)},removeProp:function(t){t=e.propFix[t]||t;return this.each(function(){try{this[t]=n;delete this[t]}catch(e){}})},addClass:function(t){var s,n,i,r,a,o=0,l=this.length,f=typeof t==="string"&&t;if(e.isFunction(t)){return this.each(function(n){e(this).addClass(t.call(this,n,this.className))})};if(f){s=(t||"").match(u)||[];for(;o<l;o++){n=this[o];i=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(Y," "):" ");if(i){a=0;while((r=s[a++])){if(i.indexOf(" "+r+" ")<0){i+=r+" "}};n.className=e.trim(i)}}};return this},removeClass:function(t){var s,i,n,r,a,o=0,l=this.length,f=arguments.length===0||typeof t==="string"&&t;if(e.isFunction(t)){return this.each(function(n){e(this).removeClass(t.call(this,n,this.className))})};if(f){s=(t||"").match(u)||[];for(;o<l;o++){i=this[o];n=i.nodeType===1&&(i.className?(" "+i.className+" ").replace(Y," "):"");if(n){a=0;while((r=s[a++])){while(n.indexOf(" "+r+" ")>=0){n=n.replace(" "+r+" "," ")}};i.className=t?e.trim(n):""}}};return this},toggleClass:function(t,n){var i=typeof t,r=typeof n==="boolean";if(e.isFunction(t)){return this.each(function(i){e(this).toggleClass(t.call(this,i,this.className,n),n)})};return this.each(function(){if(i==="string"){var o,f=0,a=e(this),s=n,c=t.match(u)||[];while((o=c[f++])){s=r?s:!a.hasClass(o);a[s?"addClass":"removeClass"](o)}}
else if(i===l||i==="boolean"){if(this.className){e._data(this,"__className__",this.className)};this.className=this.className||t===!1?"":e._data(this,"__className__")||""}})},hasClass:function(e){var n=" "+e+" ",t=0,i=this.length;for(;t<i;t++){if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(Y," ").indexOf(n)>=0){return!0}};return!1},val:function(t){var r,i,s,o=this[0];if(!arguments.length){if(o){i=e.valHooks[o.type]||e.valHooks[o.nodeName.toLowerCase()];if(i&&"get" in i&&(r=i.get(o,"value"))!==n){return r};r=o.value;return typeof r==="string"?r.replace(Ft,""):r==null?"":r};return};s=e.isFunction(t);return this.each(function(r){var o,a=e(this);if(this.nodeType!==1){return};if(s){o=t.call(this,r,a.val())}
else{o=t};if(o==null){o=""}
else if(typeof o==="number"){o+=""}
else if(e.isArray(o)){o=e.map(o,function(e){return e==null?"":e+""})};i=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()];if(!i||!("set" in i)||i.set(this,o,"value")===n){this.value=o}})}});e.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(t){var s,n,a=t.options,i=t.selectedIndex,r=t.type==="select-one"||i<0,l=r?null:[],u=r?i+1:a.length,o=i<0?u:r?i:0;for(;o<u;o++){n=a[o];if((n.selected||o===i)&&(e.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!e.nodeName(n.parentNode,"optgroup"))){s=e(n).val();if(r){return s};l.push(s)}};return l},set:function(t,n){var i=e.makeArray(n);e(t).find("option").each(function(){this.selected=e.inArray(e(this).val(),i)>=0});if(!i.length){t.selectedIndex=-1};return i}}},attr:function(t,i,r){var o,a,s,u=t.nodeType;if(!t||u===3||u===8||u===2){return};if(typeof t.getAttribute===l){return e.prop(t,i,r)};a=u!==1||!e.isXMLDoc(t);if(a){i=i.toLowerCase();o=e.attrHooks[i]||(Ee.test(i)?ke:w)};if(r!==n){if(r===null){e.removeAttr(t,i)}
else if(o&&a&&"set" in o&&(s=o.set(t,r,i))!==n){return s}
else{t.setAttribute(i,r+"");return r}}
else if(o&&a&&"get" in o&&(s=o.get(t,i))!==null){return s}
else{if(typeof t.getAttribute!==l){s=t.getAttribute(i)};return s==null?n:s}},removeAttr:function(t,n){var i,r,s=0,o=n&&n.match(u);if(o&&t.nodeType===1){while((i=o[s++])){r=e.propFix[i]||i;if(Ee.test(i)){if(!m&&J.test(i)){t[e.camelCase("default-"+i)]=t[r]=!1}
else{t[r]=!1}}
else{e.attr(t,i,"")};t.removeAttribute(m?i:r)}}},attrHooks:{type:{set:function(t,n){if(!e.support.radioValue&&n==="radio"&&e.nodeName(t,"input")){var i=t.value;t.setAttribute("type",n);if(i){t.value=i};return n}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,r){var s,o,l,a=t.nodeType;if(!t||a===3||a===8||a===2){return};l=a!==1||!e.isXMLDoc(t);if(l){i=e.propFix[i]||i;o=e.propHooks[i]};if(r!==n){if(o&&"set" in o&&(s=o.set(t,r,i))!==n){return s}
else{return(t[i]=r)}}
else{if(o&&"get" in o&&(s=o.get(t,i))!==null){return s}
else{return t[i]}}},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):Ot.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:n}}}});ke={get:function(t,i){var r=e.prop(t,i),o=typeof r==="boolean"&&t.getAttribute(i),s=typeof r==="boolean"?G&&m?o!=null:J.test(i)?t[e.camelCase("default-"+i)]:!!o:t.getAttributeNode(i);return s&&s.value!==!1?i.toLowerCase():n},set:function(t,n,i){if(n===!1){e.removeAttr(t,i)}
else if(G&&m||!J.test(i)){t.setAttribute(!m&&e.propFix[i]||i,i)}
else{t[e.camelCase("default-"+i)]=t[i]=!0};return i}};if(!G||!m){e.attrHooks.value={get:function(t,i){var r=t.getAttributeNode(i);return e.nodeName(t,"input")?t.defaultValue:r&&r.specified?r.value:n},set:function(t,n,i){if(e.nodeName(t,"input")){t.defaultValue=n}
else{return w&&w.set(t,n,i)}}}};if(!m){w=e.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&(t==="id"||t==="name"||t==="coords"?i.value!=="":i.specified)?i.value:n},set:function(e,t,i){var r=e.getAttributeNode(i);if(!r){e.setAttributeNode((r=e.ownerDocument.createAttribute(i)))};r.value=t+="";return i==="value"||t===e.getAttribute(i)?t:n}};e.attrHooks.contenteditable={get:w.get,set:function(e,t,n){w.set(e,t===""?!1:t,n)}};e.each(["width","height"],function(t,n){e.attrHooks[n]=e.extend(e.attrHooks[n],{set:function(e,t){if(t===""){e.setAttribute(n,"auto");return t}}})})};if(!e.support.hrefNormalized){e.each(["href","src","width","height"],function(t,i){e.attrHooks[i]=e.extend(e.attrHooks[i],{get:function(e){var t=e.getAttribute(i,2);return t==null?n:t}})});e.each(["href","src"],function(t,n){e.propHooks[n]={get:function(e){return e.getAttribute(n,4)}}})};if(!e.support.style){e.attrHooks.style={get:function(e){return e.style.cssText||n},set:function(e,t){return(e.style.cssText=t+"")}}};if(!e.support.optSelected){e.propHooks.selected=e.extend(e.propHooks.selected,{get:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}};return null}})};if(!e.support.enctype){e.propFix.enctype="encoding"};if(!e.support.checkOn){e.each(["radio","checkbox"],function(){e.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})};e.each(["radio","checkbox"],function(){e.valHooks[this]=e.extend(e.valHooks[this],{set:function(t,n){if(e.isArray(n)){return(t.checked=e.inArray(e(t).val(),n)>=0)}}})});var V=/^(?:input|select|textarea)$/i,Mt=/^key/,qt=/^(?:mouse|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,Ce=/^([^.]*)(?:\.(.+)|)$/;function q(){return!0};function N(){return!1};e.event={global:{},add:function(t,i,r,o,s){var y,g,v,m,f,c,p,d,a,b,x,h=e._data(t);if(!h){return};if(r.handler){m=r;r=m.handler;s=m.selector};if(!r.guid){r.guid=e.guid++};if(!(g=h.events)){g=h.events={}};if(!(c=h.handle)){c=h.handle=function(t){return typeof e!==l&&(!t||e.event.triggered!==t.type)?e.event.dispatch.apply(c.elem,arguments):n};c.elem=t};i=(i||"").match(u)||[""];v=i.length;while(v--){y=Ce.exec(i[v])||[];a=x=y[1];b=(y[2]||"").split(".").sort();f=e.event.special[a]||{};a=(s?f.delegateType:f.bindType)||a;f=e.event.special[a]||{};p=e.extend({type:a,origType:x,data:o,handler:r,guid:r.guid,selector:s,needsContext:s&&e.expr.match.needsContext.test(s),namespace:b.join(".")},m);if(!(d=g[a])){d=g[a]=[];d.delegateCount=0;if(!f.setup||f.setup.call(t,o,b,c)===!1){if(t.addEventListener){t.addEventListener(a,c,!1)}
else if(t.attachEvent){t.attachEvent("on"+a,c)}}};if(f.add){f.add.call(t,p);if(!p.handler.guid){p.handler.guid=r.guid}};if(s){d.splice(d.delegateCount++,0,p)}
else{d.push(p)};e.event.global[a]=!0};t=null},remove:function(t,n,i,r,o){var h,a,l,y,g,p,f,c,s,m,v,d=e.hasData(t)&&e._data(t);if(!d||!(p=d.events)){return};n=(n||"").match(u)||[""];g=n.length;while(g--){l=Ce.exec(n[g])||[];s=v=l[1];m=(l[2]||"").split(".").sort();if(!s){for(s in p){e.event.remove(t,s+n[g],i,r,!0)};continue};f=e.event.special[s]||{};s=(r?f.delegateType:f.bindType)||s;c=p[s]||[];l=l[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)");y=h=c.length;while(h--){a=c[h];if((o||v===a.origType)&&(!i||i.guid===a.guid)&&(!l||l.test(a.namespace))&&(!r||r===a.selector||r==="**"&&a.selector)){c.splice(h,1);if(a.selector){c.delegateCount--};if(f.remove){f.remove.call(t,a)}}};if(y&&!c.length){if(!f.teardown||f.teardown.call(t,m,d.handle)===!1){e.removeEvent(t,s,d.handle)};delete p[s]}};if(e.isEmptyObject(p)){delete d.handle;e._removeData(t,"events")}},trigger:function(r,o,s,a){var d,h,f,m,p,c,y,v=[s||i],u=E.call(r,"type")?r.type:r,g=E.call(r,"namespace")?r.namespace.split("."):[];f=c=s=s||i;if(s.nodeType===3||s.nodeType===8){return};if(Ne.test(u+e.event.triggered)){return};if(u.indexOf(".")>=0){g=u.split(".");u=g.shift();g.sort()};h=u.indexOf(":")<0&&"on"+u;r=r[e.expando]?r:new e.Event(u,typeof r==="object"&&r);r.isTrigger=!0;r.namespace=g.join(".");r.namespace_re=r.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;r.result=n;if(!r.target){r.target=s};o=o==null?[r]:e.makeArray(o,[r]);p=e.event.special[u]||{};if(!a&&p.trigger&&p.trigger.apply(s,o)===!1){return};if(!a&&!p.noBubble&&!e.isWindow(s)){m=p.delegateType||u;if(!Ne.test(m+u)){f=f.parentNode};for(;f;f=f.parentNode){v.push(f);c=f};if(c===(s.ownerDocument||i)){v.push(c.defaultView||c.parentWindow||t)}};y=0;while((f=v[y++])&&!r.isPropagationStopped()){r.type=y>1?m:p.bindType||u;d=(e._data(f,"events")||{})[r.type]&&e._data(f,"handle");if(d){d.apply(f,o)};d=h&&f[h];if(d&&e.acceptData(f)&&d.apply&&d.apply(f,o)===!1){r.preventDefault()}};r.type=u;if(!a&&!r.isDefaultPrevented()){if((!p._default||p._default.apply(s.ownerDocument,o)===!1)&&!(u==="click"&&e.nodeName(s,"a"))&&e.acceptData(s)){if(h&&s[u]&&!e.isWindow(s)){c=s[h];if(c){s[h]=null};e.event.triggered=u;try{s[u]()}catch(l){};e.event.triggered=n;if(c){s[h]=c}}}};return r.result},dispatch:function(t){t=e.event.fix(t);var a,s,i,r,l,u=[],f=y.call(arguments),c=(e._data(this,"events")||{})[t.type]||[],o=e.event.special[t.type]||{};f[0]=t;t.delegateTarget=this;if(o.preDispatch&&o.preDispatch.call(this,t)===!1){return};u=e.event.handlers.call(this,t,c);a=0;while((r=u[a++])&&!t.isPropagationStopped()){t.currentTarget=r.elem;l=0;while((i=r.handlers[l++])&&!t.isImmediatePropagationStopped()){if(!t.namespace_re||t.namespace_re.test(i.namespace)){t.handleObj=i;t.data=i.data;s=((e.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,f);if(s!==n){if((t.result=s)===!1){t.preventDefault();t.stopPropagation()}}}}};if(o.postDispatch){o.postDispatch.call(this,t)};return t.result},handlers:function(t,i){var s,a,o,l,f=[],u=i.delegateCount,r=t.target;if(u&&r.nodeType&&(!t.button||t.type!=="click")){for(;r!=this;r=r.parentNode||this){if(r.nodeType===1&&(r.disabled!==!0||t.type!=="click")){o=[];for(l=0;l<u;l++){a=i[l];s=a.selector+" ";if(o[s]===n){o[s]=a.needsContext?e(s,this).index(r)>=0:e.find(s,this,null,[r]).length};if(o[s]){o.push(a)}};if(o.length){f.push({elem:r,handlers:o})}}}};if(u<i.length){f.push({elem:this,handlers:i.slice(u)})};return f},fix:function(t){if(t[e.expando]){return t};var s,a,l,r=t.type,o=t,n=this.fixHooks[r];if(!n){this.fixHooks[r]=n=qt.test(r)?this.mouseHooks:Mt.test(r)?this.keyHooks:{}};l=n.props?this.props.concat(n.props):this.props;t=new e.Event(o);s=l.length;while(s--){a=l[s];t[a]=o[a]};if(!t.target){t.target=o.srcElement||i};if(t.target.nodeType===3){t.target=t.target.parentNode};t.metaKey=!!t.metaKey;return n.filter?n.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){if(e.which==null){e.which=t.charCode!=null?t.charCode:t.keyCode};return e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,a,o,s=t.button,l=t.fromElement;if(e.pageX==null&&t.clientX!=null){a=e.target.ownerDocument||i;o=a.documentElement;r=a.body;e.pageX=t.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0);e.pageY=t.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)};if(!e.relatedTarget&&l){e.relatedTarget=l===e.target?t.toElement:l};if(!e.which&&s!==n){e.which=(s&1?1:(s&2?3:(s&4?2:0)))};return e}},special:{load:{noBubble:!0},click:{trigger:function(){if(e.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return!1}}},focus:{trigger:function(){if(this!==i.activeElement&&this.focus){try{this.focus();return!1}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===i.activeElement&&this.blur){this.blur();return!1}},delegateType:"focusout"},beforeunload:{postDispatch:function(e){if(e.result!==n){e.originalEvent.returnValue=e.result}}}},simulate:function(t,n,i,r){var o=e.extend(new e.Event(),i,{type:t,isSimulated:!0,originalEvent:{}});if(r){e.event.trigger(o,null,n)}
else{e.event.dispatch.call(n,o)};if(o.isDefaultPrevented()){i.preventDefault()}}};e.removeEvent=i.removeEventListener?function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,!1)}}:function(e,t,n){var i="on"+t;if(e.detachEvent){if(typeof e[i]===l){e[i]=null};e.detachEvent(i,n)}};e.Event=function(t,n){if(!(this instanceof e.Event)){return new e.Event(t,n)};if(t&&t.type){this.originalEvent=t;this.type=t.type;this.isDefaultPrevented=(t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault())?q:N}
else{this.type=t};if(n){e.extend(this,n)};this.timeStamp=t&&t.timeStamp||e.now();this[e.expando]=!0};e.Event.prototype={isDefaultPrevented:N,isPropagationStopped:N,isImmediatePropagationStopped:N,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=q;if(!e){return};if(e.preventDefault){e.preventDefault()}
else{e.returnValue=!1}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=q;if(!e){return};if(e.stopPropagation){e.stopPropagation()};e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=q;this.stopPropagation()}};e.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,o=this,i=t.relatedTarget,s=t.handleObj;if(!i||(i!==o&&!e.contains(o,i))){t.type=s.origType;r=s.handler.apply(this,arguments);t.type=n};return r}}});if(!e.support.submitBubbles){e.event.special.submit={setup:function(){if(e.nodeName(this,"form")){return!1};e.event.add(this,"click._submit keypress._submit",function(t){var r=t.target,i=e.nodeName(r,"input")||e.nodeName(r,"button")?r.form:n;if(i&&!e._data(i,"submitBubbles")){e.event.add(i,"submit._submit",function(e){e._submit_bubble=!0});e._data(i,"submitBubbles",!0)}})},postDispatch:function(t){if(t._submit_bubble){delete t._submit_bubble;if(this.parentNode&&!t.isTrigger){e.event.simulate("submit",this.parentNode,t,!0)}}},teardown:function(){if(e.nodeName(this,"form")){return!1};e.event.remove(this,"._submit")}}};if(!e.support.changeBubbles){e.event.special.change={setup:function(){if(V.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){e.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=!0}});e.event.add(this,"click._change",function(t){if(this._just_changed&&!t.isTrigger){this._just_changed=!1};e.event.simulate("change",this,t,!0)})};return!1};e.event.add(this,"beforeactivate._change",function(t){var n=t.target;if(V.test(n.nodeName)&&!e._data(n,"changeBubbles")){e.event.add(n,"change._change",function(t){if(this.parentNode&&!t.isSimulated&&!t.isTrigger){e.event.simulate("change",this.parentNode,t,!0)}});e._data(n,"changeBubbles",!0)}})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||(t.type!=="radio"&&t.type!=="checkbox")){return e.handleObj.handler.apply(this,arguments)}},teardown:function(){e.event.remove(this,"._change");return!V.test(this.nodeName)}}};if(!e.support.focusinBubbles){e.each({focus:"focusin",blur:"focusout"},function(t,n){var r=0,o=function(t){e.event.simulate(n,t.target,e.event.fix(t),!0)};e.event.special[n]={setup:function(){if(r++===0){i.addEventListener(t,o,!0)}},teardown:function(){if(--r===0){i.removeEventListener(t,o,!0)}}}})};e.fn.extend({on:function(t,i,r,o,s){var l,a;if(typeof t==="object"){if(typeof i!=="string"){r=r||i;i=n};for(l in t){this.on(l,i,r,t[l],s)};return this};if(r==null&&o==null){o=i;r=i=n}
else if(o==null){if(typeof i==="string"){o=r;r=n}
else{o=r;r=i;i=n}};if(o===!1){o=N}
else if(!o){return this};if(s===1){a=o;o=function(t){e().off(t);return a.apply(this,arguments)};o.guid=a.guid||(a.guid=e.guid++)};return this.each(function(){e.event.add(this,t,o,r,i)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(t,i,r){var o,s;if(t&&t.preventDefault&&t.handleObj){o=t.handleObj;e(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler);return this};if(typeof t==="object"){for(s in t){this.off(s,i,t[s])};return this};if(i===!1||typeof i==="function"){r=i;i=n};if(r===!1){r=N};return this.each(function(){e.event.remove(this,t,r,i)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(t,n){return this.each(function(){e.event.trigger(t,n,this)})},triggerHandler:function(t,n){var i=this[0];if(i){return e.event.trigger(t,n,i,!0)}}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(t,n){var T,j,i,D,K,R,N,L,C,u,f,c,d,k,H,A,W,o="sizzle"+-(new Date()),b=t.document,l={},h=0,ae=0,Z=V(),ee=V(),te=V(),g=typeof n,ne=1<<31,M=[],le=M.pop,E=M.push,S=M.slice,I=M.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++){if(this[t]===e){return t}};return-1},a="[\\x20\\t\\r\\n\\f]",x="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=x.replace("w","w#"),ue="([*^$|!~]?=)",re="\\["+a+"*("+x+")"+a+"*(?:"+ue+a+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ie+")|)|)"+a+"*\\]",z=":("+x+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+re.replace(3,8)+")*)|.*)\\)|)",q=new RegExp("^"+a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+a+"+$","g"),fe=new RegExp("^"+a+"*,"+a+"*"),ce=new RegExp("^"+a+"*([\\x20\\t\\r\\n\\f>+~])"+a+"*"),pe=new RegExp(z),de=new RegExp("^"+ie+"$"),F={"ID":new RegExp("^#("+x+")"),"CLASS":new RegExp("^\\.("+x+")"),"NAME":new RegExp("^\\[name=['\"]?("+x+")['\"]?\\]"),"TAG":new RegExp("^("+x.replace("w","w*")+")"),"ATTR":new RegExp("^"+re),"PSEUDO":new RegExp("^"+z),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+a+"*(even|odd|(([+-]|)(\\d*)n|)"+a+"*(?:([+-]|)"+a+"*(\\d+)|))"+a+"*\\)|)","i"),"needsContext":new RegExp("^"+a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+a+"*((?:-\\d)?\\d*)"+a+"*\\)|)(?=[^-]|$)","i")},X=/[\x20\t\r\n\f]*[+~]/,he=/^[^{]+\{\s*\[native code/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,ve=/'|\\/g,be=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,m=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,y=function(e,t){var n="0x"+t-0x10000;return n!==n?t:n<0?String.fromCharCode(n+0x10000):String.fromCharCode(n>>10|0xD800,n&0x3FF|0xDC00)};try{S.call(b.documentElement.childNodes,0)[0].nodeType}catch(s){S=function(e){var t,n=[];while((t=this[e++])){n.push(t)};return n}};function U(e){return he.test(e+"")};function V(){var e,t=[];return(e=function(n,r){if(t.push(n+=" ")>i.cacheLength){delete e[t.shift()]};return(e[n]=r)})};function p(e){e[o]=!0;return e};function v(e){var n=u.createElement("div");try{return e(n)}catch(t){return!1}finally{n=null}};function r(e,t,n,i){var g,s,a,p,m,h,y,f,x,v;if((t?t.ownerDocument||t:b)!==u){C(t)};t=t||u;n=n||[];if(!e||typeof e!=="string"){return n};if((p=t.nodeType)!==1&&p!==9){return[]};if(!c&&!i){if((g=ge.exec(e))){if((a=g[1])){if(p===9){s=t.getElementById(a);if(s&&s.parentNode){if(s.id===a){n.push(s);return n}}
else{return n}}
else{if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&A(t,s)&&s.id===a){n.push(s);return n}}}
else if(g[2]){E.apply(n,S.call(t.getElementsByTagName(e),0));return n}
else if((a=g[3])&&l.getByClassName&&t.getElementsByClassName){E.apply(n,S.call(t.getElementsByClassName(a),0));return n}};if(l.qsa&&!d.test(e)){y=!0;f=o;x=t;v=p===9&&e;if(p===1&&t.nodeName.toLowerCase()!=="object"){h=O(e);if((y=t.getAttribute("id"))){f=y.replace(ve,"\\$&")}
else{t.setAttribute("id",f)};f="[id='"+f+"'] ";m=h.length;while(m--){h[m]=f+B(h[m])};x=X.test(e)&&t.parentNode||t;v=h.join(",")};if(v){try{E.apply(n,S.call(x.querySelectorAll(v),0));return n}catch(r){}finally{if(!y){t.removeAttribute("id")}}}}};return Ce(e.replace(q,"$1"),t,n,i)};K=r.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1};C=r.setDocument=function(e){var t=e?e.ownerDocument||e:b;if(t===u||t.nodeType!==9||!t.documentElement){return u};u=t;f=t.documentElement;c=K(t);l.tagNameNoComments=v(function(e){e.appendChild(t.createComment(""));return!e.getElementsByTagName("*").length});l.attributes=v(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"});l.getByClassName=v(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return!1};e.lastChild.className="e";return e.getElementsByClassName("e").length===2});l.getByName=v(function(e){e.id=o+0;e.innerHTML="<a name='"+o+"'></a><div name='"+o+"'></div>";f.insertBefore(e,f.firstChild);var n=t.getElementsByName&&t.getElementsByName(o).length===2+t.getElementsByName(o+0).length;l.getIdNotName=!t.getElementById(o);f.removeChild(e);return n});i.attrHandle=v(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==g&&e.firstChild.getAttribute("href")==="#"})?{}:{"href":function(e){return e.getAttribute("href",2)},"type":function(e){return e.getAttribute("type")}};if(l.getIdNotName){i.find["ID"]=function(e,t){if(typeof t.getElementById!==g&&!c){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}};i.filter["ID"]=function(e){var t=e.replace(m,y);return function(e){return e.getAttribute("id")===t}}}
else{i.find["ID"]=function(e,t){if(typeof t.getElementById!==g&&!c){var i=t.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==g&&i.getAttributeNode("id").value===e?[i]:n:[]}};i.filter["ID"]=function(e){var t=e.replace(m,y);return function(e){var n=typeof e.getAttributeNode!==g&&e.getAttributeNode("id");return n&&n.value===t}}};i.find["TAG"]=l.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==g){return t.getElementsByTagName(e)}}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if(e==="*"){while((n=r[o++])){if(n.nodeType===1){i.push(n)}};return i};return r};i.find["NAME"]=l.getByName&&function(e,t){if(typeof t.getElementsByName!==g){return t.getElementsByName(name)}};i.find["CLASS"]=l.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==g&&!c){return t.getElementsByClassName(e)}};k=[];d=[":focus"];if((l.qsa=U(t.querySelectorAll))){v(function(e){e.innerHTML="<select><option selected=''></option></select>";if(!e.querySelectorAll("[selected]").length){d.push("\\["+a+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")};if(!e.querySelectorAll(":checked").length){d.push(":checked")}});v(function(e){e.innerHTML="<input type='hidden' i=''/>";if(e.querySelectorAll("[i^='']").length){d.push("[*^$]="+a+"*(?:\"\"|'')")};if(!e.querySelectorAll(":enabled").length){d.push(":enabled",":disabled")};e.querySelectorAll("*,:x");d.push(",.*:")})};if((l.matchesSelector=U((H=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector)))){v(function(e){l.disconnectedMatch=H.call(e,"div");H.call(e,"[s!='']:x");k.push("!=",z)})};d=new RegExp(d.join("|"));k=new RegExp(k.join("|"));A=U(f.contains)||f.compareDocumentPosition?function(e,t){var i=e.nodeType===9?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(i.contains?i.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))}:function(e,t){if(t){while((t=t.parentNode)){if(t===e){return!0}}};return!1};W=f.compareDocumentPosition?function(e,n){var i;if(e===n){N=!0;return 0};if((i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n))){if(i&1||e.parentNode&&e.parentNode.nodeType===11){if(e===t||A(b,e)){return-1};if(n===t||A(b,n)){return 1};return 0};return i&4?-1:1};return e.compareDocumentPosition?-1:1}:function(e,n){var i,r=0,a=e.parentNode,l=n.parentNode,o=[e],s=[n];if(e===n){N=!0;return 0}
else if(!a||!l){return e===t?-1:n===t?1:a?-1:l?1:0}
else if(a===l){return oe(e,n)};i=e;while((i=i.parentNode)){o.unshift(i)};i=n;while((i=i.parentNode)){s.unshift(i)}
while(o[r]===s[r]){r++};return r?oe(o[r],s[r]):o[r]===b?-1:s[r]===b?1:0};N=!1;[0,0].sort(W);l.detectDuplicates=N;return u};r.matches=function(e,t){return r(e,null,null,t)};r.matchesSelector=function(e,t){if((e.ownerDocument||e)!==u){C(e)};t=t.replace(be,"='$1']");if(l.matchesSelector&&!c&&(!k||!k.test(t))&&!d.test(t)){try{var i=H.call(e,t);if(i||l.disconnectedMatch||e.document&&e.document.nodeType!==11){return i}}catch(n){}};return r(t,u,null,[e]).length>0};r.contains=function(e,t){if((e.ownerDocument||e)!==u){C(e)};return A(e,t)};r.attr=function(e,t){var n;if((e.ownerDocument||e)!==u){C(e)};if(!c){t=t.toLowerCase()};if((n=i.attrHandle[t])){return n(e)};if(c||l.attributes){return e.getAttribute(t)};return((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null};r.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};r.uniqueSort=function(e){var i,r=[],t=1,n=0;N=!l.detectDuplicates;e.sort(W);if(N){for(;(i=e[t]);t++){if(i===e[t-1]){n=r.push(t)}}
while(n--){e.splice(r[n],1)}};return e};function oe(e,t){var n=t&&e,i=n&&(~t.sourceIndex||ne)-(~e.sourceIndex||ne);if(i){return i};if(n){while((n=n.nextSibling)){if(n===t){return-1}}};return e?1:-1};function xe(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}};function we(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}};function w(e){return p(function(t){t=+t;return p(function(n,i){var r,o=e([],n.length,t),s=o.length;while(s--){if(n[(r=o[s])]){n[r]=!(i[r]=n[r])}}})})};D=r.getText=function(e){var i,n="",r=0,t=e.nodeType;if(!t){for(;(i=e[r]);r++){n+=D(i)}}
else if(t===1||t===9||t===11){if(typeof e.textContent==="string"){return e.textContent}
else{for(e=e.firstChild;e;e=e.nextSibling){n+=D(e)}}}
else if(t===3||t===4){return e.nodeValue};return n};i=r.selectors={cacheLength:50,createPseudo:p,match:F,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(e){e[1]=e[1].replace(m,y);e[3]=(e[4]||e[5]||"").replace(m,y);if(e[2]==="~="){e[3]=" "+e[3]+" "};return e.slice(0,4)},"CHILD":function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){r.error(e[0])};e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}
else if(e[3]){r.error(e[0])};return e},"PSEUDO":function(e){var n,t=!e[5]&&e[2];if(F["CHILD"].test(e[0])){return null};if(e[4]){e[2]=e[4]}
else if(t&&pe.test(t)&&(n=O(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)){e[0]=e[0].slice(0,n);e[2]=t.slice(0,n)};return e.slice(0,3)}},filter:{"TAG":function(e){if(e==="*"){return function(){return!0}};e=e.replace(m,y).toLowerCase();return function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},"CLASS":function(e){var t=Z[e+" "];return t||(t=new RegExp("(^|"+a+")"+e+"("+a+"|$)"))&&Z(e,function(e){return t.test(e.className||(typeof e.getAttribute!==g&&e.getAttribute("class"))||"")})},"ATTR":function(e,t,n){return function(i){var o=r.attr(i,e);if(o==null){return t==="!="};if(!t){return!0};o+="";return t==="="?o===n:t==="!="?o!==n:t==="^="?n&&o.indexOf(n)===0:t==="*="?n&&o.indexOf(n)>-1:t==="$="?n&&o.slice(-n.length)===n:t==="~="?(" "+o+" ").indexOf(n)>-1:t==="|="?o===n||o.slice(0,n.length+1)===n+"-":!1}},"CHILD":function(e,t,n,i,r){var l=e.slice(0,3)!=="nth",a=e.slice(-4)!=="last",s=t==="of-type";return i===1&&r===0?function(e){return!!e.parentNode}:function(t,n,u){var p,v,f,c,d,m,y=l!==a?"nextSibling":"previousSibling",g=t.parentNode,x=s&&t.nodeName.toLowerCase(),b=!u&&!s;if(g){if(l){while(y){f=t;while((f=f[y])){if(s?f.nodeName.toLowerCase()===x:f.nodeType===1){return!1}};m=y=e==="only"&&!m&&"nextSibling"};return!0};m=[a?g.firstChild:g.lastChild];if(a&&b){v=g[o]||(g[o]={});p=v[e]||[];d=p[0]===h&&p[1];c=p[0]===h&&p[2];f=d&&g.childNodes[d];while((f=++d&&f&&f[y]||(c=d=0)||m.pop())){if(f.nodeType===1&&++c&&f===t){v[e]=[h,d,c];break}}}
else if(b&&(p=(t[o]||(t[o]={}))[e])&&p[0]===h){c=p[1]}
else{while((f=++d&&f&&f[y]||(c=d=0)||m.pop())){if((s?f.nodeName.toLowerCase()===x:f.nodeType===1)&&++c){if(b){(f[o]||(f[o]={}))[e]=[h,c]};if(f===t){break}}}};c-=r;return c===i||(c%i===0&&c/i>=0)}}},"PSEUDO":function(e,t){var s,n=i.pseudos[e]||i.setFilters[e.toLowerCase()]||r.error("unsupported pseudo: "+e);if(n[o]){return n(t)};if(n.length>1){s=[e,e,"",t];return i.setFilters.hasOwnProperty(e.toLowerCase())?p(function(e,i){var r,o=n(e,t),s=o.length;while(s--){r=I.call(e,o[s]);e[r]=!(i[r]=o[s])}}):function(e){return n(e,0,s)}};return n}},pseudos:{"not":p(function(e){var n=[],i=[],t=R(e.replace(q,"$1"));return t[o]?p(function(e,n,i,r){var s,a=t(e,null,r,[]),o=e.length;while(o--){if((s=a[o])){e[o]=!(n[o]=s)}}}):function(e,r,o){n[0]=e;t(n,null,o,i);return!i.pop()}}),"has":p(function(e){return function(t){return r(e,t).length>0}}),"contains":p(function(e){return function(t){return(t.textContent||t.innerText||D(t)).indexOf(e)>-1}}),"lang":p(function(e){if(!de.test(e||"")){r.error("unsupported lang: "+e)};e=e.replace(m,y).toLowerCase();return function(t){var n;do{if((n=c?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)){n=n.toLowerCase();return n===e||n.indexOf(e+"-")===0}}
while((t=t.parentNode)&&t.nodeType===1);return!1}}),"target":function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},"root":function(e){return e===f},"focus":function(e){return e===u.activeElement&&(!u.hasFocus||u.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},"enabled":function(e){return e.disabled===!1},"disabled":function(e){return e.disabled===!0},"checked":function(e){var t=e.nodeName.toLowerCase();return(t==="input"&&!!e.checked)||(t==="option"&&!!e.selected)},"selected":function(e){if(e.parentNode){e.parentNode.selectedIndex};return e.selected===!0},"empty":function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return!1}};return!0},"parent":function(e){return!i.pseudos["empty"](e)},"header":function(e){return ye.test(e.nodeName)},"input":function(e){return me.test(e.nodeName)},"button":function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},"text":function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},"first":w(function(){return[0]}),"last":w(function(e,t){return[t-1]}),"eq":w(function(e,t,n){return[n<0?n+t:n]}),"even":w(function(e,t){var n=0;for(;n<t;n+=2){e.push(n)};return e}),"odd":w(function(e,t){var n=1;for(;n<t;n+=2){e.push(n)};return e}),"lt":w(function(e,t,n){var i=n<0?n+t:n;for(;--i>=0;){e.push(i)};return e}),"gt":w(function(e,t,n){var i=n<0?n+t:n;for(;++i<t;){e.push(i)};return e})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){i.pseudos[T]=xe(T)};for(T in{submit:!0,reset:!0}){i.pseudos[T]=we(T)};function O(e,t){var s,o,l,a,n,u,f,c=ee[e+" "];if(c){return t?0:c.slice(0)};n=e;u=[];f=i.preFilter;while(n){if(!s||(o=fe.exec(n))){if(o){n=n.slice(o[0].length)||n};u.push(l=[])};s=!1;if((o=ce.exec(n))){s=o.shift();l.push({value:s,type:o[0].replace(q," ")});n=n.slice(s.length)};for(a in i.filter){if((o=F[a].exec(n))&&(!f[a]||(o=f[a](o)))){s=o.shift();l.push({value:s,type:a,matches:o});n=n.slice(s.length)}};if(!s){break}};return t?n.length:n?r.error(e):ee(e,u).slice(0)};function B(e){var t=0,i=e.length,n="";for(;t<i;t++){n+=e[t].value};return n};function Y(e,t,n){var i=t.dir,r=n&&i==="parentNode",s=ae++;return t.first?function(t,n,o){while((t=t[i])){if(t.nodeType===1||r){return e(t,n,o)}}}:function(t,n,a){var u,l,f,c=h+" "+s;if(a){while((t=t[i])){if(t.nodeType===1||r){if(e(t,n,a)){return!0}}}}
else{while((t=t[i])){if(t.nodeType===1||r){f=t[o]||(t[o]={});if((l=f[i])&&l[0]===c){if((u=l[1])===!0||u===j){return u===!0}}
else{l=f[i]=[c];l[1]=e(t,n,a)||j;if(l[1]===!0){return!0}}}}}}};function J(e){return e.length>1?function(t,n,i){var r=e.length;while(r--){if(!e[r](t,n,i)){return!1}};return!0}:e[0]};function P(e,t,n,i,r){var s,a=[],o=0,l=e.length,u=t!=null;for(;o<l;o++){if((s=e[o])){if(!n||n(s,i,r)){a.push(s);if(u){t.push(o)}}}};return a};function G(e,t,n,i,r,s){if(i&&!i[o]){i=G(i)};if(r&&!r[o]){r=G(r,s)};return p(function(o,s,a,l){var c,f,p,g=[],h=[],m=s.length,y=o||Ne(t||"*",a.nodeType?[a]:a,[]),d=e&&(o||!t)?P(y,g,e,a,l):y,u=n?r||(o?e:m||i)?[]:s:d;if(n){n(d,u,a,l)};if(i){c=P(u,h);i(c,[],a,l);f=c.length;while(f--){if((p=c[f])){u[h[f]]=!(d[h[f]]=p)}}};if(o){if(r||e){if(r){c=[];f=u.length;while(f--){if((p=u[f])){c.push((d[f]=p))}};r(null,(u=[]),c,l)};f=u.length;while(f--){if((p=u[f])&&(c=r?I.call(o,p):g[f])>-1){o[c]=!(s[c]=p)}}}}
else{u=P(u===s?u.splice(m,u.length):u);if(r){r(null,s,u,l)}
else{E.apply(s,u)}}})};function Q(e){var l,r,n,a=e.length,u=i.relative[e[0].type],f=u||i.relative[" "],t=u?1:0,c=Y(function(e){return e===l},f,!0),p=Y(function(e){return I.call(l,e)>-1},f,!0),s=[function(e,t,n){return(!u&&(n||t!==L))||((l=t).nodeType?c(e,t,n):p(e,t,n))}];for(;t<a;t++){if((r=i.relative[e[t].type])){s=[Y(J(s),r)]}
else{r=i.filter[e[t].type].apply(null,e[t].matches);if(r[o]){n=++t;for(;n<a;n++){if(i.relative[e[n].type]){break}};return G(t>1&&J(s),t>1&&B(e.slice(0,t-1)).replace(q,"$1"),r,t<n&&Q(e.slice(t,n)),n<a&&Q((e=e.slice(n))),n<a&&B(e))};s.push(r)}};return J(s)};function Te(e,t){var o=0,n=t.length>0,s=e.length>0,a=function(a,l,f,c,p){var g,b,y,m=[],v=0,d="0",x=a&&[],w=p!=null,T=L,C=a||s&&i.find["TAG"]("*",p&&l.parentNode||l),N=(h+=T==null?1:Math.random()||0.1);if(w){L=l!==u&&l;j=o};for(;(g=C[d])!=null;d++){if(s&&g){b=0;while((y=e[b++])){if(y(g,l,f)){c.push(g);break}};if(w){h=N;j=++o}};if(n){if((g=!y&&g)){v--};if(a){x.push(g)}}};v+=d;if(n&&d!==v){b=0;while((y=t[b++])){y(x,m,l,f)};if(a){if(v>0){while(d--){if(!(x[d]||m[d])){m[d]=le.call(c)}}};m=P(m)};E.apply(c,m);if(w&&!a&&m.length>0&&(v+t.length)>1){r.uniqueSort(c)}};if(w){h=N;L=T};return x};return n?p(a):a};R=r.compile=function(e,t){var i,r=[],s=[],n=te[e+" "];if(!n){if(!t){t=O(e)};i=t.length;while(i--){n=Q(t[i]);if(n[o]){r.push(n)}
else{s.push(n)}};n=te(e,Te(s,r))};return n};function Ne(e,t,n){var i=0,o=t.length;for(;i<o;i++){r(e,t[i],n)};return n};function Ce(e,t,n,r){var a,o,s,u,f,l=O(e);if(!r){if(l.length===1){o=l[0]=l[0].slice(0);if(o.length>2&&(s=o[0]).type==="ID"&&t.nodeType===9&&!c&&i.relative[o[1].type]){t=i.find["ID"](s.matches[0].replace(m,y),t)[0];if(!t){return n};e=e.slice(o.shift().value.length)};a=F["needsContext"].test(e)?0:o.length;while(a--){s=o[a];if(i.relative[(u=s.type)]){break};if((f=i.find[u])){if((r=f(s.matches[0].replace(m,y),X.test(o[0].type)&&t.parentNode||t))){o.splice(a,1);e=r.length&&B(o);if(!e){E.apply(n,S.call(r,0));return n};break}}}}};R(e,l)(r,t,c,n,X.test(e));return n};i.pseudos["nth"]=i.pseudos["eq"];function se(){};i.filters=se.prototype=i.pseudos;i.setFilters=new se();C();r.attr=e.attr;e.find=r;e.expr=r.selectors;e.expr[":"]=e.expr.pseudos;e.unique=r.uniqueSort;e.text=r.getText;e.isXMLDoc=r.isXML;e.contains=r.contains})(t);var jt=/Until$/,Dt=/^(?:parents|prev(?:Until|All))/,Lt=/^.[^:#\[\.,]*$/,Te=e.expr.match.needsContext,Ht={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({find:function(t){var n,i,o,r=this.length;if(typeof t!=="string"){o=this;return this.pushStack(e(t).filter(function(){for(n=0;n<r;n++){if(e.contains(o[n],this)){return!0}}}))};i=[];for(n=0;n<r;n++){e.find(t,this[n],i)};i=this.pushStack(r>1?e.unique(i):i);i.selector=(this.selector?this.selector+" ":"")+t;return i},has:function(t){var n,i=e(t,this),r=i.length;return this.filter(function(){for(n=0;n<r;n++){if(e.contains(this,i[n])){return!0}}})},not:function(e){return this.pushStack(Be(this,e,!1))},filter:function(e){return this.pushStack(Be(this,e,!0))},is:function(t){return!!t&&(typeof t==="string"?Te.test(t)?e(t,this.context).index(this[0])>=0:e.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,n){var i,o=0,a=this.length,r=[],s=Te.test(t)||typeof t!=="string"?e(t,n||this.context):0;for(;o<a;o++){i=this[o];while(i&&i.ownerDocument&&i!==n&&i.nodeType!==11){if(s?s.index(i)>-1:e.find.matchesSelector(i,t)){r.push(i);break};i=i.parentNode}};return this.pushStack(r.length>1?e.unique(r):r)},index:function(t){if(!t){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1};if(typeof t==="string"){return e.inArray(this[0],e(t))};return e.inArray(t.jquery?t[0]:t,this)},add:function(t,n){var i=typeof t==="string"?e(t,n):e.makeArray(t&&t.nodeType?[t]:t),r=e.merge(this.get(),i);return this.pushStack(e.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});e.fn.andSelf=e.fn.addBack;function Oe(e,t){do{e=e[t]}
while(e&&e.nodeType!==1);return e};e.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(t){return e.dir(t,"parentNode")},parentsUntil:function(t,n,i){return e.dir(t,"parentNode",i)},next:function(e){return Oe(e,"nextSibling")},prev:function(e){return Oe(e,"previousSibling")},nextAll:function(t){return e.dir(t,"nextSibling")},prevAll:function(t){return e.dir(t,"previousSibling")},nextUntil:function(t,n,i){return e.dir(t,"nextSibling",i)},prevUntil:function(t,n,i){return e.dir(t,"previousSibling",i)},siblings:function(t){return e.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return e.sibling(t.firstChild)},contents:function(t){return e.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:e.merge([],t.childNodes)}},function(t,n){e.fn[t]=function(i,r){var o=e.map(this,n,i);if(!jt.test(t)){r=i};if(r&&typeof r==="string"){o=e.filter(r,o)};o=this.length>1&&!Ht[t]?e.unique(o):o;if(this.length>1&&Dt.test(t)){o=o.reverse()};return this.pushStack(o)}});e.extend({filter:function(t,n,i){if(i){t=":not("+t+")"};return n.length===1?e.find.matchesSelector(n[0],t)?[n[0]]:[]:e.find.matches(t,n)},dir:function(t,i,r){var s=[],o=t[i];while(o&&o.nodeType!==9&&(r===n||o.nodeType!==1||!e(o).is(r))){if(o.nodeType===1){s.push(o)};o=o[i]};return s},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){n.push(e)}};return n}});function Be(t,n,i){n=n||0;if(e.isFunction(n)){return e.grep(t,function(e,t){var r=!!n.call(e,t,e);return r===i})}
else if(n.nodeType){return e.grep(t,function(e){return(e===n)===i})}
else if(typeof n==="string"){var r=e.grep(t,function(e){return e.nodeType===1});if(Lt.test(n)){return e.filter(n,r,!i)}
else{n=e.filter(n,r)}};return e.grep(t,function(t){return(e.inArray(t,n)>=0)===i})};function Pe(e){var n=me.split("|"),t=e.createDocumentFragment();if(t.createElement){while(n.length){t.createElement(n.pop())}};return t};var me="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Tt=/ jQuery\d+="(?:null|\d+)"/g,ye=new RegExp("<(?:"+me+")[\\s/>]","i"),z=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,be=/<([\w:]+)/,xe=/<tbody/i,Nt=/<|&#?\w+;/,Ct=/<(?:script|style|link)/i,X=/^(?:checkbox|radio)$/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,we=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,a={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:e.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=Pe(i),U=At.appendChild(i.createElement("div"));a.optgroup=a.option;a.tbody=a.tfoot=a.colgroup=a.caption=a.thead;a.th=a.td;e.fn.extend({text:function(t){return e.access(this,function(t){return t===n?e.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(e.isFunction(t)){return this.each(function(n){e(this).wrapAll(t.call(this,n))})};if(this[0]){var n=e(t,this[0].ownerDocument).eq(0).clone(!0);if(this[0].parentNode){n.insertBefore(this[0])};n.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1){e=e.firstChild};return e}).append(this)};return this},wrapInner:function(t){if(e.isFunction(t)){return this.each(function(n){e(this).wrapInner(t.call(this,n))})};return this.each(function(){var n=e(this),i=n.contents();if(i.length){i.wrapAll(t)}
else{n.append(t)}})},wrap:function(t){var n=e.isFunction(t);return this.each(function(i){e(this).wrapAll(n?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){if(!e.nodeName(this,"body")){e(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,!0,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,!0,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(e,this.firstChild)}})},before:function(){return this.domManip(arguments,!1,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,!1,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(t,n){var i,r=0;for(;(i=this[r])!=null;r++){if(!t||e.filter(t,[i]).length>0){if(!n&&i.nodeType===1){e.cleanData(o(i))};if(i.parentNode){if(n&&e.contains(i.ownerDocument,i)){ne(o(i,"script"))};i.parentNode.removeChild(i)}}};return this},empty:function(){var t,n=0;for(;(t=this[n])!=null;n++){if(t.nodeType===1){e.cleanData(o(t,!1))}
while(t.firstChild){t.removeChild(t.firstChild)};if(t.options&&e.nodeName(t,"select")){t.options.length=0}};return this},clone:function(t,n){t=t==null?!1:t;n=n==null?t:n;return this.map(function(){return e.clone(this,t,n)})},html:function(t){return e.access(this,function(t){var r=this[0]||{},s=0,l=this.length;if(t===n){return r.nodeType===1?r.innerHTML.replace(Tt,""):n};if(typeof t==="string"&&!Ct.test(t)&&(e.support.htmlSerialize||!ye.test(t))&&(e.support.leadingWhitespace||!z.test(t))&&!a[(be.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(ve,"<$1></$2>");try{for(;s<l;s++){r=this[s]||{};if(r.nodeType===1){e.cleanData(o(r,!1));r.innerHTML=t}};r=0}catch(i){}};if(r){this.empty().append(t)}},null,t,arguments.length)},replaceWith:function(t){var n=e.isFunction(t);if(!n&&typeof t!=="string"){t=e(t).not(this).detach()};return this.domManip([t],!0,function(t){var i=this.nextSibling,n=this.parentNode;if(n){e(this).remove();n.insertBefore(t,i)}})},detach:function(e){return this.remove(e,!0)},domManip:function(t,i,r){t=je.apply([],t);var f,s,c,l,h,u,a=0,p=this.length,m=this,y=p-1,d=t[0],g=e.isFunction(d);if(g||!(p<=1||typeof d!=="string"||e.support.checkClone||!kt.test(d))){return this.each(function(e){var o=m.eq(e);if(g){t[0]=d.call(this,e,i?o.html():n)};o.domManip(t,i,r)})};if(p){u=e.buildFragment(t,this[0].ownerDocument,!1,this);f=u.firstChild;if(u.childNodes.length===1){u=f};if(f){i=i&&e.nodeName(f,"tr");l=e.map(o(u,"script"),Re);c=l.length;for(;a<p;a++){s=u;if(a!==y){s=e.clone(s,!0,!0);if(c){e.merge(l,o(s,"script"))}};r.call(i&&e.nodeName(this[a],"table")?nn(this[a],"tbody"):this[a],s,a)};if(c){h=l[l.length-1].ownerDocument;e.map(l,We);for(a=0;a<c;a++){s=l[a];if(we.test(s.type||"")&&!e._data(s,"globalEval")&&e.contains(h,s)){if(s.src){e.ajax({url:s.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}
else{e.globalEval((s.text||s.textContent||s.innerHTML||"").replace(St,""))}}}};u=f=null}};return this}});function nn(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))};function Re(e){var t=e.getAttributeNode("type");e.type=(t&&t.specified)+"/"+e.type;return e};function We(e){var t=Et.exec(e.type);if(t){e.type=t[1]}
else{e.removeAttribute("type")};return e};function ne(t,n){var r,i=0;for(;(r=t[i])!=null;i++){e._data(r,"globalEval",!n||e._data(n[i],"globalEval"))}};function Ie(t,n){if(n.nodeType!==1||!e.hasData(t)){return};var r,o,a,l=e._data(t),i=e._data(n,l),s=l.events;if(s){delete i.handle;i.events={};for(r in s){for(o=0,a=s[r].length;o<a;o++){e.event.add(n,r,s[r][o])}}};if(i.data){i.data=e.extend({},i.data)}};function rn(t,n){var i,o,r;if(n.nodeType!==1){return};i=n.nodeName.toLowerCase();if(!e.support.noCloneEvent&&n[e.expando]){r=e._data(n);for(o in r.events){e.removeEvent(n,o,r.handle)};n.removeAttribute(e.expando)};if(i==="script"&&n.text!==t.text){Re(n).text=t.text;We(n)}
else if(i==="object"){if(n.parentNode){n.outerHTML=t.outerHTML};if(e.support.html5Clone&&(t.innerHTML&&!e.trim(n.innerHTML))){n.innerHTML=t.innerHTML}}
else if(i==="input"&&X.test(t.type)){n.defaultChecked=n.checked=t.checked;if(n.value!==t.value){n.value=t.value}}
else if(i==="option"){n.defaultSelected=n.selected=t.defaultSelected}
else if(i==="input"||i==="textarea"){n.defaultValue=t.defaultValue}};e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(t){var r,i=0,o=[],s=e(t),a=s.length-1;for(;i<=a;i++){r=i===a?this:this.clone(!0);e(s[i])[n](r);K.apply(o,r.get())};return this.pushStack(o)}});function o(t,i){var a,s,u=0,r=typeof t.getElementsByTagName!==l?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==l?t.querySelectorAll(i||"*"):n;if(!r){for(r=[],a=t.childNodes||t;(s=a[u])!=null;u++){if(!i||e.nodeName(s,i)){r.push(s)}
else{e.merge(r,o(s,i))}}};return i===n||i&&e.nodeName(t,i)?e.merge([t],r):r};function on(e){if(X.test(e.type)){e.defaultChecked=e.checked}};e.extend({clone:function(t,n,i){var r,u,a,s,l,f=e.contains(t.ownerDocument,t);if(e.support.html5Clone||e.isXMLDoc(t)||!ye.test("<"+t.nodeName+">")){a=t.cloneNode(!0)}
else{U.innerHTML=t.outerHTML;U.removeChild(a=U.firstChild)};if((!e.support.noCloneEvent||!e.support.noCloneChecked)&&(t.nodeType===1||t.nodeType===11)&&!e.isXMLDoc(t)){r=o(a);l=o(t);for(s=0;(u=l[s])!=null;++s){if(r[s]){rn(u,r[s])}}};if(n){if(i){l=l||o(t);r=r||o(a);for(s=0;(u=l[s])!=null;s++){Ie(u,r[s])}}
else{Ie(t,a)}};r=o(a,"script");if(r.length>0){ne(r,!f&&o(t,"script"))};r=l=u=null;return a},buildFragment:function(t,n,i,r){var u,s,m,l,h,g,c,y=t.length,p=Pe(n),f=[],d=0;for(;d<y;d++){s=t[d];if(s||s===0){if(e.type(s)==="object"){e.merge(f,s.nodeType?[s]:s)}
else if(!Nt.test(s)){f.push(n.createTextNode(s))}
else{l=l||p.appendChild(n.createElement("div"));h=(be.exec(s)||["",""])[1].toLowerCase();c=a[h]||a._default;l.innerHTML=c[1]+s.replace(ve,"<$1></$2>")+c[2];u=c[0];while(u--){l=l.lastChild};if(!e.support.leadingWhitespace&&z.test(s)){f.push(n.createTextNode(z.exec(s)[0]))};if(!e.support.tbody){s=h==="table"&&!xe.test(s)?l.firstChild:c[1]==="<table>"&&!xe.test(s)?l:0;u=s&&s.childNodes.length;while(u--){if(e.nodeName((g=s.childNodes[u]),"tbody")&&!g.childNodes.length){s.removeChild(g)}}};e.merge(f,l.childNodes);l.textContent="";while(l.firstChild){l.removeChild(l.firstChild)};l=p.lastChild}}};if(l){p.removeChild(l)};if(!e.support.appendChecked){e.grep(o(f,"input"),on)};d=0;while((s=f[d++])){if(r&&e.inArray(s,r)!==-1){continue};m=e.contains(s.ownerDocument,s);l=o(p.appendChild(s),"script");if(m){ne(l)};if(i){u=0;while((s=l[u++])){if(we.test(s.type||"")){i.push(s)}}}};l=null;return p},cleanData:function(t,n){var i,s,r,o,f=0,a=e.expando,u=e.cache,c=e.support.deleteExpando,p=e.event.special;for(;(i=t[f])!=null;f++){if(n||e.acceptData(i)){r=i[a];o=r&&u[r];if(o){if(o.events){for(s in o.events){if(p[s]){e.event.remove(i,s)}
else{e.removeEvent(i,s,o.handle)}}};if(u[r]){delete u[r];if(c){delete i[a]}
else if(typeof i.removeAttribute!==l){i.removeAttribute(a)}
else{i[a]=null};T.push(r)}}}}}});var k,d,h,I=/alpha\([^)]*\)/i,mt=/opacity\s*=\s*([^)]*)/,yt=/^(top|right|bottom|left)$/,vt=/^(none|table(?!-c[ea]).+)/,pe=/^margin/,bt=new RegExp("^("+M+")(.*)$","i"),D=new RegExp("^("+M+")(?!px)[a-z%]+$","i"),xt=new RegExp("^([+-])=("+M+")","i"),de={BODY:"block"},wt={position:"absolute",visibility:"hidden",display:"block"},he={letterSpacing:0,fontWeight:400},g=["Top","Right","Bottom","Left"],ge=["Webkit","O","Moz","ms"];function ze(e,t){if(t in e){return t};var i=t.charAt(0).toUpperCase()+t.slice(1),r=t,n=ge.length;while(n--){t=ge[n]+i;if(t in e){return t}};return r};function S(t,n){t=n||t;return e.css(t,"display")==="none"||!e.contains(t.ownerDocument,t)};function Xe(t,n){var o,i,a,s=[],r=0,l=t.length;for(;r<l;r++){i=t[r];if(!i.style){continue};s[r]=e._data(i,"olddisplay");o=i.style.display;if(n){if(!s[r]&&o==="none"){i.style.display=""};if(i.style.display===""&&S(i)){s[r]=e._data(i,"olddisplay",Je(i.nodeName))}}
else{if(!s[r]){a=S(i);if(o&&o!=="none"||!a){e._data(i,"olddisplay",a?o:e.css(i,"display"))}}}};for(r=0;r<l;r++){i=t[r];if(!i.style){continue};if(!n||i.style.display==="none"||i.style.display===""){i.style.display=n?s[r]||"":"none"}};return t};e.fn.extend({css:function(t,i){return e.access(this,function(t,i,r){var s,a,l={},o=0;if(e.isArray(i)){a=d(t);s=i.length;for(;o<s;o++){l[i[o]]=e.css(t,i[o],!1,a)};return l};return r!==n?e.style(t,i,r):e.css(t,i)},t,i,arguments.length>1)},show:function(){return Xe(this,!0)},hide:function(){return Xe(this)},toggle:function(t){var n=typeof t==="boolean";return this.each(function(){if(n?t:S(this)){e(this).show()}
else{e(this).hide()}})}});e.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=h(e,"opacity");return n===""?"1":n}}}},cssNumber:{"columnCount":!0,"fillOpacity":!0,"fontWeight":!0,"lineHeight":!0,"opacity":!0,"orphans":!0,"widows":!0,"zIndex":!0,"zoom":!0},cssProps:{"float":e.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,r,o){if(!t||t.nodeType===3||t.nodeType===8||!t.style){return};var l,u,a,f=e.camelCase(i),c=t.style;i=e.cssProps[f]||(e.cssProps[f]=ze(c,f));a=e.cssHooks[i]||e.cssHooks[f];if(r!==n){u=typeof r;if(u==="string"&&(l=xt.exec(r))){r=(l[1]+1)*l[2]+parseFloat(e.css(t,i));u="number"};if(r==null||u==="number"&&isNaN(r)){return};if(u==="number"&&!e.cssNumber[f]){r+="px"};if(!e.support.clearCloneStyle&&r===""&&i.indexOf("background")===0){c[i]="inherit"};if(!a||!("set" in a)||(r=a.set(t,r,o))!==n){try{c[i]=r}catch(s){}}}
else{if(a&&"get" in a&&(l=a.get(t,!1,o))!==n){return l};return c[i]}},css:function(t,i,r,o){var u,s,a,l=e.camelCase(i);i=e.cssProps[l]||(e.cssProps[l]=ze(t.style,l));a=e.cssHooks[i]||e.cssHooks[l];if(a&&"get" in a){s=a.get(t,!0,r)};if(s===n){s=h(t,i,o)};if(s==="normal"&&i in he){s=he[i]};if(r===""||r){u=parseFloat(s);return r===!0||e.isNumeric(u)?u||0:s};return s},swap:function(e,t,n,i){var o,r,s={};for(r in t){s[r]=e.style[r];e.style[r]=t[r]};o=n.apply(e,i||[]);for(r in t){e.style[r]=s[r]};return o}});if(t.getComputedStyle){d=function(e){return t.getComputedStyle(e,null)};h=function(t,i,r){var l,u,f,a=r||d(t),s=a?a.getPropertyValue(i)||a[i]:n,o=t.style;if(a){if(s===""&&!e.contains(t.ownerDocument,t)){s=e.style(t,i)};if(D.test(s)&&pe.test(i)){l=o.width;u=o.minWidth;f=o.maxWidth;o.minWidth=o.maxWidth=o.width=s;s=a.width;o.width=l;o.minWidth=u;o.maxWidth=f}};return s}}
else if(i.documentElement.currentStyle){d=function(e){return e.currentStyle};h=function(e,t,i){var l,s,a,u=i||d(e),r=u?u[t]:n,o=e.style;if(r==null&&o&&o[t]){r=o[t]};if(D.test(r)&&!yt.test(t)){l=o.left;s=e.runtimeStyle;a=s&&s.left;if(a){s.left=e.currentStyle.left};o.left=t==="fontSize"?"1em":r;r=o.pixelLeft+"px";o.left=l;if(a){s.left=a}};return r===""?"auto":r}};function Ue(e,t,n){var i=bt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t};function Ve(t,n,i,r,o){var s=i===(r?"border":"content")?4:n==="width"?1:0,a=0;for(;s<4;s+=2){if(i==="margin"){a+=e.css(t,i+g[s],!0,o)};if(r){if(i==="content"){a-=e.css(t,"padding"+g[s],!0,o)};if(i!=="margin"){a-=e.css(t,"border"+g[s]+"Width",!0,o)}}
else{a+=e.css(t,"padding"+g[s],!0,o);if(i!=="padding"){a+=e.css(t,"border"+g[s]+"Width",!0,o)}}};return a};function Ye(t,n,i){var s=!0,r=n==="width"?t.offsetWidth:t.offsetHeight,o=d(t),a=e.support.boxSizing&&e.css(t,"boxSizing",!1,o)==="border-box";if(r<=0||r==null){r=h(t,n,o);if(r<0||r==null){r=t.style[n]};if(D.test(r)){return r};s=a&&(e.support.boxSizingReliable||r===t.style[n]);r=parseFloat(r)||0};return(r+Ve(t,n,i||(a?"border":"content"),s,o))+"px"};function Je(t){var r=i,n=de[t];if(!n){n=Ge(t,r);if(n==="none"||!n){k=(k||e("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(r.documentElement);r=(k[0].contentWindow||k[0].contentDocument).document;r.write("<!doctype html><html><body>");r.close();n=Ge(t,r);k.detach()};de[t]=n};return n};function Ge(t,n){var i=e(n.createElement(t)).appendTo(n.body),r=e.css(i[0],"display");i.remove();return r};e.each(["height","width"],function(t,n){e.cssHooks[n]={get:function(t,i,r){if(i){return t.offsetWidth===0&&vt.test(e.css(t,"display"))?e.swap(t,wt,function(){return Ye(t,n,r)}):Ye(t,n,r)}},set:function(t,i,r){var o=r&&d(t);return Ue(t,i,r?Ve(t,n,r,e.support.boxSizing&&e.css(t,"boxSizing",!1,o)==="border-box",o):0)}}});if(!e.support.opacity){e.cssHooks.opacity={get:function(e,t){return mt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":t?"1":""},set:function(t,n){var i=t.style,r=t.currentStyle,s=e.isNumeric(n)?"alpha(opacity="+n*100+")":"",o=r&&r.filter||i.filter||"";i.zoom=1;if((n>=1||n==="")&&e.trim(o.replace(I,""))===""&&i.removeAttribute){i.removeAttribute("filter");if(n===""||r&&!r.filter){return}};i.filter=I.test(o)?o.replace(I,s):o+" "+s}}};e(function(){if(!e.support.reliableMarginRight){e.cssHooks.marginRight={get:function(t,n){if(n){return e.swap(t,{"display":"inline-block"},h,[t,"marginRight"])}}}};if(!e.support.pixelPosition&&e.fn.position){e.each(["top","left"],function(t,n){e.cssHooks[n]={get:function(t,i){if(i){i=h(t,n);return D.test(i)?e(t).position()[n]+"px":i}}}})}});if(e.expr&&e.expr.filters){e.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||(!e.support.reliableHiddenOffsets&&((t.style&&t.style.display)||e.css(t,"display"))==="none")};e.expr.filters.visible=function(t){return!e.expr.filters.hidden(t)}};e.each({margin:"",padding:"",border:"Width"},function(t,n){e.cssHooks[t+n]={expand:function(e){var i=0,o={},r=typeof e==="string"?e.split(" "):[e];for(;i<4;i++){o[t+g[i]+n]=r[i]||r[i-2]||r[0]};return o}};if(!pe.test(t)){e.cssHooks[t+n].set=Ue}});var pt=/%20/g,dt=/\[\]$/,ce=/\r?\n/g,ht=/^(?:submit|button|image|reset|file)$/i,gt=/^(?:input|select|textarea|keygen)/i;e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=e.prop(this,"elements");return t?e.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!e(this).is(":disabled")&&gt.test(this.nodeName)&&!ht.test(t)&&(this.checked||!X.test(t))}).map(function(t,n){var i=e(this).val();return i==null?null:e.isArray(i)?e.map(i,function(e){return{name:n.name,value:e.replace(ce,"\r\n")}}):{name:n.name,value:i.replace(ce,"\r\n")}}).get()}});e.param=function(t,i){var r,o=[],s=function(t,n){n=e.isFunction(n)?n():(n==null?"":n);o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)};if(i===n){i=e.ajaxSettings&&e.ajaxSettings.traditional};if(e.isArray(t)||(t.jquery&&!e.isPlainObject(t))){e.each(t,function(){s(this.name,this.value)})}
else{for(r in t){ie(r,t[r],i,s)}};return o.join("&").replace(pt,"+")};function ie(t,n,i,r){var o;if(e.isArray(n)){e.each(n,function(e,n){if(i||dt.test(t)){r(t,n)}
else{ie(t+"["+(typeof n==="object"?e:"")+"]",n,i,r)}})}
else if(!i&&e.type(n)==="object"){for(o in n){ie(t+"["+o+"]",n[o],i,r)}}
else{r(t,n)}};e.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(t,n){e.fn[n]=function(e,t){return arguments.length>0?this.on(n,null,e,t):this.trigger(n)}});e.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var p,f,P=e.now(),R=/\?/,at=/#.*$/,se=/([?&])_=[^&]*/,lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ft=/^(?:GET|HEAD)$/,ct=/^\/\//,ae=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,le=e.fn.load,ue={},W={},fe="*/".concat("*");try{f=Wt.href}catch(r){f=i.createElement("a");f.href="";f=f.href};p=ae.exec(f.toLowerCase())||[];function Qe(t){return function(n,i){if(typeof n!=="string"){i=n;n="*"};var r,o=0,s=n.toLowerCase().match(u)||[];if(e.isFunction(i)){while((r=s[o++])){if(r[0]==="+"){r=r.slice(1)||"*";(t[r]=t[r]||[]).unshift(i)}
else{(t[r]=t[r]||[]).push(i)}}}}};function Ke(t,n,i,r){var o={},a=(t===W);function s(l){var u;o[l]=!0;e.each(t[l]||[],function(e,t){var l=t(n,i,r);if(typeof l==="string"&&!a&&!o[l]){n.dataTypes.unshift(l);s(l);return!1}
else if(a){return!(u=l)}});return u};return s(n.dataTypes[0])||!o["*"]&&s("*")};function re(t,i){var o,r,s=e.ajaxSettings.flatOptions||{};for(r in i){if(i[r]!==n){(s[r]?t:(o||(o={})))[r]=i[r]}};if(o){e.extend(!0,t,o)};return t};e.fn.load=function(t,i,r){if(typeof t!=="string"&&le){return le.apply(this,arguments)};var o,l,u,s=this,a=t.indexOf(" ");if(a>=0){o=t.slice(a,t.length);t=t.slice(0,a)};if(e.isFunction(i)){r=i;i=n}
else if(i&&typeof i==="object"){u="POST"};if(s.length>0){e.ajax({url:t,type:u,dataType:"html",data:i}).done(function(t){l=arguments;s.html(o?e("<div>").append(e.parseHTML(t)).find(o):t)}).complete(r&&function(e,t){s.each(r,l||[e.responseText,t,e])})};return this};e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,n){e.fn[n]=function(e){return this.on(n,e)}});e.each(["get","post"],function(t,i){e[i]=function(t,r,o,s){if(e.isFunction(r)){s=s||o;o=r;r=n};return e.ajax({url:t,type:i,dataType:s,data:r,success:o})}});e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:f,type:"GET",isLocal:ut.test(p[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,n){return n?re(re(t,e.ajaxSettings),n):re(e.ajaxSettings,t)},ajaxPrefilter:Qe(ue),ajaxTransport:Qe(W),ajax:function(t,i){if(typeof t==="object"){i=t;t=n};i=i||{};var d,h,a,x,w,m,g,y,r=e.ajaxSetup({},i),c=r.context||r,T=r.context&&(c.nodeType||c.jquery)?e(c):e.event,N=e.Deferred(),C=e.Callbacks("once memory"),v=r.statusCode||{},k={},E={},l=0,S="canceled",o={readyState:0,getResponseHeader:function(e){var t;if(l===2){if(!y){y={};while((t=lt.exec(x))){y[t[1].toLowerCase()]=t[2]}};t=y[e.toLowerCase()]};return t==null?null:t},getAllResponseHeaders:function(){return l===2?x:null},setRequestHeader:function(e,t){var n=e.toLowerCase();if(!l){e=E[n]=E[n]||e;k[e]=t};return this},overrideMimeType:function(e){if(!l){r.mimeType=e};return this},statusCode:function(e){var t;if(e){if(l<2){for(t in e){v[t]=[v[t],e[t]]}}
else{o.always(e[o.status])}};return this},abort:function(e){var t=e||S;if(g){g.abort(t)};b(0,t);return this}};N.promise(o).complete=C.add;o.success=o.done;o.error=o.fail;r.url=((t||r.url||f)+"").replace(at,"").replace(ct,p[1]+"//");r.type=i.method||i.type||r.method||r.type;r.dataTypes=e.trim(r.dataType||"*").toLowerCase().match(u)||[""];if(r.crossDomain==null){d=ae.exec(r.url.toLowerCase());r.crossDomain=!!(d&&(d[1]!==p[1]||d[2]!==p[2]||(d[3]||(d[1]==="http:"?80:443))!=(p[3]||(p[1]==="http:"?80:443))))};if(r.data&&r.processData&&typeof r.data!=="string"){r.data=e.param(r.data,r.traditional)};Ke(ue,r,i,o);if(l===2){return o};m=r.global;if(m&&e.active++===0){e.event.trigger("ajaxStart")};r.type=r.type.toUpperCase();r.hasContent=!ft.test(r.type);a=r.url;if(!r.hasContent){if(r.data){a=(r.url+=(R.test(a)?"&":"?")+r.data);delete r.data};if(r.cache===!1){r.url=se.test(a)?a.replace(se,"$1_="+P++):a+(R.test(a)?"&":"?")+"_="+P++}};if(r.ifModified){if(e.lastModified[a]){o.setRequestHeader("If-Modified-Since",e.lastModified[a])};if(e.etag[a]){o.setRequestHeader("If-None-Match",e.etag[a])}};if(r.data&&r.hasContent&&r.contentType!==!1||i.contentType){o.setRequestHeader("Content-Type",r.contentType)};o.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", "+fe+"; q=0.01":""):r.accepts["*"]);for(h in r.headers){o.setRequestHeader(h,r.headers[h])};if(r.beforeSend&&(r.beforeSend.call(c,o,r)===!1||l===2)){return o.abort()};S="abort";for(h in{success:1,error:1,complete:1}){o[h](r[h])};g=Ke(W,r,i,o);if(!g){b(-1,"No Transport")}
else{o.readyState=1;if(m){T.trigger("ajaxSend",[o,r])};if(r.async&&r.timeout>0){w=setTimeout(function(){o.abort("timeout")},r.timeout)};try{l=1;g.send(k,b)}catch(s){if(l<2){b(-1,s)}
else{throw s}}};function b(t,i,s,u){var f,y,h,b,d,p=i;if(l===2){return};l=2;if(w){clearTimeout(w)};g=n;x=u||"";o.readyState=t>0?4:0;if(s){b=sn(r,o,s)};if(t>=200&&t<300||t===304){if(r.ifModified){d=o.getResponseHeader("Last-Modified");if(d){e.lastModified[a]=d};d=o.getResponseHeader("etag");if(d){e.etag[a]=d}};if(t===204){f=!0;p="nocontent"}
else if(t===304){f=!0;p="notmodified"}
else{f=an(r,b);p=f.state;y=f.data;h=f.error;f=!h}}
else{h=p;if(t||!p){p="error";if(t<0){t=0}}};o.status=t;o.statusText=(i||p)+"";if(f){N.resolveWith(c,[y,p,o])}
else{N.rejectWith(c,[o,p,h])};o.statusCode(v);v=n;if(m){T.trigger(f?"ajaxSuccess":"ajaxError",[o,r,f?y:h])};C.fireWith(c,[o,p]);if(m){T.trigger("ajaxComplete",[o,r]);if(!(--e.active)){e.event.trigger("ajaxStop")}}};return o},getScript:function(t,i){return e.get(t,n,i,"script")},getJSON:function(t,n,i){return e.get(t,n,i,"json")}});function sn(e,t,i){var l,a,s,r,u=e.contents,o=e.dataTypes,f=e.responseFields;for(r in f){if(r in i){t[f[r]]=i[r]}}
while(o[0]==="*"){o.shift();if(a===n){a=e.mimeType||t.getResponseHeader("Content-Type")}};if(a){for(r in u){if(u[r]&&u[r].test(a)){o.unshift(r);break}}};if(o[0]in i){s=o[0]}
else{for(r in i){if(!o[0]||e.converters[r+" "+o[0]]){s=r;break};if(!l){l=r}};s=s||l};if(s){if(s!==o[0]){o.unshift(s)};return i[s]}};function an(e,t){var l,r,i,a,o={},f=0,u=e.dataTypes.slice(),s=u[0];if(e.dataFilter){t=e.dataFilter(t,e.dataType)};if(u[1]){for(i in e.converters){o[i.toLowerCase()]=e.converters[i]}};for(;(r=u[++f]);){if(r!=="*"){if(s!=="*"&&s!==r){i=o[s+" "+r]||o["* "+r];if(!i){for(l in o){a=l.split(" ");if(a[1]===r){i=o[s+" "+a[0]]||o["* "+a[0]];if(i){if(i===!0){i=o[l]}
else if(o[l]!==!0){r=a[0];u.splice(f--,0,r)};break}}}};if(i!==!0){if(i&&e["throws"]){t=i(t)}
else{try{t=i(t)}catch(n){return{state:"parsererror",error:i?n:"No conversion from "+s+" to "+r}}}}};s=r}};return{state:"success",data:t}};e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){e.globalEval(t);return t}}});e.ajaxPrefilter("script",function(e){if(e.cache===n){e.cache=!1};if(e.crossDomain){e.type="GET";e.global=!1}});e.ajaxTransport("script",function(t){if(t.crossDomain){var r,o=i.head||e("head")[0]||i.documentElement;return{send:function(e,n){r=i.createElement("script");r.async=!0;if(t.scriptCharset){r.charset=t.scriptCharset};r.src=t.url;r.onload=r.onreadystatechange=function(e,t){if(t||!r.readyState||/loaded|complete/.test(r.readyState)){r.onload=r.onreadystatechange=null;if(r.parentNode){r.parentNode.removeChild(r)};r=null;if(!t){n(200,"success")}}};o.insertBefore(r,o.firstChild)},abort:function(){if(r){r.onload(n,!0)}}}}});var oe=[],B=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=oe.pop()||(e.expando+"_"+(P++));this[t]=!0;return t}});e.ajaxPrefilter("json jsonp",function(i,r,o){var s,l,a,u=i.jsonp!==!1&&(B.test(i.url)?"url":typeof i.data==="string"&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&B.test(i.data)&&"data");if(u||i.dataTypes[0]==="jsonp"){s=i.jsonpCallback=e.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback;if(u){i[u]=i[u].replace(B,"$1"+s)}
else if(i.jsonp!==!1){i.url+=(R.test(i.url)?"&":"?")+i.jsonp+"="+s};i.converters["script json"]=function(){if(!a){e.error(s+" was not called")};return a[0]};i.dataTypes[0]="json";l=t[s];t[s]=function(){a=arguments};o.always(function(){t[s]=l;if(i[s]){i.jsonpCallback=r.jsonpCallback;oe.push(s)};if(a&&e.isFunction(l)){l(a[0])};a=l=n});return"script"}});var b,x,st=0,O=t.ActiveXObject&&function(){var e;for(e in b){b[e](n,!0)}};function Ze(){try{return new t.XMLHttpRequest()}catch(e){}};function ln(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}};e.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&Ze()||ln()}:Ze;x=e.ajaxSettings.xhr();e.support.cors=!!x&&("withCredentials" in x);x=e.support.ajax=!!x;if(x){e.ajaxTransport(function(i){if(!i.crossDomain||e.support.cors){var r;return{send:function(o,s){var f,u,l=i.xhr();if(i.username){l.open(i.type,i.url,i.async,i.username,i.password)}
else{l.open(i.type,i.url,i.async)};if(i.xhrFields){for(u in i.xhrFields){l[u]=i.xhrFields[u]}};if(i.mimeType&&l.overrideMimeType){l.overrideMimeType(i.mimeType)};if(!i.crossDomain&&!o["X-Requested-With"]){o["X-Requested-With"]="XMLHttpRequest"};try{for(u in o){l.setRequestHeader(u,o[u])}}catch(a){};l.send((i.hasContent&&i.data)||null);r=function(t,o){var u,d,p,c;try{if(r&&(o||l.readyState===4)){r=n;if(f){l.onreadystatechange=e.noop;if(O){delete b[f]}};if(o){if(l.readyState!==4){l.abort()}}
else{c={};u=l.status;d=l.getAllResponseHeaders();if(typeof l.responseText==="string"){c.text=l.responseText};try{p=l.statusText}catch(a){p=""};if(!u&&i.isLocal&&!i.crossDomain){u=c.text?200:404}
else if(u===1223){u=204}}}}catch(a){if(!o){s(-1,a)}};if(c){s(u,p,c,d)}};if(!i.async){r()}
else if(l.readyState===4){setTimeout(r)}
else{f=++st;if(O){if(!b){b={};e(t).unload(O)};b[f]=r};l.onreadystatechange=r}},abort:function(){if(r){r(n,!0)}}}}})};var v,A,it=/^(?:toggle|show|hide)$/,rt=new RegExp("^(?:([+-])=|)("+M+")([a-z%]*)$","i"),ot=/queueHooks$/,j=[cn],C={"*":[function(t,n){var a,l,i=this.createTween(t,n),s=rt.exec(n),u=i.cur(),r=+u||0,o=1,f=20;if(s){a=+s[2];l=s[3]||(e.cssNumber[t]?"":"px");if(l!=="px"&&r){r=e.css(i.elem,t,!0)||a||1;do{o=o||".5";r=r/o;e.style(i.elem,t,r+l)}
while(o!==(o=i.cur()/u)&&o!==1&&--f);};i.unit=l;i.start=r;i.end=s[1]?r+(s[1]+1)*a:a};return i}]};function et(){setTimeout(function(){v=n});return(v=e.now())};function un(t,n){e.each(n,function(e,n){var r=(C[e]||[]).concat(C["*"]),i=0,o=r.length;for(;i<o;i++){if(r[i].call(t,e,n)){return}}})};function tt(t,n,i){var s,a,l=0,c=j.length,o=e.Deferred().always(function(){delete f.elem}),f=function(){if(a){return!1};var l=v||et(),e=Math.max(0,r.startTime+r.duration-l),u=e/r.duration||0,n=1-u,i=0,s=r.tweens.length;for(;i<s;i++){r.tweens[i].run(n)};o.notifyWith(t,[r,n,e]);if(n<1&&s){return e}
else{o.resolveWith(t,[r]);return!1}},r=o.promise({elem:t,props:e.extend({},n),opts:e.extend(!0,{specialEasing:{}},i),originalProperties:n,originalOptions:i,startTime:v||et(),duration:i.duration,tweens:[],createTween:function(n,i){var o=e.Tween(t,r.opts,n,i,r.opts.specialEasing[n]||r.opts.easing);r.tweens.push(o);return o},stop:function(e){var n=0,i=e?r.tweens.length:0;if(a){return this};a=!0;for(;n<i;n++){r.tweens[n].run(1)};if(e){o.resolveWith(t,[r,e])}
else{o.rejectWith(t,[r,e])};return this}}),u=r.props;fn(u,r.opts.specialEasing);for(;l<c;l++){s=j[l].call(r,t,u,r.opts);if(s){return s}};un(r,u);if(e.isFunction(r.opts.start)){r.opts.start.call(t,r)};e.fx.timer(e.extend(f,{elem:t,anim:r,queue:r.opts.queue}));return r.progress(r.opts.progress).done(r.opts.done,r.opts.complete).fail(r.opts.fail).always(r.opts.always)};function fn(t,n){var r,o,i,s,a;for(i in t){o=e.camelCase(i);s=n[o];r=t[i];if(e.isArray(r)){s=r[1];r=t[i]=r[0]};if(i!==o){t[o]=r;delete t[i]};a=e.cssHooks[o];if(a&&"expand" in a){r=a.expand(r);delete t[o];for(i in r){if(!(i in t)){t[i]=r[i];n[i]=s}}}
else{n[o]=s}}};e.Animation=e.extend(tt,{tweener:function(t,n){if(e.isFunction(t)){n=t;t=["*"]}
else{t=t.split(" ")};var i,r=0,o=t.length;for(;r<o;r++){i=t[r];C[i]=C[i]||[];C[i].unshift(n)}},prefilter:function(e,t){if(t){j.unshift(e)}
else{j.push(e)}}});function cn(t,n,i){var r,a,d,p,l,h,c,o,y,u=this,s=t.style,g={},m=[],f=t.nodeType&&S(t);if(!i.queue){o=e._queueHooks(t,"fx");if(o.unqueued==null){o.unqueued=0;y=o.empty.fire;o.empty.fire=function(){if(!o.unqueued){y()}}};o.unqueued++;u.always(function(){u.always(function(){o.unqueued--;if(!e.queue(t,"fx").length){o.empty.fire()}})})};if(t.nodeType===1&&("height" in n||"width" in n)){i.overflow=[s.overflow,s.overflowX,s.overflowY];if(e.css(t,"display")==="inline"&&e.css(t,"float")==="none"){if(!e.support.inlineBlockNeedsLayout||Je(t.nodeName)==="inline"){s.display="inline-block"}
else{s.zoom=1}}};if(i.overflow){s.overflow="hidden";if(!e.support.shrinkWrapBlocks){u.always(function(){s.overflow=i.overflow[0];s.overflowX=i.overflow[1];s.overflowY=i.overflow[2]})}};for(a in n){p=n[a];if(it.exec(p)){delete n[a];h=h||p==="toggle";if(p===(f?"hide":"show")){continue};m.push(a)}};d=m.length;if(d){l=e._data(t,"fxshow")||e._data(t,"fxshow",{});if("hidden" in l){f=l.hidden};if(h){l.hidden=!f};if(f){e(t).show()}
else{u.done(function(){e(t).hide()})};u.done(function(){var n;e._removeData(t,"fxshow");for(n in g){e.style(t,n,g[n])}});for(a=0;a<d;a++){r=m[a];c=u.createTween(r,f?l[r]:0);g[r]=l[r]||e.style(t,r);if(!(r in l)){l[r]=c.start;if(f){c.end=c.start;c.start=r==="width"||r==="height"?1:0}}}}};function s(e,t,n,i,r){return new s.prototype.init(e,t,n,i,r)};e.Tween=s;s.prototype={constructor:s,init:function(t,n,i,r,o,s){this.elem=t;this.prop=i;this.easing=o||"swing";this.options=n;this.start=this.now=this.cur();this.end=r;this.unit=s||(e.cssNumber[i]?"":"px")},cur:function(){var e=s.propHooks[this.prop];return e&&e.get?e.get(this):s.propHooks._default.get(this)},run:function(t){var n,i=s.propHooks[this.prop];if(this.options.duration){this.pos=n=e.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration)}
else{this.pos=n=t};this.now=(this.end-this.start)*n+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)};if(i&&i.set){i.set(this)}
else{s.propHooks._default.set(this)};return this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(t){var n;if(t.elem[t.prop]!=null&&(!t.elem.style||t.elem.style[t.prop]==null)){return t.elem[t.prop]};n=e.css(t.elem,t.prop,"");return!n||n==="auto"?0:n},set:function(t){if(e.fx.step[t.prop]){e.fx.step[t.prop](t)}
else if(t.elem.style&&(t.elem.style[e.cssProps[t.prop]]!=null||e.cssHooks[t.prop])){e.style(t.elem,t.prop,t.now+t.unit)}
else{t.elem[t.prop]=t.now}}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};e.each(["toggle","show","hide"],function(t,n){var i=e.fn[n];e.fn[n]=function(e,t,r){return e==null||typeof e==="boolean"?i.apply(this,arguments):this.animate(F(n,!0),e,t,r)}});e.fn.extend({fadeTo:function(e,t,n,i){return this.filter(S).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,n,i,r){var a=e.isEmptyObject(t),s=e.speed(n,i,r),o=function(){var n=tt(this,e.extend({},t),s);o.finish=function(){n.stop(!0)};if(a||e._data(this,"finish")){n.stop(!0)}};o.finish=o;return a||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,i,r){var o=function(e){var t=e.stop;delete e.stop;t(r)};if(typeof t!=="string"){r=i;i=t;t=n};if(i&&t!==!1){this.queue(t||"fx",[])};return this.each(function(){var a=!0,n=t!=null&&t+"queueHooks",s=e.timers,i=e._data(this);if(n){if(i[n]&&i[n].stop){o(i[n])}}
else{for(n in i){if(i[n]&&i[n].stop&&ot.test(n)){o(i[n])}}};for(n=s.length;n--;){if(s[n].elem===this&&(t==null||s[n].queue===t)){s[n].anim.stop(r);a=!1;s.splice(n,1)}};if(a||!r){e.dequeue(this,t)}})},finish:function(t){if(t!==!1){t=t||"fx"};return this.each(function(){var n,o=e._data(this),i=o[t+"queue"],s=o[t+"queueHooks"],r=e.timers,a=i?i.length:0;o.finish=!0;e.queue(this,t,[]);if(s&&s.cur&&s.cur.finish){s.cur.finish.call(this)};for(n=r.length;n--;){if(r[n].elem===this&&r[n].queue===t){r[n].anim.stop(!0);r.splice(n,1)}};for(n=0;n<a;n++){if(i[n]&&i[n].finish){i[n].finish.call(this)}};delete o.finish})}});function F(e,t){var i,n={height:e},r=0;t=t?1:0;for(;r<4;r+=2-t){i=g[r];n["margin"+i]=n["padding"+i]=e};if(t){n.opacity=n.width=e};return n};e.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){e.fn[t]=function(e,t,i){return this.animate(n,e,t,i)}});e.speed=function(t,n,i){var r=t&&typeof t==="object"?e.extend({},t):{complete:i||!i&&n||e.isFunction(t)&&t,duration:t,easing:i&&n||n&&!e.isFunction(n)&&n};r.duration=e.fx.off?0:typeof r.duration==="number"?r.duration:r.duration in e.fx.speeds?e.fx.speeds[r.duration]:e.fx.speeds._default;if(r.queue==null||r.queue===!0){r.queue="fx"};r.old=r.complete;r.complete=function(){if(e.isFunction(r.old)){r.old.call(this)};if(r.queue){e.dequeue(this,r.queue)}};return r};e.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};e.timers=[];e.fx=s.prototype.init;e.fx.tick=function(){var r,t=e.timers,i=0;v=e.now();for(;i<t.length;i++){r=t[i];if(!r()&&t[i]===r){t.splice(i--,1)}};if(!t.length){e.fx.stop()};v=n};e.fx.timer=function(t){if(t()&&e.timers.push(t)){e.fx.start()}};e.fx.interval=13;e.fx.start=function(){if(!A){A=setInterval(e.fx.tick,e.fx.interval)}};e.fx.stop=function(){clearInterval(A);A=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fx.step={};if(e.expr&&e.expr.filters){e.expr.filters.animated=function(t){return e.grep(e.timers,function(e){return t===e.elem}).length}};e.fn.offset=function(t){if(arguments.length){return t===n?this:this.each(function(n){e.offset.setOffset(this,t,n)})};var i,s,o={top:0,left:0},r=this[0],a=r&&r.ownerDocument;if(!a){return};i=a.documentElement;if(!e.contains(i,r)){return o};if(typeof r.getBoundingClientRect!==l){o=r.getBoundingClientRect()};s=nt(a);return{top:o.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}};e.offset={setOffset:function(t,n,i){var f=e.css(t,"position");if(f==="static"){t.style.position="relative"};var o=e(t),s=o.offset(),c=e.css(t,"top"),p=e.css(t,"left"),d=(f==="absolute"||f==="fixed")&&e.inArray("auto",[c,p])>-1,r={},a={},l,u;if(d){a=o.position();l=a.top;u=a.left}
else{l=parseFloat(c)||0;u=parseFloat(p)||0};if(e.isFunction(n)){n=n.call(t,i,s)};if(n.top!=null){r.top=(n.top-s.top)+l};if(n.left!=null){r.left=(n.left-s.left)+u};if("using" in n){n.using.call(t,r)}
else{o.css(r)}}};e.fn.extend({position:function(){if(!this[0]){return};var t,i,n={top:0,left:0},r=this[0];if(e.css(r,"position")==="fixed"){i=r.getBoundingClientRect()}
else{t=this.offsetParent();i=this.offset();if(!e.nodeName(t[0],"html")){n=t.offset()};n.top+=e.css(t[0],"borderTopWidth",!0);n.left+=e.css(t[0],"borderLeftWidth",!0)};return{top:i.top-n.top-e.css(r,"marginTop",!0),left:i.left-n.left-e.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var t=this.offsetParent||i.documentElement;while(t&&(!e.nodeName(t,"html")&&e.css(t,"position")==="static")){t=t.offsetParent};return t||i.documentElement})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var r=/Y/.test(i);e.fn[t]=function(o){return e.access(this,function(t,o,s){var a=nt(t);if(s===n){return a?(i in a)?a[i]:a.document.documentElement[o]:t[o]};if(a){a.scrollTo(!r?s:e(a).scrollLeft(),r?s:e(a).scrollTop())}
else{t[o]=s}},t,o,arguments.length,null)}});function nt(t){return e.isWindow(t)?t:t.nodeType===9?t.defaultView||t.parentWindow:!1};e.each({Height:"height",Width:"width"},function(t,i){e.each({padding:"inner"+t,content:i,"":"outer"+t},function(r,o){e.fn[o]=function(o,s){var a=arguments.length&&(r||typeof o!=="boolean"),l=r||(o===!0||s===!0?"margin":"border");return e.access(this,function(i,r,o){var s;if(e.isWindow(i)){return i.document.documentElement["client"+t]};if(i.nodeType===9){s=i.documentElement;return Math.max(i.body["scroll"+t],s["scroll"+t],i.body["offset"+t],s["offset"+t],s["client"+t])};return o===n?e.css(i,r,l):e.style(i,r,o,l)},i,a?o:n,a,null)}})});t.jQuery=t.$=e;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return e})}})(window);
/*!
 * Modernizr v2.8.3
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
;window.Modernizr=(function(e,t,c){var z='2.8.3',r={},E=!0,s=t.documentElement,i='modernizr',k=t.createElement(i),l=k.style,a=t.createElement('input'),w=':)',T={}.toString,p=' -webkit- -moz- -o- -ms- '.split(' '),N='Webkit Moz O ms',M=N.split(' '),P=N.toLowerCase().split(' '),h={'svg':'http://www.w3.org/2000/svg'},n={},j={},g={},x=[],S=x.slice,v,f=function(e,n,r,l){var f,d,u,m,o=t.createElement('div'),c=t.body,a=c||t.createElement('body');if(parseInt(r,10)){while(r--){u=t.createElement('div');u.id=l?l[r]:i+(r+1);o.appendChild(u)}};f=['&#173;','<style id="s',i,'">',e,'</style>'].join('');o.id=i;(c?o:a).innerHTML+=f;a.appendChild(o);if(!c){a.style.background='';a.style.overflow='hidden';m=s.style.overflow;s.style.overflow='hidden';s.appendChild(a)};d=n(o,e);if(!c){a.parentNode.removeChild(a);s.style.overflow=m}
else{o.parentNode.removeChild(o)};return!!d},A=function(t){var n=e.matchMedia||e.msMatchMedia;if(n){return n(t)&&n(t).matches||!1};var r;f('@media '+t+' { #'+i+' { position: absolute; } }',function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)['position']=='absolute'});return r},D=(function(){var e={'select':'input','change':'input','submit':'form','reset':'form','error':'img','load':'img','abort':'img'};function n(n,r){r=r||t.createElement(e[n]||'div');n='on'+n;var o=n in r;if(!o){if(!r.setAttribute){r=t.createElement('div')};if(r.setAttribute&&r.removeAttribute){r.setAttribute(n,'');o=u(r[n],'function');if(!u(r[n],'undefined')){r[n]=c};r.removeAttribute(n)}};r=null;return o};return n})(),C=({}).hasOwnProperty,y;if(!u(C,'undefined')&&!u(C.call,'undefined')){y=function(e,t){return C.call(e,t)}}
else{y=function(e,t){return((t in e)&&u(e.constructor.prototype[t],'undefined'))}};if(!Function.prototype.bind){Function.prototype.bind=function(e){var t=this;if(typeof t!='function'){throw new TypeError()};var n=S.call(arguments,1),r=function(){if(this instanceof r){var a=function(){};a.prototype=t.prototype;var i=new a(),o=t.apply(i,n.concat(S.call(arguments)));if(Object(o)===o){return o};return i}
else{return t.apply(e,n.concat(S.call(arguments)))}};return r}};function d(e){l.cssText=e};function L(e,t){return d(p.join(e+';')+(t||''))};function u(e,t){return typeof e===t};function m(e,t){return!!~(''+e).indexOf(t)};function F(e,t){for(var r in e){var n=e[r];if(!m(n,'-')&&l[n]!==c){return t=='pfx'?n:!0}};return!1};function H(e,t,n){for(var o in e){var r=t[e[o]];if(r!==c){if(n===!1)return e[o];if(u(r,'function')){return r.bind(n||t)};return r}};return!1};function o(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+' '+M.join(r+' ')+r).split(' ');if(u(t,'string')||u(t,'undefined')){return F(o,t)}
else{o=(e+' '+(P).join(r+' ')+r).split(' ');return H(o,t,n)}};n['flexbox']=function(){return o('flexWrap')};n['flexboxlegacy']=function(){return o('boxDirection')};n['canvas']=function(){var e=t.createElement('canvas');return!!(e.getContext&&e.getContext('2d'))};n['canvastext']=function(){return!!(r['canvas']&&u(t.createElement('canvas').getContext('2d').fillText,'function'))};n['webgl']=function(){return!!e.WebGLRenderingContext};n['touch']=function(){var n;if(('ontouchstart' in e)||e.DocumentTouch&&t instanceof DocumentTouch){n=!0}
else{f(['@media (',p.join('touch-enabled),('),i,')','{#modernizr{top:9px;position:absolute}}'].join(''),function(e){n=e.offsetTop===9})};return n};n['geolocation']=function(){return'geolocation' in navigator};n['postmessage']=function(){return!!e.postMessage};n['websqldatabase']=function(){return!!e.openDatabase};n['indexedDB']=function(){return!!o('indexedDB',e)};n['hashchange']=function(){return D('hashchange',e)&&(t.documentMode===c||t.documentMode>7)};n['history']=function(){return!!(e.history&&history.pushState)};n['draganddrop']=function(){var e=t.createElement('div');return('draggable' in e)||('ondragstart' in e&&'ondrop' in e)};n['websockets']=function(){return'WebSocket' in e||'MozWebSocket' in e};n['rgba']=function(){d('background-color:rgba(150,255,150,.5)');return m(l.backgroundColor,'rgba')};n['hsla']=function(){d('background-color:hsla(120,40%,100%,.5)');return m(l.backgroundColor,'rgba')||m(l.backgroundColor,'hsla')};n['multiplebgs']=function(){d('background:url(https://),url(https://),red url(https://)');return(/(url\s*\(.*?){3}/).test(l.background)};n['backgroundsize']=function(){return o('backgroundSize')};n['borderimage']=function(){return o('borderImage')};n['borderradius']=function(){return o('borderRadius')};n['boxshadow']=function(){return o('boxShadow')};n['textshadow']=function(){return t.createElement('div').style.textShadow===''};n['opacity']=function(){L('opacity:.55');return(/^0.55$/).test(l.opacity)};n['cssanimations']=function(){return o('animationName')};n['csscolumns']=function(){return o('columnCount')};n['cssgradients']=function(){var e='background-image:',t='gradient(linear,left top,right bottom,from(#9f9),to(white));',n='linear-gradient(left top,#9f9, white);';d((e+'-webkit- '.split(' ').join(t+e)+p.join(n+e)).slice(0,-e.length));return m(l.backgroundImage,'gradient')};n['cssreflections']=function(){return o('boxReflect')};n['csstransforms']=function(){return!!o('transform')};n['csstransforms3d']=function(){var e=!!o('perspective');if(e&&'webkitPerspective' in s.style){f('@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}',function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3})};return e};n['csstransitions']=function(){return o('transition')};n['fontface']=function(){var e;f('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById('smodernizr'),o=i.sheet||i.styleSheet,a=o?(o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||''):'';e=/src/i.test(a)&&a.indexOf(r.split(' ')[0])===0});return e};n['generatedcontent']=function(){var e;f(['#',i,'{font:0/0 a}#',i,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(''),function(t){e=t.offsetHeight>=3});return e};n['video']=function(){var n=t.createElement('video'),e=!1;try{if(e=!!n.canPlayType){e=new Boolean(e);e.ogg=n.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,'');e.h264=n.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,'');e.webm=n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,'')}}catch(r){};return e};n['audio']=function(){var n=t.createElement('audio'),e=!1;try{if(e=!!n.canPlayType){e=new Boolean(e);e.ogg=n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,'');e.mp3=n.canPlayType('audio/mpeg;').replace(/^no$/,'');e.wav=n.canPlayType('audio/wav; codecs="1"').replace(/^no$/,'');e.m4a=(n.canPlayType('audio/x-m4a;')||n.canPlayType('audio/aac;')).replace(/^no$/,'')}}catch(r){};return e};n['localstorage']=function(){try{localStorage.setItem(i,i);localStorage.removeItem(i);return!0}catch(e){return!1}};n['sessionstorage']=function(){try{sessionStorage.setItem(i,i);sessionStorage.removeItem(i);return!0}catch(e){return!1}};n['webworkers']=function(){return!!e.Worker};n['applicationcache']=function(){return!!e.applicationCache};n['svg']=function(){return!!t.createElementNS&&!!t.createElementNS(h.svg,'svg').createSVGRect};n['inlinesvg']=function(){var e=t.createElement('div');e.innerHTML='<svg/>';return(e.firstChild&&e.firstChild.namespaceURI)==h.svg};n['smil']=function(){return!!t.createElementNS&&/SVGAnimate/.test(T.call(t.createElementNS(h.svg,'animate')))};n['svgclippaths']=function(){return!!t.createElementNS&&/SVGClipPath/.test(T.call(t.createElementNS(h.svg,'clipPath')))};function I(){r['input']=(function(n){for(var r=0,o=n.length;r<o;r++){g[n[r]]=!!(n[r]in a)};if(g.list){g.list=!!(t.createElement('datalist')&&e.HTMLDataListElement)};return g})('autocomplete autofocus list placeholder max min multiple pattern required step'.split(' '));r['inputtypes']=(function(e){for(var r=0,n,o,i,u=e.length;r<u;r++){a.setAttribute('type',o=e[r]);n=a.type!=='text';if(n){a.value=w;a.style.cssText='position:absolute;visibility:hidden;';if(/^range$/.test(o)&&a.style.WebkitAppearance!==c){s.appendChild(a);i=t.defaultView;n=i.getComputedStyle&&i.getComputedStyle(a,null).WebkitAppearance!=='textfield'&&(a.offsetHeight!==0);s.removeChild(a)}
else if(/^(search|tel)$/.test(o)){}
else if(/^(url|email)$/.test(o)){n=a.checkValidity&&a.checkValidity()===!1}
else{n=a.value!=w}};j[e[r]]=!!n};return j})('search tel url email datetime date month week time datetime-local number range color'.split(' '))};for(var b in n){if(y(n,b)){v=b.toLowerCase();r[v]=n[b]();x.push((r[v]?'':'no-')+v)}};r.input||I();r.addTest=function(e,t){if(typeof e=='object'){for(var n in e){if(y(e,n)){r.addTest(n,e[n])}}}
else{e=e.toLowerCase();if(r[e]!==c){return r};t=typeof t=='function'?t():t;if(typeof E!=='undefined'&&E){s.className+=' '+(t?'':'no-')+e};r[e]=t};return r};d('');k=a=null;(function(e,t){var h='3.7.0',a=e.html5||{};var m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,o,s='_html5shiv',i=0,u={};var n;(function(){try{var r=t.createElement('a');r.innerHTML='<xyz></xyz>';o=('hidden' in r);n=r.childNodes.length==1||(function(){(t.createElement)('a');var e=t.createDocumentFragment();return(typeof e.cloneNode=='undefined'||typeof e.createDocumentFragment=='undefined'||typeof e.createElement=='undefined')}())}catch(e){o=!0;n=!0}}());function g(e,t){var n=e.createElement('p'),r=e.getElementsByTagName('head')[0]||e.documentElement;n.innerHTML='x<style>'+t+'</style>';return r.insertBefore(n.lastChild,r.firstChild)};function l(){var e=r.elements;return typeof e=='string'?e.split(' '):e};function c(e){var t=u[e[s]];if(!t){t={};i++;e[s]=i;u[i]=t};return t};function f(e,r,o){if(!r){r=t};if(n){return r.createElement(e)};if(!o){o=c(r)};var i;if(o.cache[e]){i=o.cache[e].cloneNode()}
else if(p.test(e)){i=(o.cache[e]=o.createElem(e)).cloneNode()}
else{i=o.createElem(e)};return i.canHaveChildren&&!m.test(e)&&!i.tagUrn?o.frag.appendChild(i):i};function v(e,r){if(!e){e=t};if(n){return e.createDocumentFragment()};r=r||c(e);var i=r.frag.cloneNode(),o=0,a=l(),s=a.length;for(;o<s;o++){i.createElement(a[o])};return i};function y(e,t){if(!t.cache){t.cache={};t.createElem=e.createElement;t.createFrag=e.createDocumentFragment;t.frag=t.createFrag()};e.createElement=function(n){if(!r.shivMethods){return t.createElem(n)};return f(n,e,t)};e.createDocumentFragment=Function('h,f','return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&('+l().join().replace(/[\w\-]+/g,function(e){t.createElem(e);t.frag.createElement(e);return'c("'+e+'")'})+');return n}')(r,t.frag)};function d(e){if(!e){e=t};var i=c(e);if(r.shivCSS&&!o&&!i.hasCSS){i.hasCSS=!!g(e,'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}')};if(!n){y(e,i)};return e};var r={'elements':a.elements||'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video','version':h,'shivCSS':(a.shivCSS!==!1),'supportsUnknownElements':n,'shivMethods':(a.shivMethods!==!1),'type':'default','shivDocument':d,createElement:f,createDocumentFragment:v};e.html5=r;d(t)}(this,t));r._version=z;r._prefixes=p;r._domPrefixes=P;r._cssomPrefixes=M;r.mq=A;r.hasEvent=D;r.testProp=function(e){return F([e])};r.testAllProps=o;r.testStyles=f;r.prefixed=function(e,t,n){if(!t){return o(e,'pfx')}
else{return o(e,t,n)}};s.className=s.className.replace(/(^|\s)no-js(\s|$)/,'$1$2')+(E?' js '+x.join(' '):'');return r})(this,this.document);
/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
;if(typeof jQuery==='undefined'){throw new Error('Bootstrap\'s JavaScript requires jQuery')};+function(t){'use strict';var e=t.fn.jquery.split(' ')[0].split('.');if((e[0]<2&&e[1]<9)||(e[0]==1&&e[1]==9&&e[2]<1)){throw new Error('Bootstrap\'s JavaScript requires jQuery version 1.9.1 or higher')}}(jQuery);+function(t){'use strict';function e(){var i=document.createElement('bootstrap'),e={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'};for(var t in e){if(i.style[t]!==undefined){return{end:e[t]}}};return!1};t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one('bsTransitionEnd',function(){i=!0});var o=function(){if(!i)t(n).trigger(t.support.transition.end)};setTimeout(o,e);return this};t(function(){t.support.transition=e();if(!t.support.transition)return;t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function(t){'use strict';var i='[data-dismiss="alert"]',e=function(e){t(e).on('click',i,this.close)};e.VERSION='3.3.5';e.TRANSITION_DURATION=150;e.prototype.close=function(i){var s=t(this),n=s.attr('data-target');if(!n){n=s.attr('href');n=n&&n.replace(/.*(?=#[^\s]*$)/,'')};var o=t(n);if(i)i.preventDefault();if(!o.length){o=s.closest('.alert')};o.trigger(i=t.Event('close.bs.alert'));if(i.isDefaultPrevented())return;o.removeClass('in');function r(){o.detach().trigger('closed.bs.alert').remove()};t.support.transition&&o.hasClass('fade')?o.one('bsTransitionEnd',r).emulateTransitionEnd(e.TRANSITION_DURATION):r()};function n(i){return this.each(function(){var o=t(this),n=o.data('bs.alert');if(!n)o.data('bs.alert',(n=new e(this)));if(typeof i=='string')n[i].call(o)})};var o=t.fn.alert;t.fn.alert=n;t.fn.alert.Constructor=e;t.fn.alert.noConflict=function(){t.fn.alert=o;return this};t(document).on('click.bs.alert.data-api',i,e.prototype.close)}(jQuery);+function(t){'use strict';var e=function(i,o){this.$element=t(i);this.options=t.extend({},e.DEFAULTS,o);this.isLoading=!1};e.VERSION='3.3.5';e.DEFAULTS={loadingText:'loading...'};e.prototype.setState=function(e){var o='disabled',i=this.$element,s=i.is('input')?'val':'html',n=i.data();e+='Text';if(n.resetText==null)i.data('resetText',i[s]());setTimeout(t.proxy(function(){i[s](n[e]==null?this.options[e]:n[e]);if(e=='loadingText'){this.isLoading=!0;i.addClass(o).attr(o,o)}
else if(this.isLoading){this.isLoading=!1;i.removeClass(o).removeAttr(o)}},this),0)};e.prototype.toggle=function(){var e=!0,i=this.$element.closest('[data-toggle="buttons"]');if(i.length){var t=this.$element.find('input');if(t.prop('type')=='radio'){if(t.prop('checked'))e=!1;i.find('.active').removeClass('active');this.$element.addClass('active')}
else if(t.prop('type')=='checkbox'){if((t.prop('checked'))!==this.$element.hasClass('active'))e=!1;this.$element.toggleClass('active')};t.prop('checked',this.$element.hasClass('active'));if(e)t.trigger('change')}
else{this.$element.attr('aria-pressed',!this.$element.hasClass('active'));this.$element.toggleClass('active')}};function i(i){return this.each(function(){var n=t(this),o=n.data('bs.button'),s=typeof i=='object'&&i;if(!o)n.data('bs.button',(o=new e(this,s)));if(i=='toggle')o.toggle();else if(i)o.setState(i)})};var o=t.fn.button;t.fn.button=i;t.fn.button.Constructor=e;t.fn.button.noConflict=function(){t.fn.button=o;return this};t(document).on('click.bs.button.data-api','[data-toggle^="button"]',function(e){var o=t(e.target);if(!o.hasClass('btn'))o=o.closest('.btn');i.call(o,'toggle');if(!(t(e.target).is('input[type="radio"]')||t(e.target).is('input[type="checkbox"]')))e.preventDefault()}).on('focus.bs.button.data-api blur.bs.button.data-api','[data-toggle^="button"]',function(e){t(e.target).closest('.btn').toggleClass('focus',/^focus(in)?$/.test(e.type))})}(jQuery);+function(t){'use strict';var e=function(e,i){this.$element=t(e);this.$indicators=this.$element.find('.carousel-indicators');this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on('keydown.bs.carousel',t.proxy(this.keydown,this));this.options.pause=='hover'&&!('ontouchstart' in document.documentElement)&&this.$element.on('mouseenter.bs.carousel',t.proxy(this.pause,this)).on('mouseleave.bs.carousel',t.proxy(this.cycle,this))};e.VERSION='3.3.5';e.TRANSITION_DURATION=600;e.DEFAULTS={interval:5000,pause:'hover',wrap:!0,keyboard:!0};e.prototype.keydown=function(t){if(/input|textarea/i.test(t.target.tagName))return;switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return};t.preventDefault()};e.prototype.cycle=function(e){e||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval));return this};e.prototype.getItemIndex=function(t){this.$items=t.parent().children('.item');return this.$items.index(t||this.$active)};e.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),s=(t=='prev'&&i===0)||(t=='next'&&i==(this.$items.length-1));if(s&&!this.options.wrap)return e;var o=t=='prev'?-1:1,n=(i+o)%this.$items.length;return this.$items.eq(n)};e.prototype.to=function(t){var i=this,e=this.getItemIndex(this.$active=this.$element.find('.item.active'));if(t>(this.$items.length-1)||t<0)return;if(this.sliding)return this.$element.one('slid.bs.carousel',function(){i.to(t)});if(e==t)return this.pause().cycle();return this.slide(t>e?'next':'prev',this.$items.eq(t))};e.prototype.pause=function(e){e||(this.paused=!0);if(this.$element.find('.next, .prev').length&&t.support.transition){this.$element.trigger(t.support.transition.end);this.cycle(!0)};this.interval=clearInterval(this.interval);return this};e.prototype.next=function(){if(this.sliding)return;return this.slide('next')};e.prototype.prev=function(){if(this.sliding)return;return this.slide('prev')};e.prototype.slide=function(i,o){var r=this.$element.find('.item.active'),n=o||this.getItemForDirection(i,r),f=this.interval,s=i=='next'?'left':'right',p=this;if(n.hasClass('active'))return(this.sliding=!1);var h=n[0],d=t.Event('slide.bs.carousel',{relatedTarget:h,direction:s});this.$element.trigger(d);if(d.isDefaultPrevented())return;this.sliding=!0;f&&this.pause();if(this.$indicators.length){this.$indicators.find('.active').removeClass('active');var l=t(this.$indicators.children()[this.getItemIndex(n)]);l&&l.addClass('active')};var a=t.Event('slid.bs.carousel',{relatedTarget:h,direction:s});if(t.support.transition&&this.$element.hasClass('slide')){n.addClass(i);n[0].offsetWidth;r.addClass(s);n.addClass(s);r.one('bsTransitionEnd',function(){n.removeClass([i,s].join(' ')).addClass('active');r.removeClass(['active',s].join(' '));p.sliding=!1;setTimeout(function(){p.$element.trigger(a)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)}
else{r.removeClass('active');n.addClass('active');this.sliding=!1;this.$element.trigger(a)};f&&this.cycle();return this};function i(i){return this.each(function(){var n=t(this),o=n.data('bs.carousel'),s=t.extend({},e.DEFAULTS,n.data(),typeof i=='object'&&i);var r=typeof i=='string'?i:s.slide;if(!o)n.data('bs.carousel',(o=new e(this,s)));if(typeof i=='number')o.to(i);else if(r)o[r]();else if(s.interval)o.pause().cycle()})};var n=t.fn.carousel;t.fn.carousel=i;t.fn.carousel.Constructor=e;t.fn.carousel.noConflict=function(){t.fn.carousel=n;return this};var o=function(e){var a,o=t(this),n=t(o.attr('data-target')||(a=o.attr('href'))&&a.replace(/.*(?=#[^\s]+$)/,''));if(!n.hasClass('carousel'))return;var r=t.extend({},n.data(),o.data());var s=o.attr('data-slide-to');if(s)r.interval=!1;i.call(n,r);if(s){n.data('bs.carousel').to(s)};e.preventDefault()};t(document).on('click.bs.carousel.data-api','[data-slide]',o).on('click.bs.carousel.data-api','[data-slide-to]',o);t(window).on('load',function(){t('[data-ride="carousel"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery);+function(t){'use strict';var e=function(i,o){this.$element=t(i);this.options=t.extend({},e.DEFAULTS,o);this.$trigger=t('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}
else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)};if(this.options.toggle)this.toggle()};e.VERSION='3.3.5';e.TRANSITION_DURATION=350;e.DEFAULTS={toggle:!0};e.prototype.dimension=function(){var t=this.$element.hasClass('width');return t?'width':'height'};e.prototype.show=function(){if(this.transitioning||this.$element.hasClass('in'))return;var s,o=this.$parent&&this.$parent.children('.panel').children('.in, .collapsing');if(o&&o.length){s=o.data('bs.collapse');if(s&&s.transitioning)return};var a=t.Event('show.bs.collapse');this.$element.trigger(a);if(a.isDefaultPrevented())return;if(o&&o.length){i.call(o,'hide');s||o.data('bs.collapse',null)};var n=this.dimension();this.$element.removeClass('collapse').addClass('collapsing')[n](0).attr('aria-expanded',!0);this.$trigger.removeClass('collapsed').attr('aria-expanded',!0);this.transitioning=1;var r=function(){this.$element.removeClass('collapsing').addClass('collapse in')[n]('');this.transitioning=0;this.$element.trigger('shown.bs.collapse')};if(!t.support.transition)return r.call(this);var l=t.camelCase(['scroll',n].join('-'));this.$element.one('bsTransitionEnd',t.proxy(r,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[n](this.$element[0][l])};e.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass('in'))return;var n=t.Event('hide.bs.collapse');this.$element.trigger(n);if(n.isDefaultPrevented())return;var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight;this.$element.addClass('collapsing').removeClass('collapse in').attr('aria-expanded',!1);this.$trigger.addClass('collapsed').attr('aria-expanded',!1);this.transitioning=1;var o=function(){this.transitioning=0;this.$element.removeClass('collapsing').addClass('collapse').trigger('hidden.bs.collapse')};if(!t.support.transition)return o.call(this);this.$element[i](0).one('bsTransitionEnd',t.proxy(o,this)).emulateTransitionEnd(e.TRANSITION_DURATION)};e.prototype.toggle=function(){this[this.$element.hasClass('in')?'hide':'show']()};e.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(e,i){var n=t(i);this.addAriaAndCollapsedClass(o(n),n)},this)).end()};e.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass('in');t.attr('aria-expanded',i);e.toggleClass('collapsed',!i).attr('aria-expanded',i)};function o(e){var i,o=e.attr('data-target')||(i=e.attr('href'))&&i.replace(/.*(?=#[^\s]+$)/,'');return t(o)};function i(i){return this.each(function(){var n=t(this),o=n.data('bs.collapse'),s=t.extend({},e.DEFAULTS,n.data(),typeof i=='object'&&i);if(!o&&s.toggle&&/show|hide/.test(i))s.toggle=!1;if(!o)n.data('bs.collapse',(o=new e(this,s)));if(typeof i=='string')o[i]()})};var n=t.fn.collapse;t.fn.collapse=i;t.fn.collapse.Constructor=e;t.fn.collapse.noConflict=function(){t.fn.collapse=n;return this};t(document).on('click.bs.collapse.data-api','[data-toggle="collapse"]',function(e){var n=t(this);if(!n.attr('data-target'))e.preventDefault();var s=o(n),r=s.data('bs.collapse'),a=r?'toggle':n.data();i.call(s,a)})}(jQuery);+function(t){'use strict';var r='.dropdown-backdrop',i='[data-toggle="dropdown"]',e=function(e){t(e).on('click.bs.dropdown',this.toggle)};e.VERSION='3.3.5';function o(e){var i=e.attr('data-target');if(!i){i=e.attr('href');i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,'')};var o=i&&t(i);return o&&o.length?o:e.parent()};function n(e){if(e&&e.which===3)return;t(r).remove();t(i).each(function(){var n=t(this),i=o(n),s={relatedTarget:this};if(!i.hasClass('open'))return;if(e&&e.type=='click'&&/input|textarea/i.test(e.target.tagName)&&t.contains(i[0],e.target))return;i.trigger(e=t.Event('hide.bs.dropdown',s));if(e.isDefaultPrevented())return;n.attr('aria-expanded','false');i.removeClass('open').trigger('hidden.bs.dropdown',s)})};e.prototype.toggle=function(e){var s=t(this);if(s.is('.disabled, :disabled'))return;var i=o(s),a=i.hasClass('open');n();if(!a){if('ontouchstart' in document.documentElement&&!i.closest('.navbar-nav').length){t(document.createElement('div')).addClass('dropdown-backdrop').insertAfter(t(this)).on('click',n)};var r={relatedTarget:this};i.trigger(e=t.Event('show.bs.dropdown',r));if(e.isDefaultPrevented())return;s.trigger('focus').attr('aria-expanded','true');i.toggleClass('open').trigger('shown.bs.dropdown',r)};return!1};e.prototype.keydown=function(e){if(!/(38|40|27|32)/.test(e.which)||/input|textarea/i.test(e.target.tagName))return;var a=t(this);e.preventDefault();e.stopPropagation();if(a.is('.disabled, :disabled'))return;var r=o(a),l=r.hasClass('open');if(!l&&e.which!=27||l&&e.which==27){if(e.which==27)r.find(i).trigger('focus');return a.trigger('click')};var h=' li:not(.disabled):visible a',s=r.find('.dropdown-menu'+h);if(!s.length)return;var n=s.index(e.target);if(e.which==38&&n>0)n--;if(e.which==40&&n<s.length-1)n++;if(!~n)n=0;s.eq(n).trigger('focus')};function a(i){return this.each(function(){var o=t(this),n=o.data('bs.dropdown');if(!n)o.data('bs.dropdown',(n=new e(this)));if(typeof i=='string')n[i].call(o)})};var s=t.fn.dropdown;t.fn.dropdown=a;t.fn.dropdown.Constructor=e;t.fn.dropdown.noConflict=function(){t.fn.dropdown=s;return this};t(document).on('click.bs.dropdown.data-api',n).on('click.bs.dropdown.data-api','.dropdown form',function(t){t.stopPropagation()}).on('click.bs.dropdown.data-api',i,e.prototype.toggle).on('keydown.bs.dropdown.data-api',i,e.prototype.keydown).on('keydown.bs.dropdown.data-api','.dropdown-menu',e.prototype.keydown)}(jQuery);+function(t){'use strict';var e=function(e,i){this.options=i;this.$body=t(document.body);this.$element=t(e);this.$dialog=this.$element.find('.modal-dialog');this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;if(this.options.remote){this.$element.find('.modal-content').load(this.options.remote,t.proxy(function(){this.$element.trigger('loaded.bs.modal')},this))}};e.VERSION='3.3.5';e.TRANSITION_DURATION=300;e.BACKDROP_TRANSITION_DURATION=150;e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};e.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)};e.prototype.show=function(i){var o=this,n=t.Event('show.bs.modal',{relatedTarget:i});this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0;this.checkScrollbar();this.setScrollbar();this.$body.addClass('modal-open');this.escape();this.resize();this.$element.on('click.dismiss.bs.modal','[data-dismiss="modal"]',t.proxy(this.hide,this));this.$dialog.on('mousedown.dismiss.bs.modal',function(){o.$element.one('mouseup.dismiss.bs.modal',function(e){if(t(e.target).is(o.$element))o.ignoreBackdropClick=!0})});this.backdrop(function(){var s=t.support.transition&&o.$element.hasClass('fade');if(!o.$element.parent().length){o.$element.appendTo(o.$body)};o.$element.show().scrollTop(0);o.adjustDialog();if(s){o.$element[0].offsetWidth};o.$element.addClass('in');o.enforceFocus();var n=t.Event('shown.bs.modal',{relatedTarget:i});s?o.$dialog.one('bsTransitionEnd',function(){o.$element.trigger('focus').trigger(n)}).emulateTransitionEnd(e.TRANSITION_DURATION):o.$element.trigger('focus').trigger(n)})};e.prototype.hide=function(i){if(i)i.preventDefault();i=t.Event('hide.bs.modal');this.$element.trigger(i);if(!this.isShown||i.isDefaultPrevented())return;this.isShown=!1;this.escape();this.resize();t(document).off('focusin.bs.modal');this.$element.removeClass('in').off('click.dismiss.bs.modal').off('mouseup.dismiss.bs.modal');this.$dialog.off('mousedown.dismiss.bs.modal');t.support.transition&&this.$element.hasClass('fade')?this.$element.one('bsTransitionEnd',t.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal()};e.prototype.enforceFocus=function(){t(document).off('focusin.bs.modal').on('focusin.bs.modal',t.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){this.$element.trigger('focus')}},this))};e.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on('keydown.dismiss.bs.modal',t.proxy(function(t){t.which==27&&this.hide()},this))}
else if(!this.isShown){this.$element.off('keydown.dismiss.bs.modal')}};e.prototype.resize=function(){if(this.isShown){t(window).on('resize.bs.modal',t.proxy(this.handleUpdate,this))}
else{t(window).off('resize.bs.modal')}};e.prototype.hideModal=function(){var t=this;this.$element.hide();this.backdrop(function(){t.$body.removeClass('modal-open');t.resetAdjustments();t.resetScrollbar();t.$element.trigger('hidden.bs.modal')})};e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};e.prototype.backdrop=function(i){var r=this,s=this.$element.hasClass('fade')?'fade':'';if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;this.$backdrop=t(document.createElement('div')).addClass('modal-backdrop '+s).appendTo(this.$body);this.$element.on('click.dismiss.bs.modal',t.proxy(function(t){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return};if(t.target!==t.currentTarget)return;this.options.backdrop=='static'?this.$element[0].focus():this.hide()},this));if(n)this.$backdrop[0].offsetWidth;this.$backdrop.addClass('in');if(!i)return;n?this.$backdrop.one('bsTransitionEnd',i).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):i()}
else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in');var o=function(){r.removeBackdrop();i&&i()};t.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one('bsTransitionEnd',o).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):o()}
else if(i){i()}};e.prototype.handleUpdate=function(){this.adjustDialog()};e.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:'',paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:''})};e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:'',paddingRight:''})};e.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)};this.bodyIsOverflowing=document.body.clientWidth<t;this.scrollbarWidth=this.measureScrollbar()};e.prototype.setScrollbar=function(){var t=parseInt((this.$body.css('padding-right')||0),10);this.originalBodyPad=document.body.style.paddingRight||'';if(this.bodyIsOverflowing)this.$body.css('padding-right',t+this.scrollbarWidth)};e.prototype.resetScrollbar=function(){this.$body.css('padding-right',this.originalBodyPad)};e.prototype.measureScrollbar=function(){var t=document.createElement('div');t.className='modal-scrollbar-measure';this.$body.append(t);var e=t.offsetWidth-t.clientWidth;this.$body[0].removeChild(t);return e};function i(i,o){return this.each(function(){var s=t(this),n=s.data('bs.modal'),r=t.extend({},e.DEFAULTS,s.data(),typeof i=='object'&&i);if(!n)s.data('bs.modal',(n=new e(this,r)));if(typeof i=='string')n[i](o);else if(r.show)n.show(o)})};var o=t.fn.modal;t.fn.modal=i;t.fn.modal.Constructor=e;t.fn.modal.noConflict=function(){t.fn.modal=o;return this};t(document).on('click.bs.modal.data-api','[data-toggle="modal"]',function(e){var o=t(this),s=o.attr('href'),n=t(o.attr('data-target')||(s&&s.replace(/.*(?=#[^\s]+$)/,''))),r=n.data('bs.modal')?'toggle':t.extend({remote:!/#/.test(s)&&s},n.data(),o.data());if(o.is('a'))e.preventDefault();n.one('show.bs.modal',function(t){if(t.isDefaultPrevented())return n.one('hidden.bs.modal',function(){o.is(':visible')&&o.trigger('focus')})});i.call(n,r,this)})}(jQuery);+function(t){'use strict';var e=function(t,e){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init('tooltip',t,e)};e.VERSION='3.3.5';e.TRANSITION_DURATION=150;e.DEFAULTS={animation:!0,placement:'top',selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:!1,container:!1,viewport:{selector:'body',padding:0}};e.prototype.init=function(e,i,o){this.enabled=!0;this.type=e;this.$element=t(i);this.options=this.getOptions(o);this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):(this.options.viewport.selector||this.options.viewport));this.inState={click:!1,hover:!1,focus:!1};if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error('`selector` option must be specified when initializing '+this.type+' on the window.document object!')};var r=this.options.trigger.split(' ');for(var s=r.length;s--;){var n=r[s];if(n=='click'){this.$element.on('click.'+this.type,this.options.selector,t.proxy(this.toggle,this))}
else if(n!='manual'){var a=n=='hover'?'mouseenter':'focusin',l=n=='hover'?'mouseleave':'focusout';this.$element.on(a+'.'+this.type,this.options.selector,t.proxy(this.enter,this));this.$element.on(l+'.'+this.type,this.options.selector,t.proxy(this.leave,this))}};this.options.selector?(this._options=t.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()};e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.getOptions=function(e){e=t.extend({},this.getDefaults(),this.$element.data(),e);if(e.delay&&typeof e.delay=='number'){e.delay={show:e.delay,hide:e.delay}};return e};e.prototype.getDelegateOptions=function(){var e={};var i=this.getDefaults();this._options&&t.each(this._options,function(t,o){if(i[t]!=o)e[t]=o});return e};e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data('bs.'+this.type);if(!i){i=new this.constructor(e.currentTarget,this.getDelegateOptions());t(e.currentTarget).data('bs.'+this.type,i)};if(e instanceof t.Event){i.inState[e.type=='focusin'?'focus':'hover']=!0};if(i.tip().hasClass('in')||i.hoverState=='in'){i.hoverState='in';return};clearTimeout(i.timeout);i.hoverState='in';if(!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){if(i.hoverState=='in')i.show()},i.options.delay.show)};e.prototype.isInStateTrue=function(){for(var t in this.inState){if(this.inState[t])return!0};return!1};e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data('bs.'+this.type);if(!i){i=new this.constructor(e.currentTarget,this.getDelegateOptions());t(e.currentTarget).data('bs.'+this.type,i)};if(e instanceof t.Event){i.inState[e.type=='focusout'?'focus':'hover']=!1};if(i.isInStateTrue())return;clearTimeout(i.timeout);i.hoverState='out';if(!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){if(i.hoverState=='out')i.hide()},i.options.delay.hide)};e.prototype.show=function(){var c=t.Event('show.bs.'+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(c);var m=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(c.isDefaultPrevented()||!m)return;var n=this,o=this.tip(),p=this.getUID(this.type);this.setContent();o.attr('id',p);this.$element.attr('aria-describedby',p);if(this.options.animation)o.addClass('fade');var i=typeof this.options.placement=='function'?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,d=/\s?auto?\s?/i,f=d.test(i);if(f)i=i.replace(d,'')||'top';o.detach().css({top:0,left:0,display:'block'}).addClass(i).data('bs.'+this.type,this);this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);this.$element.trigger('inserted.bs.'+this.type);var s=this.getPosition(),a=o[0].offsetWidth,l=o[0].offsetHeight;if(f){var g=i,r=this.getPosition(this.$viewport);i=i=='bottom'&&s.bottom+l>r.bottom?'top':i=='top'&&s.top-l<r.top?'bottom':i=='right'&&s.right+a>r.width?'left':i=='left'&&s.left-a<r.left?'right':i;o.removeClass(g).addClass(i)};var u=this.getCalculatedOffset(i,s,a,l);this.applyPlacement(u,i);var h=function(){var t=n.hoverState;n.$element.trigger('shown.bs.'+n.type);n.hoverState=null;if(t=='out')n.leave(n)};t.support.transition&&this.$tip.hasClass('fade')?o.one('bsTransitionEnd',h).emulateTransitionEnd(e.TRANSITION_DURATION):h()}};e.prototype.applyPlacement=function(e,i){var o=this.tip(),c=o[0].offsetWidth,a=o[0].offsetHeight,l=parseInt(o.css('margin-top'),10),h=parseInt(o.css('margin-left'),10);if(isNaN(l))l=0;if(isNaN(h))h=0;e.top+=l;e.left+=h;t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0);o.addClass('in');var d=o[0].offsetWidth,s=o[0].offsetHeight;if(i=='top'&&s!=a){e.top=e.top+a-s};var n=this.getViewportAdjustedDelta(i,e,d,s);if(n.left)e.left+=n.left;else e.top+=n.top;var r=/top|bottom/.test(i),f=r?n.left*2-c+d:n.top*2-a+s,p=r?'offsetWidth':'offsetHeight';o.offset(e);this.replaceArrow(f,o[0][p],r)};e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?'left':'top',50*(1-t/e)+'%').css(i?'top':'left','')};e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find('.tooltip-inner')[this.options.html?'html':'text'](e);t.removeClass('fade in top bottom left right')};e.prototype.hide=function(i){var n=this,o=t(this.$tip),s=t.Event('hide.bs.'+this.type);function r(){if(n.hoverState!='in')o.detach();n.$element.removeAttr('aria-describedby').trigger('hidden.bs.'+n.type);i&&i()};this.$element.trigger(s);if(s.isDefaultPrevented())return;o.removeClass('in');t.support.transition&&o.hasClass('fade')?o.one('bsTransitionEnd',r).emulateTransitionEnd(e.TRANSITION_DURATION):r();this.hoverState=null;return this};e.prototype.fixTitle=function(){var t=this.$element;if(t.attr('title')||typeof t.attr('data-original-title')!='string'){t.attr('data-original-title',t.attr('title')||'').attr('title','')}};e.prototype.hasContent=function(){return this.getTitle()};e.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],o=n.tagName=='BODY',i=n.getBoundingClientRect();if(i.width==null){i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top})};var a=o?{top:0,left:0}:e.offset();var r={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()};var s=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,r,s,a)};e.prototype.getCalculatedOffset=function(t,e,i,o){return t=='bottom'?{top:e.top+e.height,left:e.left+e.width/2-i/2}:t=='top'?{top:e.top-o,left:e.left+e.width/2-i/2}:t=='left'?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}};e.prototype.getViewportAdjustedDelta=function(t,e,o,r){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,i=this.getPosition(this.$viewport);if(/right|left/.test(t)){var h=e.top-s-i.scroll,d=e.top+s-i.scroll+r;if(h<i.top){n.top=i.top-h}
else if(d>i.top+i.height){n.top=i.top+i.height-d}}
else{var a=e.left-s,l=e.left+s+o;if(a<i.left){n.left=i.left-a}
else if(l>i.right){n.left=i.left+i.width-l}};return n};e.prototype.getTitle=function(){var e,i=this.$element,t=this.options;e=i.attr('data-original-title')||(typeof t.title=='function'?t.title.call(i[0]):t.title);return e};e.prototype.getUID=function(t){do t+=~~(Math.random()*1000000);while(document.getElementById(t))return t};e.prototype.tip=function(){if(!this.$tip){this.$tip=t(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+' `template` option must consist of exactly 1 top-level element!')}};return this.$tip};e.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.tooltip-arrow'))};e.prototype.enable=function(){this.enabled=!0};e.prototype.disable=function(){this.enabled=!1};e.prototype.toggleEnabled=function(){this.enabled=!this.enabled};e.prototype.toggle=function(e){var i=this;if(e){i=t(e.currentTarget).data('bs.'+this.type);if(!i){i=new this.constructor(e.currentTarget,this.getDelegateOptions());t(e.currentTarget).data('bs.'+this.type,i)}};if(e){i.inState.click=!i.inState.click;if(i.isInStateTrue())i.enter(i);else i.leave(i)}
else{i.tip().hasClass('in')?i.leave(i):i.enter(i)}};e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout);this.hide(function(){t.$element.off('.'+t.type).removeData('bs.'+t.type);if(t.$tip){t.$tip.detach()};t.$tip=null;t.$arrow=null;t.$viewport=null})};function o(i){return this.each(function(){var n=t(this),o=n.data('bs.tooltip'),s=typeof i=='object'&&i;if(!o&&/destroy|hide/.test(i))return;if(!o)n.data('bs.tooltip',(o=new e(this,s)));if(typeof i=='string')o[i]()})};var i=t.fn.tooltip;t.fn.tooltip=o;t.fn.tooltip.Constructor=e;t.fn.tooltip.noConflict=function(){t.fn.tooltip=i;return this}}(jQuery);+function(t){'use strict';var e=function(t,e){this.init('popover',t,e)};if(!t.fn.tooltip)throw new Error('Popover requires tooltip.js');e.VERSION='3.3.5';e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:'right',trigger:'click',content:'',template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype);e.prototype.constructor=e;e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.setContent=function(){var t=this.tip(),i=this.getTitle(),e=this.getContent();t.find('.popover-title')[this.options.html?'html':'text'](i);t.find('.popover-content').children().detach().end()[this.options.html?(typeof e=='string'?'html':'append'):'text'](e);t.removeClass('fade top bottom left right in');if(!t.find('.popover-title').html())t.find('.popover-title').hide()};e.prototype.hasContent=function(){return this.getTitle()||this.getContent()};e.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr('data-content')||(typeof t.content=='function'?t.content.call(e[0]):t.content)};e.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.arrow'))};function o(i){return this.each(function(){var n=t(this),o=n.data('bs.popover'),s=typeof i=='object'&&i;if(!o&&/destroy|hide/.test(i))return;if(!o)n.data('bs.popover',(o=new e(this,s)));if(typeof i=='string')o[i]()})};var i=t.fn.popover;t.fn.popover=o;t.fn.popover.Constructor=e;t.fn.popover.noConflict=function(){t.fn.popover=i;return this}}(jQuery);+function(t){'use strict';function e(i,o){this.$body=t(document.body);this.$scrollElement=t(i).is(document.body)?t(window):t(i);this.options=t.extend({},e.DEFAULTS,o);this.selector=(this.options.target||'')+' .nav li > a';this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on('scroll.bs.scrollspy',t.proxy(this.process,this));this.refresh();this.process()};e.VERSION='3.3.5';e.DEFAULTS={offset:10};e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};e.prototype.refresh=function(){var e=this,i='offset',o=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();if(!t.isWindow(this.$scrollElement[0])){i='position';o=this.$scrollElement.scrollTop()};this.$body.find(this.selector).map(function(){var s=t(this),n=s.data('target')||s.attr('href'),e=/^#./.test(n)&&t(n);return(e&&e.length&&e.is(':visible')&&[[e[i]().top+o,n]])||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})};e.prototype.process=function(){var i=this.$scrollElement.scrollTop()+this.options.offset,s=this.getScrollHeight(),r=this.options.offset+s-this.$scrollElement.height(),e=this.offsets,o=this.targets,n=this.activeTarget,t;if(this.scrollHeight!=s){this.refresh()};if(i>=r){return n!=(t=o[o.length-1])&&this.activate(t)};if(n&&i<e[0]){this.activeTarget=null;return this.clear()};for(t=e.length;t--;){n!=o[t]&&i>=e[t]&&(e[t+1]===undefined||i<e[t+1])&&this.activate(o[t])}};e.prototype.activate=function(e){this.activeTarget=e;this.clear();var o=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(o).parents('li').addClass('active');if(i.parent('.dropdown-menu').length){i=i.closest('li.dropdown').addClass('active')};i.trigger('activate.bs.scrollspy')};e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,'.active').removeClass('active')};function i(i){return this.each(function(){var n=t(this),o=n.data('bs.scrollspy'),s=typeof i=='object'&&i;if(!o)n.data('bs.scrollspy',(o=new e(this,s)));if(typeof i=='string')o[i]()})};var o=t.fn.scrollspy;t.fn.scrollspy=i;t.fn.scrollspy.Constructor=e;t.fn.scrollspy.noConflict=function(){t.fn.scrollspy=o;return this};t(window).on('load.bs.scrollspy.data-api',function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery);+function(t){'use strict';var e=function(e){this.element=t(e)};e.VERSION='3.3.5';e.TRANSITION_DURATION=150;e.prototype.show=function(){var e=this.element,a=e.closest('ul:not(.dropdown-menu)'),i=e.data('target');if(!i){i=e.attr('href');i=i&&i.replace(/.*(?=#[^\s]*$)/,'')};if(e.parent('li').hasClass('active'))return;var o=a.find('.active:last a'),r=t.Event('hide.bs.tab',{relatedTarget:e[0]});var s=t.Event('show.bs.tab',{relatedTarget:o[0]});o.trigger(r);e.trigger(s);if(s.isDefaultPrevented()||r.isDefaultPrevented())return;var n=t(i);this.activate(e.closest('li'),a);this.activate(n,n.parent(),function(){o.trigger({type:'hidden.bs.tab',relatedTarget:e[0]});e.trigger({type:'shown.bs.tab',relatedTarget:o[0]})})};e.prototype.activate=function(i,o,n){var s=o.find('> .active'),r=n&&t.support.transition&&(s.length&&s.hasClass('fade')||!!o.find('> .fade').length);function a(){s.removeClass('active').find('> .dropdown-menu > .active').removeClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',!1);i.addClass('active').find('[data-toggle="tab"]').attr('aria-expanded',!0);if(r){i[0].offsetWidth;i.addClass('in')}
else{i.removeClass('fade')};if(i.parent('.dropdown-menu').length){i.closest('li.dropdown').addClass('active').end().find('[data-toggle="tab"]').attr('aria-expanded',!0)};n&&n()};s.length&&r?s.one('bsTransitionEnd',a).emulateTransitionEnd(e.TRANSITION_DURATION):a();s.removeClass('in')};function o(i){return this.each(function(){var n=t(this),o=n.data('bs.tab');if(!o)n.data('bs.tab',(o=new e(this)));if(typeof i=='string')o[i]()})};var n=t.fn.tab;t.fn.tab=o;t.fn.tab.Constructor=e;t.fn.tab.noConflict=function(){t.fn.tab=n;return this};var i=function(e){e.preventDefault();o.call(t(this),'show')};t(document).on('click.bs.tab.data-api','[data-toggle="tab"]',i).on('click.bs.tab.data-api','[data-toggle="pill"]',i)}(jQuery);+function(t){'use strict';var e=function(i,o){this.options=t.extend({},e.DEFAULTS,o);this.$target=t(this.options.target).on('scroll.bs.affix.data-api',t.proxy(this.checkPosition,this)).on('click.bs.affix.data-api',t.proxy(this.checkPositionWithEventLoop,this));this.$element=t(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};e.VERSION='3.3.5';e.RESET='affix affix-top affix-bottom';e.DEFAULTS={offset:0,target:window};e.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(i!=null&&this.affixed=='top')return n<i?'top':!1;if(this.affixed=='bottom'){if(i!=null)return(n+this.unpin<=r.top)?!1:'bottom';return(n+a<=t-o)?!1:'bottom'};var s=this.affixed==null,l=s?n:r.top,h=s?a:e;if(i!=null&&n<=i)return'top';if(o!=null&&(l+h>=t-o))return'bottom';return!1};e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass('affix');var t=this.$target.scrollTop(),i=this.$element.offset();return(this.pinnedOffset=i.top-t)};e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)};e.prototype.checkPosition=function(){if(!this.$element.is(':visible'))return;var l=this.$element.height(),o=this.options.offset,s=o.top,n=o.bottom,h=Math.max(t(document).height(),t(document.body).height());if(typeof o!='object')n=s=o;if(typeof s=='function')s=o.top(this.$element);if(typeof n=='function')n=o.bottom(this.$element);var i=this.getState(h,l,s,n);if(this.affixed!=i){if(this.unpin!=null)this.$element.css('top','');var r='affix'+(i?'-'+i:''),a=t.Event(r+'.bs.affix');this.$element.trigger(a);if(a.isDefaultPrevented())return;this.affixed=i;this.unpin=i=='bottom'?this.getPinnedOffset():null;this.$element.removeClass(e.RESET).addClass(r).trigger(r.replace('affix','affixed')+'.bs.affix')};if(i=='bottom'){this.$element.offset({top:h-l-n})}};function i(i){return this.each(function(){var n=t(this),o=n.data('bs.affix'),s=typeof i=='object'&&i;if(!o)n.data('bs.affix',(o=new e(this,s)));if(typeof i=='string')o[i]()})};var o=t.fn.affix;t.fn.affix=i;t.fn.affix.Constructor=e;t.fn.affix.noConflict=function(){t.fn.affix=o;return this};t(window).on('load',function(){t('[data-spy="affix"]').each(function(){var o=t(this),e=o.data();e.offset=e.offset||{};if(e.offsetBottom!=null)e.offset.bottom=e.offsetBottom;if(e.offsetTop!=null)e.offset.top=e.offsetTop;i.call(o,e)})})}(jQuery);
/*!
 * Bootstrap-select v1.9.4 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2016 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
(function(e,t){if(typeof define==='function'&&define.amd){define(['jquery'],function(e){return(t(e))})}
else if(typeof exports==='object'){module.exports=t(require('jquery'))}
else{t(jQuery)}}(this,function(e){(function(e){'use strict';if(!String.prototype.includes){(function(){'use strict';var n={}.toString;var e=(function(){try{var e={};var t=Object.defineProperty,i=t(e,e,e)&&t}catch(n){};return i}()),i=''.indexOf,t=function(e){if(this==null){throw new TypeError()};var l=String(this);if(e&&n.call(e)=='[object RegExp]'){throw new TypeError()};var s=l.length,o=String(e),d=o.length,a=arguments.length>1?arguments[1]:undefined,t=a?Number(a):0;if(t!=t){t=0};var r=Math.min(Math.max(t,0),s);if(d+r>s){return!1};return i.call(l,o,t)!=-1};if(e){e(String.prototype,'includes',{'value':t,'configurable':!0,'writable':!0})}
else{String.prototype.includes=t}}())};if(!String.prototype.startsWith){(function(){'use strict';var t=(function(){try{var e={};var t=Object.defineProperty,i=t(e,e,e)&&t}catch(n){};return i}()),i={}.toString;var e=function(e){if(this==null){throw new TypeError()};var d=String(this);if(e&&i.call(e)=='[object RegExp]'){throw new TypeError()};var o=d.length,a=String(e),l=a.length,r=arguments.length>1?arguments[1]:undefined,t=r?Number(r):0;if(t!=t){t=0};var s=Math.min(Math.max(t,0),o);if(l+s>o){return!1};var n=-1;while(++n<l){if(d.charCodeAt(s+n)!=a.charCodeAt(n)){return!1}};return!0};if(t){t(String.prototype,'startsWith',{'value':e,'configurable':!0,'writable':!0})}
else{String.prototype.startsWith=e}}())};if(!Object.keys){Object.keys=function(e,t,i){i=[];for(t in e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}};e.fn.triggerNative=function(e){var i=this[0],t;if(i.dispatchEvent){if(typeof Event==='function'){t=new Event(e,{bubbles:!0})}
else{t=document.createEvent('Event');t.initEvent(e,!0,!1)};i.dispatchEvent(t)}
else{if(i.fireEvent){t=document.createEventObject();t.eventType=e;i.fireEvent('on'+e,t)};this.trigger(e)}};e.expr[':'].icontains=function(t,i,n){var s=e(t),o=(s.data('tokens')||s.text()).toUpperCase();return o.includes(n[3].toUpperCase())};e.expr[':'].ibegins=function(t,i,n){var s=e(t),o=(s.data('tokens')||s.text()).toUpperCase();return o.startsWith(n[3].toUpperCase())};e.expr[':'].aicontains=function(t,i,n){var s=e(t),o=(s.data('tokens')||s.data('normalizedText')||s.text()).toUpperCase();return o.includes(n[3].toUpperCase())};e.expr[':'].aibegins=function(t,i,n){var s=e(t),o=(s.data('tokens')||s.data('normalizedText')||s.text()).toUpperCase();return o.startsWith(n[3].toUpperCase())};function i(t){var i=[{re:/[\xC0-\xC6]/g,ch:'A'},{re:/[\xE0-\xE6]/g,ch:'a'},{re:/[\xC8-\xCB]/g,ch:'E'},{re:/[\xE8-\xEB]/g,ch:'e'},{re:/[\xCC-\xCF]/g,ch:'I'},{re:/[\xEC-\xEF]/g,ch:'i'},{re:/[\xD2-\xD6]/g,ch:'O'},{re:/[\xF2-\xF6]/g,ch:'o'},{re:/[\xD9-\xDC]/g,ch:'U'},{re:/[\xF9-\xFC]/g,ch:'u'},{re:/[\xC7-\xE7]/g,ch:'c'},{re:/[\xD1]/g,ch:'N'},{re:/[\xF1]/g,ch:'n'}];e.each(i,function(){t=t.replace(this.re,this.ch)});return t};function n(e){var n={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#x27;','`':'&#x60;'};var i='(?:'+Object.keys(n).join('|')+')',s=new RegExp(i),o=new RegExp(i,'g'),t=e==null?'':''+e;return s.test(t)?t.replace(o,function(e){return n[e]}):t};var t=function(i,n,s){if(s){s.stopPropagation();s.preventDefault()};this.$element=e(i);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=n;if(this.options.title===null){this.options.title=this.$element.attr('title')};this.val=t.prototype.val;this.render=t.prototype.render;this.refresh=t.prototype.refresh;this.setStyle=t.prototype.setStyle;this.selectAll=t.prototype.selectAll;this.deselectAll=t.prototype.deselectAll;this.destroy=t.prototype.destroy;this.remove=t.prototype.remove;this.show=t.prototype.show;this.hide=t.prototype.hide;this.init()};t.VERSION='1.9.4';t.DEFAULTS={noneSelectedText:'Nothing selected',noneResultsText:'No results matched {0}',countSelectedText:function(e,t){return(e==1)?'{0} item selected':'{0} items selected'},maxOptionsText:function(e,t){return[(e==1)?'Limit reached ({n} item max)':'Limit reached ({n} items max)',(t==1)?'Group limit reached ({n} item max)':'Group limit reached ({n} items max)']},selectAllText:'Select All',deselectAllText:'Deselect All',doneButton:!1,doneButtonText:'Close',multipleSeparator:', ',styleBase:'btn',style:'btn-default',size:'auto',title:null,selectedTextFormat:'values',width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:'contains',actionsBox:!1,iconBase:'glyphicon',tickIcon:'glyphicon-ok',template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1};t.prototype={constructor:t,init:function(){var t=this,i=this.$element.attr('id');this.liObj={};this.multiple=this.$element.prop('multiple');this.autofocus=this.$element.prop('autofocus');this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children('button');this.$menu=this.$newElement.children('.dropdown-menu');this.$menuInner=this.$menu.children('.inner');this.$searchbox=this.$menu.find('input');if(this.options.dropdownAlignRight)this.$menu.addClass('dropdown-menu-right');if(typeof i!=='undefined'){this.$button.attr('data-id',i);e('label[for="'+i+'"]').click(function(e){e.preventDefault();t.$button.focus()})};this.checkDisabled();this.clickListener();if(this.options.liveSearch)this.liveSearchListener();this.render();this.setStyle();this.setWidth();if(this.options.container)this.selectPosition();this.$menu.data('this',this);this.$newElement.data('this',this);if(this.options.mobile)this.mobile();this.$newElement.on({'hide.bs.dropdown':function(e){t.$element.trigger('hide.bs.select',e)},'hidden.bs.dropdown':function(e){t.$element.trigger('hidden.bs.select',e)},'show.bs.dropdown':function(e){t.$element.trigger('show.bs.select',e)},'shown.bs.dropdown':function(e){t.$element.trigger('shown.bs.select',e)}});if(t.$element[0].hasAttribute('required')){this.$element.on('invalid',function(){t.$button.addClass('bs-invalid').focus();t.$element.on({'focus.bs.select':function(){t.$button.focus();t.$element.off('focus.bs.select')},'shown.bs.select':function(){t.$element.val(t.$element.val()).off('shown.bs.select')},'rendered.bs.select':function(){if(this.validity.valid)t.$button.removeClass('bs-invalid');t.$element.off('rendered.bs.select')}})})};setTimeout(function(){t.$element.trigger('loaded.bs.select')})},createDropdown:function(){var t=this.multiple?' show-tick':'',i=this.$element.parent().hasClass('input-group')?' input-group-btn':'',s=this.autofocus?' autofocus':'',o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+'</div>':'',a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?'':' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+'></div>':'',l=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+'</button></div></div>':'',r=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+'</button></div></div>':'',d='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+s+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+o+a+l+'<ul class="dropdown-menu inner" role="menu"></ul>'+r+'</div></div>';return e(d)},createView:function(){var e=this.createDropdown(),t=this.createLi();e.find('ul')[0].innerHTML=t;return e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find('li').remove()},createLi:function(){var s=this,t=[],l=0,r=document.createElement('option'),o=-1,a=function(e,t,i,n){return'<li'+((typeof i!=='undefined'&''!==i)?' class="'+i+'"':'')+((typeof t!=='undefined'&null!==t)?' data-original-index="'+t+'"':'')+((typeof n!=='undefined'&null!==n)?'data-optgroup="'+n+'"':'')+'>'+e+'</li>'},h=function(e,t,o,a){return'<a tabindex="0"'+(typeof t!=='undefined'?' class="'+t+'"':'')+(typeof o!=='undefined'?' style="'+o+'"':'')+(s.options.liveSearchNormalize?' data-normalized-text="'+i(n(e))+'"':'')+(typeof a!=='undefined'||a!==null?' data-tokens="'+a+'"':'')+'>'+e+'<span class="'+s.options.iconBase+' '+s.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple){o--;if(!this.$element.find('.bs-title-option').length){var d=this.$element[0];r.className='bs-title-option';r.appendChild(document.createTextNode(this.options.title));r.value='';d.insertBefore(r,d.firstChild);if(e(d.options[d.selectedIndex]).attr('selected')===undefined)r.selected=!0}};this.$element.find('option').each(function(i){var n=e(this);o++;if(n.hasClass('bs-title-option'))return;var p=this.className||'',u=n.attr('style')?n.attr('style'):this.style.cssText,r=n.data('content')?n.data('content'):n.html(),f=n.data('tokens')?n.data('tokens'):null,y=typeof n.data('subtext')!=='undefined'?'<small class="text-muted">'+n.data('subtext')+'</small>':'',d=typeof n.data('icon')!=='undefined'?'<span class="'+s.options.iconBase+' '+n.data('icon')+'"></span> ':'',m=this.parentNode.tagName==='OPTGROUP',v=this.disabled||(m&&this.parentNode.disabled);if(d!==''&&v){d='<span>'+d+'</span>'};if(s.options.hideDisabled&&v&&!m){o--;return};if(!n.data('content')){r=d+'<span class="text">'+r+y+'</span>'};if(m&&n.data('divider')!==!0){var b=' '+this.parentNode.className||'';if(n.index()===0){l+=1;var c=this.parentNode.label,g=typeof n.parent().data('subtext')!=='undefined'?'<small class="text-muted">'+n.parent().data('subtext')+'</small>':'',x=n.parent().data('icon')?'<span class="'+s.options.iconBase+' '+n.parent().data('icon')+'"></span> ':'';c=x+'<span class="text">'+c+g+'</span>';if(i!==0&&t.length>0){o++;t.push(a('',null,'divider',l+'div'))};o++;t.push(a(c,null,'dropdown-header'+b,l))};if(s.options.hideDisabled&&v){o--;return};t.push(a(h(r,'opt '+p+b,u,f),i,'',l))}
else if(n.data('divider')===!0){t.push(a('',i,'divider'))}
else if(n.data('hidden')===!0){t.push(a(h(r,p,u,f),i,'hidden is-hidden'))}
else{if(this.previousElementSibling&&this.previousElementSibling.tagName==='OPTGROUP'){o++;t.push(a('',null,'divider',l+'div'))};t.push(a(h(r,p,u,f),i))};s.liObj[i]=o});if(!this.multiple&&this.$element.find('option:selected').length===0&&!this.options.title){this.$element.find('option').eq(0).prop('selected',!0).attr('selected','selected')};return t.join('')},findLis:function(){if(this.$lis==null)this.$lis=this.$menu.find('li');return this.$lis},render:function(t){var i=this,l;if(t!==!1){this.$element.find('option').each(function(e){var t=i.findLis().eq(i.liObj[e]);i.setDisabled(e,this.disabled||this.parentNode.tagName==='OPTGROUP'&&this.parentNode.disabled,t);i.setSelected(e,this.selected,t)})};this.tabIndex();var n=this.$element.find('option').map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||this.parentNode.tagName==='OPTGROUP'&&this.parentNode.disabled))return;var t=e(this),s=t.data('icon')&&i.options.showIcon?'<i class="'+i.options.iconBase+' '+t.data('icon')+'"></i> ':'',n;if(i.options.showSubtext&&t.data('subtext')&&!i.multiple){n=' <small class="text-muted">'+t.data('subtext')+'</small>'}
else{n=''};if(typeof t.attr('title')!=='undefined'){return t.attr('title')}
else if(t.data('content')&&i.options.showContent){return t.data('content')}
else{return s+t.html()+n}}}).toArray(),s=!this.multiple?n[0]:n.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf('count')>-1){var o=this.options.selectedTextFormat.split('>');if((o.length>1&&n.length>o[1])||(o.length==1&&n.length>=2)){l=this.options.hideDisabled?', [disabled]':'';var a=this.$element.find('option').not('[data-divider="true"], [data-hidden="true"]'+l).length,r=(typeof this.options.countSelectedText==='function')?this.options.countSelectedText(n.length,a):this.options.countSelectedText;s=r.replace('{0}',n.length.toString()).replace('{1}',a.toString())}};if(this.options.title==undefined){this.options.title=this.$element.attr('title')};if(this.options.selectedTextFormat=='static'){s=this.options.title};if(!s){s=typeof this.options.title!=='undefined'?this.options.title:this.options.noneSelectedText};this.$button.attr('title',e.trim(s.replace(/<[^>]*>?/g,'')));this.$button.children('.filter-option').html(s);this.$element.trigger('rendered.bs.select')},setStyle:function(e,t){if(this.$element.attr('class')){this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,''))};var i=e?e:this.options.style;if(t=='add'){this.$button.addClass(i)}
else if(t=='remove'){this.$button.removeClass(i)}
else{this.$button.removeClass(this.options.style);this.$button.addClass(i)}},liHeight:function(t){if(!t&&(this.options.size===!1||this.sizeInfo))return;var a=document.createElement('div'),n=document.createElement('div'),l=document.createElement('ul'),c=document.createElement('li'),v=document.createElement('li'),p=document.createElement('a'),u=document.createElement('span'),r=this.options.header&&this.$menu.find('.popover-title').length>0?this.$menu.find('.popover-title')[0].cloneNode(!0):null,o=this.options.liveSearch?document.createElement('div'):null,d=this.options.actionsBox&&this.multiple&&this.$menu.find('.bs-actionsbox').length>0?this.$menu.find('.bs-actionsbox')[0].cloneNode(!0):null,h=this.options.doneButton&&this.multiple&&this.$menu.find('.bs-donebutton').length>0?this.$menu.find('.bs-donebutton')[0].cloneNode(!0):null;u.className='text';a.className=this.$menu[0].parentNode.className+' open';n.className='dropdown-menu open';l.className='dropdown-menu inner';c.className='divider';u.appendChild(document.createTextNode('Inner text'));p.appendChild(u);v.appendChild(p);l.appendChild(v);l.appendChild(c);if(r)n.appendChild(r);if(o){var m=document.createElement('span');o.className='bs-searchbox';m.className='form-control';o.appendChild(m);n.appendChild(o)};if(d)n.appendChild(d);n.appendChild(l);if(h)n.appendChild(h);a.appendChild(n);document.body.appendChild(a);var b=p.offsetHeight,g=r?r.offsetHeight:0,x=o?o.offsetHeight:0,y=d?d.offsetHeight:0,w=h?h.offsetHeight:0,C=e(c).outerHeight(!0),i=typeof getComputedStyle==='function'?getComputedStyle(n):!1,s=i?null:e(n),f=parseInt(i?i.paddingTop:s.css('paddingTop'))+parseInt(i?i.paddingBottom:s.css('paddingBottom'))+parseInt(i?i.borderTopWidth:s.css('borderTopWidth'))+parseInt(i?i.borderBottomWidth:s.css('borderBottomWidth')),S=f+parseInt(i?i.marginTop:s.css('marginTop'))+parseInt(i?i.marginBottom:s.css('marginBottom'))+2;document.body.removeChild(a);this.sizeInfo={liHeight:b,headerHeight:g,searchHeight:x,actionsHeight:y,doneButtonHeight:w,dividerHeight:C,menuPadding:f,menuExtras:S}},setSize:function(){this.findLis();this.liHeight();if(this.options.header)this.$menu.css('padding-top',0);if(this.options.size===!1)return;var i=this,t=this.$menu,m=this.$menuInner,h=e(window),w=this.$newElement[0].offsetHeight,v=this.sizeInfo['liHeight'],c=this.sizeInfo['headerHeight'],p=this.sizeInfo['searchHeight'],u=this.sizeInfo['actionsHeight'],f=this.sizeInfo['doneButtonHeight'],C=this.sizeInfo['dividerHeight'],l=this.sizeInfo['menuPadding'],o=this.sizeInfo['menuExtras'],b=this.options.hideDisabled?'.disabled':'',n,s,a,r,g=function(){a=i.$newElement.offset().top-h.scrollTop();r=h.height()-a-w};g();if(this.options.size==='auto'){var d=function(){var d,b=function(t,i){return function(n){if(i){return(n.classList?n.classList.contains(t):e(n).hasClass(t))}
else{return!(n.classList?n.classList.contains(t):e(n).hasClass(t))}}},x=i.$menuInner[0].getElementsByTagName('li'),h=Array.prototype.filter?Array.prototype.filter.call(x,b('hidden',!1)):i.$lis.not('.hidden'),y=Array.prototype.filter?Array.prototype.filter.call(h,b('dropdown-header',!0)):h.filter('.dropdown-header');g();n=r-o;if(i.options.container){if(!t.data('height'))t.data('height',t.height());s=t.data('height')}
else{s=t.height()};if(i.options.dropupAuto){i.$newElement.toggleClass('dropup',a>r&&(n-o)<s)};if(i.$newElement.hasClass('dropup')){n=a-o};if((h.length+y.length)>3){d=v*3+o-2}
else{d=0};t.css({'max-height':n+'px','overflow':'hidden','min-height':d+c+p+u+f+'px'});m.css({'max-height':n-c-p-u-f-l+'px','overflow-y':'auto','min-height':Math.max(d-l,0)+'px'})};d();this.$searchbox.off('input.getSize propertychange.getSize').on('input.getSize propertychange.getSize',d);h.off('resize.getSize scroll.getSize').on('resize.getSize scroll.getSize',d)}
else if(this.options.size&&this.options.size!='auto'&&this.$lis.not(b).length>this.options.size){var x=this.$lis.not('.divider').not(b).children().slice(0,this.options.size).last().parent().index(),y=this.$lis.slice(0,x+1).filter('.divider').length;n=v*this.options.size+y*C+l;if(i.options.container){if(!t.data('height'))t.data('height',t.height());s=t.data('height')}
else{s=t.height()};if(i.options.dropupAuto){this.$newElement.toggleClass('dropup',a>r&&(n-o)<s)};t.css({'max-height':n+c+p+u+f+'px','overflow':'hidden','min-height':''});m.css({'max-height':n-l+'px','overflow-y':'auto','min-height':''})}},setWidth:function(){if(this.options.width==='auto'){this.$menu.css('min-width','0');var e=this.$menu.parent().clone().appendTo('body'),t=this.options.container?this.$newElement.clone().appendTo('body'):e,i=e.children('.dropdown-menu').outerWidth(),n=t.css('width','auto').children('button').outerWidth();e.remove();t.remove();this.$newElement.css('width',Math.max(i,n)+'px')}
else if(this.options.width==='fit'){this.$menu.css('min-width','');this.$newElement.css('width','').addClass('fit-width')}
else if(this.options.width){this.$menu.css('min-width','');this.$newElement.css('width',this.options.width)}
else{this.$menu.css('min-width','');this.$newElement.css('width','')};if(this.$newElement.hasClass('fit-width')&&this.options.width!=='fit'){this.$newElement.removeClass('fit-width')}},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t=this,i,n,s=function(e){t.$bsContainer.addClass(e.attr('class').replace(/form-control|fit-width/gi,'')).toggleClass('dropup',e.hasClass('dropup'));i=e.offset();n=e.hasClass('dropup')?0:e[0].offsetHeight;t.$bsContainer.css({'top':i.top+n,'left':i.left,'width':e[0].offsetWidth})};this.$button.on('click',function(){var i=e(this);if(t.isDisabled()){return};s(t.$newElement);t.$bsContainer.appendTo(t.options.container).toggleClass('open',!i.hasClass('open')).append(t.$menu)});e(window).on('resize scroll',function(){s(t.$newElement)});this.$element.on('hide.bs.select',function(){t.$menu.data('height',t.$menu.height());t.$bsContainer.detach()})},setSelected:function(e,t,i){if(!i){i=this.findLis().eq(this.liObj[e])};i.toggleClass('selected',t)},setDisabled:function(e,t,i){if(!i){i=this.findLis().eq(this.liObj[e])};if(t){i.addClass('disabled').children('a').attr('href','#').attr('tabindex',-1)}
else{i.removeClass('disabled').children('a').removeAttr('href').attr('tabindex',0)}},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;if(this.isDisabled()){this.$newElement.addClass('disabled');this.$button.addClass('disabled').attr('tabindex',-1)}
else{if(this.$button.hasClass('disabled')){this.$newElement.removeClass('disabled');this.$button.removeClass('disabled')};if(this.$button.attr('tabindex')==-1&&!this.$element.data('tabindex')){this.$button.removeAttr('tabindex')}};this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){if(this.$element.data('tabindex')!==this.$element.attr('tabindex')&&(this.$element.attr('tabindex')!==-98&&this.$element.attr('tabindex')!=='-98')){this.$element.data('tabindex',this.$element.attr('tabindex'));this.$button.attr('tabindex',this.$element.data('tabindex'))};this.$element.attr('tabindex',-98)},clickListener:function(){var t=this,i=e(document);this.$newElement.on('touchstart.dropdown','.dropdown-menu',function(e){e.stopPropagation()});i.data('spaceSelect',!1);this.$button.on('keyup',function(e){if(/(32)/.test(e.keyCode.toString(10))&&i.data('spaceSelect')){e.preventDefault();i.data('spaceSelect',!1)}});this.$button.on('click',function(){t.setSize();t.$element.on('shown.bs.select',function(){if(!t.options.liveSearch&&!t.multiple){t.$menuInner.find('.selected a').focus()}
else if(!t.multiple){var i=t.liObj[t.$element[0].selectedIndex];if(typeof i!=='number'||t.options.size===!1)return;var e=t.$lis.eq(i)[0].offsetTop-t.$menuInner[0].offsetTop;e=e-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2;t.$menuInner[0].scrollTop=e}})});this.$menuInner.on('click','li a',function(i){var h=e(this),a=h.parent().data('originalIndex'),g=t.$element.val(),x=t.$element.prop('selectedIndex');if(t.multiple){i.stopPropagation()};i.preventDefault();if(!t.isDisabled()&&!h.parent().hasClass('disabled')){var d=t.$element.find('option'),o=d.eq(a),u=o.prop('selected'),f=o.parent('optgroup'),n=t.options.maxOptions,s=f.data('maxOptions')||!1;if(!t.multiple){d.prop('selected',!1);o.prop('selected',!0);t.$menuInner.find('.selected').removeClass('selected');t.setSelected(a,!0)}
else{o.prop('selected',!u);t.setSelected(a,!u);h.blur();if(n!==!1||s!==!1){var m=n<d.filter(':selected').length,v=s<f.find('option:selected').length;if((n&&m)||(s&&v)){if(n&&n==1){d.prop('selected',!1);o.prop('selected',!0);t.$menuInner.find('.selected').removeClass('selected');t.setSelected(a,!0)}
else if(s&&s==1){f.find('option:selected').prop('selected',!1);o.prop('selected',!0);var b=h.parent().data('optgroup');t.$menuInner.find('[data-optgroup="'+b+'"]').removeClass('selected');t.setSelected(a,!0)}
else{var l=(typeof t.options.maxOptionsText==='function')?t.options.maxOptionsText(n,s):t.options.maxOptionsText,c=l[0].replace('{n}',n),p=l[1].replace('{n}',s),r=e('<div class="notify"></div>');if(l[2]){c=c.replace('{var}',l[2][n>1?0:1]);p=p.replace('{var}',l[2][s>1?0:1])};o.prop('selected',!1);t.$menu.append(r);if(n&&m){r.append(e('<div>'+c+'</div>'));t.$element.trigger('maxReached.bs.select')};if(s&&v){r.append(e('<div>'+p+'</div>'));t.$element.trigger('maxReachedGrp.bs.select')};setTimeout(function(){t.setSelected(a,!1)},10);r.delay(750).fadeOut(300,function(){e(this).remove()})}}}};if(!t.multiple){t.$button.focus()}
else if(t.options.liveSearch){t.$searchbox.focus()};if((g!=t.$element.val()&&t.multiple)||(x!=t.$element.prop('selectedIndex')&&!t.multiple)){t.$element.triggerNative('change');t.$element.trigger('changed.bs.select',[a,o.prop('selected'),u])}}});this.$menu.on('click','li.disabled a, .popover-title, .popover-title :not(.close)',function(i){if(i.currentTarget==this){i.preventDefault();i.stopPropagation();if(t.options.liveSearch&&!e(i.target).hasClass('close')){t.$searchbox.focus()}
else{t.$button.focus()}}});this.$menuInner.on('click','.divider, .dropdown-header',function(e){e.preventDefault();e.stopPropagation();if(t.options.liveSearch){t.$searchbox.focus()}
else{t.$button.focus()}});this.$menu.on('click','.popover-title .close',function(){t.$button.click()});this.$searchbox.on('click',function(e){e.stopPropagation()});this.$menu.on('click','.actions-btn',function(i){if(t.options.liveSearch){t.$searchbox.focus()}
else{t.$button.focus()};i.preventDefault();i.stopPropagation();if(e(this).hasClass('bs-select-all')){t.selectAll()}
else{t.deselectAll()};t.$element.triggerNative('change')});this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var t=this,s=e('<li class="no-results"></li>');this.$button.on('click.dropdown.data-api touchstart.dropdown.data-api',function(){t.$menuInner.find('.active').removeClass('active');if(!!t.$searchbox.val()){t.$searchbox.val('');t.$lis.not('.is-hidden').removeClass('hidden');if(!!s.parent().length)s.remove()};if(!t.multiple)t.$menuInner.find('.selected').addClass('active');setTimeout(function(){t.$searchbox.focus()},10)});this.$searchbox.on('click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api',function(e){e.stopPropagation()});this.$searchbox.on('input propertychange',function(){if(t.$searchbox.val()){var o=t.$lis.not('.is-hidden').removeClass('hidden').children('a');if(t.options.liveSearchNormalize){o=o.not(':a'+t._searchStyle()+'("'+i(t.$searchbox.val())+'")')}
else{o=o.not(':'+t._searchStyle()+'("'+t.$searchbox.val()+'")')};o.parent().addClass('hidden');t.$lis.filter('.dropdown-header').each(function(){var i=e(this),n=i.data('optgroup');if(t.$lis.filter('[data-optgroup='+n+']').not(i).not('.hidden').length===0){i.addClass('hidden');t.$lis.filter('[data-optgroup='+n+'div]').addClass('hidden')}});var a=t.$lis.not('.hidden');a.each(function(t){var i=e(this);if(i.hasClass('divider')&&(i.index()===a.first().index()||i.index()===a.last().index()||a.eq(t+1).hasClass('divider'))){i.addClass('hidden')}});if(!t.$lis.not('.hidden, .no-results').length){if(!!s.parent().length){s.remove()};s.html(t.options.noneResultsText.replace('{0}','"'+n(t.$searchbox.val())+'"')).show();t.$menuInner.append(s)}
else if(!!s.parent().length){s.remove()}}
else{t.$lis.not('.is-hidden').removeClass('hidden');if(!!s.parent().length){s.remove()}};t.$lis.filter('.active').removeClass('active');if(t.$searchbox.val())t.$lis.not('.hidden, .divider, .dropdown-header').eq(0).addClass('active').children('a').focus();e(this).focus()})},_searchStyle:function(){var e={begins:'ibegins',startsWith:'ibegins'};return e[this.options.liveSearchStyle]||'icontains'},val:function(e){if(typeof e!=='undefined'){this.$element.val(e);this.render();return this.$element}
else{return this.$element.val()}},changeAll:function(t){if(typeof t==='undefined')t=!0;this.findLis();var a=this.$element.find('option'),s=this.$lis.not('.divider, .dropdown-header, .disabled, .hidden').toggleClass('selected',t),l=s.length,n=[];for(var i=0;i<l;i++){var o=s[i].getAttribute('data-original-index');n[n.length]=a.eq(o)[0]};e(n).prop('selected',t);this.render(!1)},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},keydown:function(t){var a=e(this),c=a.is('input')?a.parent().parent():a.parent(),s,n=c.data('this'),o,d,p,u,m,v,g,r,h=':not(.disabled, .hidden, .dropdown-header, .divider)',b={32:' ',48:'0',49:'1',50:'2',51:'3',52:'4',53:'5',54:'6',55:'7',56:'8',57:'9',59:';',65:'a',66:'b',67:'c',68:'d',69:'e',70:'f',71:'g',72:'h',73:'i',74:'j',75:'k',76:'l',77:'m',78:'n',79:'o',80:'p',81:'q',82:'r',83:'s',84:'t',85:'u',86:'v',87:'w',88:'x',89:'y',90:'z',96:'0',97:'1',98:'2',99:'3',100:'4',101:'5',102:'6',103:'7',104:'8',105:'9'};if(n.options.liveSearch)c=a.parent().parent();if(n.options.container)c=n.$menu;s=e('[role=menu] li',c);r=n.$newElement.hasClass('open');if(!r&&(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode>=65&&t.keyCode<=90)){if(!n.options.container){n.setSize();n.$menu.parent().addClass('open');r=!0}
else{n.$button.trigger('click')};n.$searchbox.focus()};if(n.options.liveSearch){if(/(^9$|27)/.test(t.keyCode.toString(10))&&r&&n.$menu.find('.active').length===0){t.preventDefault();n.$menu.parent().removeClass('open');if(n.options.container)n.$newElement.removeClass('open');n.$button.focus()};s=e('[role=menu] li'+h,c);if(!a.val()&&!/(38|40)/.test(t.keyCode.toString(10))){if(s.filter('.active').length===0){s=n.$menuInner.find('li');if(n.options.liveSearchNormalize){s=s.filter(':a'+n._searchStyle()+'('+i(b[t.keyCode])+')')}
else{s=s.filter(':'+n._searchStyle()+'('+b[t.keyCode]+')')}}}};if(!s.length)return;if(/(38|40)/.test(t.keyCode.toString(10))){o=s.index(s.find('a').filter(':focus').parent());p=s.filter(h).first().index();u=s.filter(h).last().index();d=s.eq(o).nextAll(h).eq(0).index();m=s.eq(o).prevAll(h).eq(0).index();v=s.eq(d).prevAll(h).eq(0).index();if(n.options.liveSearch){s.each(function(t){if(!e(this).hasClass('disabled')){e(this).data('index',t)}});o=s.index(s.filter('.active'));p=s.first().data('index');u=s.last().data('index');d=s.eq(o).nextAll().eq(0).data('index');m=s.eq(o).prevAll().eq(0).data('index');v=s.eq(d).prevAll().eq(0).data('index')};g=a.data('prevIndex');if(t.keyCode==38){if(n.options.liveSearch)o--;if(o!=v&&o>m)o=m;if(o<p)o=p;if(o==g)o=u}
else if(t.keyCode==40){if(n.options.liveSearch)o++;if(o==-1)o=0;if(o!=v&&o<d)o=d;if(o>u)o=u;if(o==g)o=p};a.data('prevIndex',o);if(!n.options.liveSearch){s.eq(o).children('a').focus()}
else{t.preventDefault();if(!a.hasClass('dropdown-toggle')){s.removeClass('active').eq(o).addClass('active').children('a').focus();a.focus()}}}
else if(!a.is('input')){var f=[],l,y;s.each(function(){if(!e(this).hasClass('disabled')){if(e.trim(e(this).children('a').text().toLowerCase()).substring(0,1)==b[t.keyCode]){f.push(e(this).index())}}});l=e(document).data('keycount');l++;e(document).data('keycount',l);y=e.trim(e(':focus').text().toLowerCase()).substring(0,1);if(y!=b[t.keyCode]){l=1;e(document).data('keycount',l)}
else if(l>=f.length){e(document).data('keycount',0);if(l>f.length)l=1};s.eq(f[l-1]).children('a').focus()};if((/(13|32)/.test(t.keyCode.toString(10))||(/(^9$)/.test(t.keyCode.toString(10))&&n.options.selectOnTab))&&r){if(!/(32)/.test(t.keyCode.toString(10)))t.preventDefault();if(!n.options.liveSearch){var x=e(':focus');x.click();x.focus();t.preventDefault();e(document).data('spaceSelect',!0)}
else if(!/(32)/.test(t.keyCode.toString(10))){n.$menuInner.find('.active a').click();a.focus()};e(document).data('keycount',0)};if((/(^9$|27)/.test(t.keyCode.toString(10))&&r&&(n.multiple||n.options.liveSearch))||(/(27)/.test(t.keyCode.toString(10))&&!r)){n.$menu.parent().removeClass('open');if(n.options.container)n.$newElement.removeClass('open');n.$button.focus()}},mobile:function(){this.$element.addClass('mobile-device')},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();if(this.$lis)this.$searchbox.trigger('propertychange');this.$element.trigger('refreshed.bs.select')},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();if(this.$bsContainer){this.$bsContainer.remove()}
else{this.$menu.remove()};this.$element.off('.bs.select').removeData('selectpicker').removeClass('bs-select-hidden selectpicker')}};function s(i,n){var a=arguments,s=i,r=n;[].shift.apply(a);var o,l=this.each(function(){var l=e(this);if(l.is('select')){var i=l.data('selectpicker'),n=typeof s=='object'&&s;if(!i){var h=e.extend({},t.DEFAULTS,e.fn.selectpicker.defaults||{},l.data(),n);h.template=e.extend({},t.DEFAULTS.template,(e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{}),l.data().template,n.template);l.data('selectpicker',(i=new t(this,h,r)))}
else if(n){for(var d in n){if(n.hasOwnProperty(d)){i.options[d]=n[d]}}};if(typeof s=='string'){if(i[s]instanceof Function){o=i[s].apply(i,a)}
else{o=i.options[s]}}}});if(typeof o!=='undefined'){return o}
else{return l}};var o=e.fn.selectpicker;e.fn.selectpicker=s;e.fn.selectpicker.Constructor=t;e.fn.selectpicker.noConflict=function(){e.fn.selectpicker=o;return this};e(document).data('keycount',0).on('keydown.bs.select','.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',t.prototype.keydown).on('focusin.modal','.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()});e(window).on('load.bs.select.data-api',function(){e('.selectpicker').each(function(){var t=e(this);s.call(t,t.data())})})})(e)}));
/*! =======================================================
                      VERSION  7.0.3
========================================================= */
"use strict";function _typeof(t){return t&&typeof Symbol!=="undefined"&&t.constructor===Symbol?"symbol":typeof t};
/*! =========================================================
 * bootstrap-slider.js
 *
 * Maintainers:
 *      Kyle Kemp
 *          - Twitter: @seiyria
 *          - Github:  seiyria
 *      Rohit Kalkur
 *          - Twitter: @Rovolutionary
 *          - Github:  rovolution
 *
 * =========================================================
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}
else if((typeof module==="undefined"?"undefined":_typeof(module))==="object"&&module.exports){var i;try{i=require("jquery")}catch(e){i=null};module.exports=t(i)}
else if(window){window.Slider=t(window.jQuery)}})(function(t){var i;(function(t){"use strict";var i=Array.prototype.slice;function e(){};function s(t){if(!t){return};function o(i){if(i.prototype.option){return};i.prototype.option=function(i){if(!t.isPlainObject(i)){return};this.options=t.extend(!0,this.options,i)}};var s=typeof console==="undefined"?e:function(t){console.error(t)};function n(e,o){t.fn[e]=function(n){if(typeof n==="string"){var u=i.call(arguments,1);for(var r=0,d=this.length;r<d;r++){var p=this[r],a=t.data(p,e);if(!a){s("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'");continue};if(!t.isFunction(a[n])||n.charAt(0)==="_"){s("no such method '"+n+"' for "+e+" instance");continue};var l=a[n].apply(a,u);if(l!==undefined&&l!==a){return l}};return this}
else{var h=this.map(function(){var i=t.data(this,e);if(i){i.option(n);i._init()}
else{i=new o(this,n);t.data(this,e,i)};return t(this)});if(!h||h.length>1){return h}
else{return h[0]}}}};t.bridget=function(t,i){o(i);n(t,i)};return t.bridget};s(t)})(t);(function(t){var o={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"};var s={linear:{toValue:function(t){var h=t/100*(this.options.max-this.options.min),l=!0;if(this.options.ticks_positions.length>0){var s,n,o,a=0;for(var i=1;i<this.options.ticks_positions.length;i++){if(t<=this.options.ticks_positions[i]){s=this.options.ticks[i-1];o=this.options.ticks_positions[i-1];n=this.options.ticks[i];a=this.options.ticks_positions[i];break}};var p=(t-o)/(a-o);h=s+p*(n-s);l=!1};var r=l?this.options.min:0,e=r+Math.round(h/this.options.step)*this.options.step;if(e<this.options.min){return this.options.min}
else if(e>this.options.max){return this.options.max}
else{return e}},toPercentage:function(t){if(this.options.max===this.options.min){return 0};if(this.options.ticks_positions.length>0){var e,o,s,n=0;for(var i=0;i<this.options.ticks.length;i++){if(t<=this.options.ticks[i]){e=i>0?this.options.ticks[i-1]:0;s=i>0?this.options.ticks_positions[i-1]:0;o=this.options.ticks[i];n=this.options.ticks_positions[i];break}};if(i>0){var a=(t-e)/(o-e);return s+a*(n-s)}};return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=this.options.min===0?0:Math.log(this.options.min),s=Math.log(this.options.max),i=Math.exp(e+(s-e)*t/100);i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step;if(i<this.options.min){return this.options.min}
else if(i>this.options.max){return this.options.max}
else{return i}},toPercentage:function(t){if(this.options.max===this.options.min){return 0}
else{var e=Math.log(this.options.max),i=this.options.min===0?0:Math.log(this.options.min),s=t===0?0:Math.log(t);return 100*(s-i)/(e-i)}}}};i=function(t,i){n.call(this,t,i);return this};function n(i,e){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1};if(typeof i==="string"){this.element=document.querySelector(i)}
else if(i instanceof HTMLElement){this.element=i};e=e?e:{};var E=Object.keys(this.defaultOptions);for(var o=0;o<E.length;o++){var v=E[o],l=e[v];l=typeof l!=="undefined"?l:A(this.element,v);l=l!==null?l:this.defaultOptions[v];if(!this.options){this.options={}};this.options[v]=l};if(this.options.orientation==="vertical"&&(this.options.tooltip_position==="top"||this.options.tooltip_position==="bottom")){this.options.tooltip_position="right"}
else if(this.options.orientation==="horizontal"&&(this.options.tooltip_position==="left"||this.options.tooltip_position==="right")){this.options.tooltip_position="top"};function A(t,i){var s="data-slider-"+i.replace(/_/g,"-"),e=t.getAttribute(s);try{return JSON.parse(e)}catch(o){return e}};var T=this.element.style.width,k=!1,P=this.element.parentNode,r,m,f,n,a;if(this.sliderElem){k=!0}
else{this.sliderElem=document.createElement("div");this.sliderElem.className="slider";var h=document.createElement("div");h.className="slider-track";m=document.createElement("div");m.className="slider-track-low";r=document.createElement("div");r.className="slider-selection";f=document.createElement("div");f.className="slider-track-high";n=document.createElement("div");n.className="slider-handle min-slider-handle";n.setAttribute("role","slider");n.setAttribute("aria-valuemin",this.options.min);n.setAttribute("aria-valuemax",this.options.max);a=document.createElement("div");a.className="slider-handle max-slider-handle";a.setAttribute("role","slider");a.setAttribute("aria-valuemin",this.options.min);a.setAttribute("aria-valuemax",this.options.max);h.appendChild(m);h.appendChild(r);h.appendChild(f);var b=Array.isArray(this.options.labelledby);if(b&&this.options.labelledby[0]){n.setAttribute("aria-labelledby",this.options.labelledby[0])};if(b&&this.options.labelledby[1]){a.setAttribute("aria-labelledby",this.options.labelledby[1])};if(!b&&this.options.labelledby){n.setAttribute("aria-labelledby",this.options.labelledby);a.setAttribute("aria-labelledby",this.options.labelledby)};this.ticks=[];if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(o=0;o<this.options.ticks.length;o++){var y=document.createElement("div");y.className="slider-tick";this.ticks.push(y);h.appendChild(y)};r.className+=" tick-slider-selection"};h.appendChild(n);h.appendChild(a);this.tickLabels=[];if(Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0){this.tickLabelContainer=document.createElement("div");this.tickLabelContainer.className="slider-tick-label-container";for(o=0;o<this.options.ticks_labels.length;o++){var c=document.createElement("div"),w=this.options.ticks_positions.length===0,L=this.options.reversed&&w?this.options.ticks_labels.length-(o+1):o;c.className="slider-tick-label";c.innerHTML=this.options.ticks_labels[L];this.tickLabels.push(c);this.tickLabelContainer.appendChild(c)}};var g=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner";t.appendChild(e);t.appendChild(i)},u=document.createElement("div");u.className="tooltip tooltip-main";u.setAttribute("role","presentation");g(u);var d=document.createElement("div");d.className="tooltip tooltip-min";d.setAttribute("role","presentation");g(d);var p=document.createElement("div");p.className="tooltip tooltip-max";p.setAttribute("role","presentation");g(p);this.sliderElem.appendChild(h);this.sliderElem.appendChild(u);this.sliderElem.appendChild(d);this.sliderElem.appendChild(p);if(this.tickLabelContainer){this.sliderElem.appendChild(this.tickLabelContainer)};P.insertBefore(this.sliderElem,this.element);this.element.style.display="none"};if(t){this.$element=t(this.element);this.$sliderElem=t(this.sliderElem)};this.eventToCallbackMap={};this.sliderElem.id=this.options.id;this.touchCapable="ontouchstart" in window||window.DocumentTouch&&document instanceof window.DocumentTouch;this.touchX=0;this.touchY=0;this.tooltip=this.sliderElem.querySelector(".tooltip-main");this.tooltipInner=this.tooltip.querySelector(".tooltip-inner");this.tooltip_min=this.sliderElem.querySelector(".tooltip-min");this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner");this.tooltip_max=this.sliderElem.querySelector(".tooltip-max");this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner");if(s[this.options.scale]){this.options.scale=s[this.options.scale]};if(k===!0){this._removeClass(this.sliderElem,"slider-horizontal");this._removeClass(this.sliderElem,"slider-vertical");this._removeClass(this.tooltip,"hide");this._removeClass(this.tooltip_min,"hide");this._removeClass(this.tooltip_max,"hide");["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t);this._removeProperty(this.trackSelection,t);this._removeProperty(this.trackHigh,t)},this);[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left");this._removeProperty(t,"top")},this);[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left");this._removeProperty(t,"top");this._removeProperty(t,"margin-left");this._removeProperty(t,"margin-top");this._removeClass(t,"right");this._removeClass(t,"top")},this)};if(this.options.orientation==="vertical"){this._addClass(this.sliderElem,"slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight"}
else{this._addClass(this.sliderElem,"slider-horizontal");this.sliderElem.style.width=T;this.options.orientation="horizontal";this.stylePos="left";this.mousePos="pageX";this.sizePos="offsetWidth"};this._setTooltipPosition();if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){this.options.max=Math.max.apply(Math,this.options.ticks);this.options.min=Math.min.apply(Math,this.options.ticks)};if(Array.isArray(this.options.value)){this.options.range=!0;this._state.value=this.options.value}
else if(this.options.range){this._state.value=[this.options.value,this.options.max]}
else{this._state.value=this.options.value};this.trackLow=m||this.trackLow;this.trackSelection=r||this.trackSelection;this.trackHigh=f||this.trackHigh;if(this.options.selection==="none"){this._addClass(this.trackLow,"hide");this._addClass(this.trackSelection,"hide");this._addClass(this.trackHigh,"hide")};this.handle1=n||this.handle1;this.handle2=a||this.handle2;if(k===!0){this._removeClass(this.handle1,"round triangle");this._removeClass(this.handle2,"round triangle hide");for(o=0;o<this.ticks.length;o++){this._removeClass(this.ticks[o],"round triangle hide")}};var x=["round","triangle","custom"],C=x.indexOf(this.options.handle)!==-1;if(C){this._addClass(this.handle1,this.options.handle);this._addClass(this.handle2,this.options.handle);for(o=0;o<this.ticks.length;o++){this._addClass(this.ticks[o],this.options.handle)}};this._state.offset=this._offset(this.sliderElem);this._state.size=this.sliderElem[this.sizePos];this.setValue(this._state.value);this.handle1Keydown=this._keydown.bind(this,0);this.handle1.addEventListener("keydown",this.handle1Keydown,!1);this.handle2Keydown=this._keydown.bind(this,1);this.handle2.addEventListener("keydown",this.handle2Keydown,!1);this.mousedown=this._mousedown.bind(this);this.touchstart=this._touchstart.bind(this);this.touchmove=this._touchmove.bind(this);if(this.touchCapable){this.sliderElem.addEventListener("touchstart",this.touchstart,!1);this.sliderElem.addEventListener("touchmove",this.touchmove,!1)};this.sliderElem.addEventListener("mousedown",this.mousedown,!1);this.resize=this._resize.bind(this);window.addEventListener("resize",this.resize,!1);if(this.options.tooltip==="hide"){this._addClass(this.tooltip,"hide");this._addClass(this.tooltip_min,"hide");this._addClass(this.tooltip_max,"hide")}
else if(this.options.tooltip==="always"){this._showTooltip();this._alwaysShowTooltip=!0}
else{this.showTooltip=this._showTooltip.bind(this);this.hideTooltip=this._hideTooltip.bind(this);this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1);this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1);this.handle1.addEventListener("blur",this.hideTooltip,!1);this.handle2.addEventListener("focus",this.showTooltip,!1);this.handle2.addEventListener("blur",this.hideTooltip,!1)};if(this.options.enabled){this.enable()}
else{this.disable()}};i.prototype={_init:function(){},constructor:i,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){if(Array.isArray(t)){return t[0]+" : "+t[1]}
else{return t}},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null,labelledby:null},getElement:function(){return this.sliderElem},getValue:function(){if(this.options.range){return this._state.value}
else{return this._state.value[0]}},setValue:function(t,i,o){if(!t){t=0};var n=this.getValue();this._state.value=this._validateInputValue(t);var s=this._applyPrecision.bind(this);if(this.options.range){this._state.value[0]=s(this._state.value[0]);this._state.value[1]=s(this._state.value[1]);this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0]));this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))}
else{this._state.value=s(this._state.value);this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))];this._addClass(this.handle2,"hide");if(this.options.selection==="after"){this._state.value[1]=this.options.max}
else{this._state.value[1]=this.options.min}};if(this.options.max>this.options.min){this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),this.options.step*100/(this.options.max-this.options.min)]}
else{this._state.percentage=[0,0,100]};this._layout();var e=this.options.range?this._state.value:this._state.value[0];this._setDataVal(e);if(i===!0){this._trigger("slide",e)};if(n!==e&&o===!0){this._trigger("change",{oldValue:n,newValue:e})};return this},destroy:function(){this._removeSliderEventHandlers();this.sliderElem.parentNode.removeChild(this.sliderElem);this.element.style.display="";this._cleanUpEventCallbacksMap();this.element.removeAttribute("data");if(t){this._unbindJQueryEventHandlers();this.$element.removeData("slider")}},disable:function(){this._state.enabled=!1;this.handle1.removeAttribute("tabindex");this.handle2.removeAttribute("tabindex");this._addClass(this.sliderElem,"slider-disabled");this._trigger("slideDisabled");return this},enable:function(){this._state.enabled=!0;this.handle1.setAttribute("tabindex",0);this.handle2.setAttribute("tabindex",0);this._removeClass(this.sliderElem,"slider-disabled");this._trigger("slideEnabled");return this},toggle:function(){if(this._state.enabled){this.disable()}
else{this.enable()};return this},isEnabled:function(){return this._state.enabled},on:function(t,i){this._bindNonQueryEventHandler(t,i);return this},off:function(i,e){if(t){this.$element.off(i,e);this.$sliderElem.off(i,e)}
else{this._unbindNonQueryEventHandler(i,e)}},getAttribute:function(t){if(t){return this.options[t]}
else{return this.options}},setAttribute:function(t,i){this.options[t]=i;return this},refresh:function(){this._removeSliderEventHandlers();n.call(this,this.element,this.options);if(t){t.data(this.element,"slider",this)};return this},relayout:function(){this._resize();this._layout();return this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1);this.handle2.removeEventListener("keydown",this.handle2Keydown,!1);if(this.showTooltip){this.handle1.removeEventListener("focus",this.showTooltip,!1);this.handle2.removeEventListener("focus",this.showTooltip,!1)};if(this.hideTooltip){this.handle1.removeEventListener("blur",this.hideTooltip,!1);this.handle2.removeEventListener("blur",this.hideTooltip,!1)};if(this.showTooltip){this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1)};if(this.hideTooltip){this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1)};this.sliderElem.removeEventListener("touchstart",this.touchstart,!1);this.sliderElem.removeEventListener("touchmove",this.touchmove,!1);this.sliderElem.removeEventListener("mousedown",this.mousedown,!1);window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,i){if(this.eventToCallbackMap[t]===undefined){this.eventToCallbackMap[t]=[]};this.eventToCallbackMap[t].push(i)},_unbindNonQueryEventHandler:function(t,i){var s=this.eventToCallbackMap[t];if(s!==undefined){for(var e=0;e<s.length;e++){if(s[e]===i){s.splice(e,1);break}}}},_cleanUpEventCallbacksMap:function(){var i=Object.keys(this.eventToCallbackMap);for(var t=0;t<i.length;t++){var e=i[t];this.eventToCallbackMap[e]=null}},_showTooltip:function(){if(this.options.tooltip_split===!1){this._addClass(this.tooltip,"in");this.tooltip_min.style.display="none";this.tooltip_max.style.display="none"}
else{this._addClass(this.tooltip_min,"in");this._addClass(this.tooltip_max,"in");this.tooltip.style.display="none"};this._state.over=!0},_hideTooltip:function(){if(this._state.inDrag===!1&&this.alwaysShowTooltip!==!0){this._removeClass(this.tooltip,"in");this._removeClass(this.tooltip_min,"in");this._removeClass(this.tooltip_max,"in")};this._state.over=!1},_layout:function(){var t;if(this.options.reversed){t=[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]}
else{t=[this._state.percentage[0],this._state.percentage[1]]};this.handle1.style[this.stylePos]=t[0]+"%";this.handle1.setAttribute("aria-valuenow",this._state.value[0]);this.handle2.style[this.stylePos]=t[1]+"%";this.handle2.setAttribute("aria-valuenow",this._state.value[1]);if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var d=this.options.orientation==="vertical"?"height":"width",l=this.options.orientation==="vertical"?"marginTop":"marginLeft",n=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var o=0;if(this.options.ticks_positions.length===0){if(this.options.orientation!=="vertical"){this.tickLabelContainer.style[l]=-n/2+"px"};o=this.tickLabelContainer.offsetHeight}
else{for(i=0;i<this.tickLabelContainer.childNodes.length;i++){if(this.tickLabelContainer.childNodes[i].offsetHeight>o){o=this.tickLabelContainer.childNodes[i].offsetHeight}}};if(this.options.orientation==="horizontal"){this.sliderElem.style.marginBottom=o+"px"}};for(var i=0;i<this.options.ticks.length;i++){var e=this.options.ticks_positions[i]||this._toPercentage(this.options.ticks[i]);if(this.options.reversed){e=100-e};this.ticks[i].style[this.stylePos]=e+"%";this._removeClass(this.ticks[i],"in-selection");if(!this.options.range){if(this.options.selection==="after"&&e>=t[0]){this._addClass(this.ticks[i],"in-selection")}
else if(this.options.selection==="before"&&e<=t[0]){this._addClass(this.ticks[i],"in-selection")}}
else if(e>=t[0]&&e<=t[1]){this._addClass(this.ticks[i],"in-selection")};if(this.tickLabels[i]){this.tickLabels[i].style[d]=n+"px";if(this.options.orientation!=="vertical"&&this.options.ticks_positions[i]!==undefined){this.tickLabels[i].style.position="absolute";this.tickLabels[i].style[this.stylePos]=e+"%";this.tickLabels[i].style[l]=-n/2+"px"}
else if(this.options.orientation==="vertical"){this.tickLabels[i].style["marginLeft"]=this.sliderElem.offsetWidth+"px";this.tickLabelContainer.style["marginTop"]=this.sliderElem.offsetWidth/2*-1+"px"}}}};var s;if(this.options.range){s=this.options.formatter(this._state.value);this._setText(this.tooltipInner,s);this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%";if(this.options.orientation==="vertical"){this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px")}
else{this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")};if(this.options.orientation==="vertical"){this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px")}
else{this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")};var p=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,p);var r=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,r);this.tooltip_min.style[this.stylePos]=t[0]+"%";if(this.options.orientation==="vertical"){this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px")}
else{this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px")};this.tooltip_max.style[this.stylePos]=t[1]+"%";if(this.options.orientation==="vertical"){this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px")}
else{this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}}
else{s=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner,s);this.tooltip.style[this.stylePos]=t[0]+"%";if(this.options.orientation==="vertical"){this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px")}
else{this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")}};if(this.options.orientation==="vertical"){this.trackLow.style.top="0";this.trackLow.style.height=Math.min(t[0],t[1])+"%";this.trackSelection.style.top=Math.min(t[0],t[1])+"%";this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%";this.trackHigh.style.bottom="0";this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%"}
else{this.trackLow.style.left="0";this.trackLow.style.width=Math.min(t[0],t[1])+"%";this.trackSelection.style.left=Math.min(t[0],t[1])+"%";this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%";this.trackHigh.style.right="0";this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var a=this.tooltip_min.getBoundingClientRect(),h=this.tooltip_max.getBoundingClientRect();if(this.options.tooltip_position==="bottom"){if(a.right>h.left){this._removeClass(this.tooltip_max,"bottom");this._addClass(this.tooltip_max,"top");this.tooltip_max.style.top="";this.tooltip_max.style.bottom=22+"px"}
else{this._removeClass(this.tooltip_max,"top");this._addClass(this.tooltip_max,"bottom");this.tooltip_max.style.top=this.tooltip_min.style.top;this.tooltip_max.style.bottom=""}}
else{if(a.right>h.left){this._removeClass(this.tooltip_max,"top");this._addClass(this.tooltip_max,"bottom");this.tooltip_max.style.top=18+"px"}
else{this._removeClass(this.tooltip_max,"bottom");this._addClass(this.tooltip_max,"top");this.tooltip_max.style.top=this.tooltip_min.style.top}}}},_resize:function(t){this._state.offset=this._offset(this.sliderElem);this._state.size=this.sliderElem[this.sizePos];this._layout()},_removeProperty:function(t,i){if(t.style.removeProperty){t.style.removeProperty(i)}
else{t.style.removeAttribute(i)}},_mousedown:function(t){if(!this._state.enabled){return!1};this._state.offset=this._offset(this.sliderElem);this._state.size=this.sliderElem[this.sizePos];var i=this._getPercentage(t);if(this.options.range){var s=Math.abs(this._state.percentage[0]-i),o=Math.abs(this._state.percentage[1]-i);this._state.dragged=s<o?0:1;this._adjustPercentageForRangeSliders(i)}
else{this._state.dragged=0};this._state.percentage[this._state.dragged]=i;this._layout();if(this.touchCapable){document.removeEventListener("touchmove",this.mousemove,!1);document.removeEventListener("touchend",this.mouseup,!1)};if(this.mousemove){document.removeEventListener("mousemove",this.mousemove,!1)};if(this.mouseup){document.removeEventListener("mouseup",this.mouseup,!1)};this.mousemove=this._mousemove.bind(this);this.mouseup=this._mouseup.bind(this);if(this.touchCapable){document.addEventListener("touchmove",this.mousemove,!1);document.addEventListener("touchend",this.mouseup,!1)};document.addEventListener("mousemove",this.mousemove,!1);document.addEventListener("mouseup",this.mouseup,!1);this._state.inDrag=!0;var e=this._calculateValue();this._trigger("slideStart",e);this._setDataVal(e);this.setValue(e,!1,!0);this._pauseEvent(t);if(this.options.focus){this._triggerFocusOnHandle(this._state.dragged)};return!0},_touchstart:function(t){if(t.changedTouches===undefined){this._mousedown(t);return};var i=t.changedTouches[0];this.touchX=i.pageX;this.touchY=i.pageY},_triggerFocusOnHandle:function(t){if(t===0){this.handle1.focus()};if(t===1){this.handle2.focus()}},_keydown:function(t,i){if(!this._state.enabled){return!1};var s;switch(i.keyCode){case 37:case 40:s=-1;break;case 39:case 38:s=1;break};if(!s){return};if(this.options.natural_arrow_keys){var o=this.options.orientation==="vertical"&&!this.options.reversed,n=this.options.orientation==="horizontal"&&this.options.reversed;if(o||n){s=-s}};var e=this._state.value[t]+s*this.options.step;if(this.options.range){e=[!t?e:this._state.value[0],t?e:this._state.value[1]]};this._trigger("slideStart",e);this._setDataVal(e);this.setValue(e,!0,!0);this._setDataVal(e);this._trigger("slideStop",e);this._layout();this._pauseEvent(i);return!1},_pauseEvent:function(t){if(t.stopPropagation){t.stopPropagation()};if(t.preventDefault){t.preventDefault()};t.cancelBubble=!0;t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled){return!1};var i=this._getPercentage(t);this._adjustPercentageForRangeSliders(i);this._state.percentage[this._state.dragged]=i;this._layout();var e=this._calculateValue(!0);this.setValue(e,!0,!0);return!1},_touchmove:function(t){if(t.changedTouches===undefined){return};var s=t.changedTouches[0],i=s.pageX-this.touchX,e=s.pageY-this.touchY;if(!this._state.inDrag){if(this.options.orientation==="vertical"&&i<=5&&i>=-5&&(e>=15||e<=-15)){this._mousedown(t)}
else if(e<=5&&e>=-5&&(i>=15||i<=-15)){this._mousedown(t)}}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var i=this._getNumDigitsAfterDecimalPlace(t);i=i?i-1:0;var e=this._applyToFixedAndParseFloat(t,i);if(this._state.dragged===0&&this._applyToFixedAndParseFloat(this._state.percentage[1],i)<e){this._state.percentage[0]=this._state.percentage[1];this._state.dragged=1}
else if(this._state.dragged===1&&this._applyToFixedAndParseFloat(this._state.percentage[0],i)>e){this._state.percentage[1]=this._state.percentage[0];this._state.dragged=0}}},_mouseup:function(){if(!this._state.enabled){return!1};if(this.touchCapable){document.removeEventListener("touchmove",this.mousemove,!1);document.removeEventListener("touchend",this.mouseup,!1)};document.removeEventListener("mousemove",this.mousemove,!1);document.removeEventListener("mouseup",this.mouseup,!1);this._state.inDrag=!1;if(this._state.over===!1){this._hideTooltip()};var t=this._calculateValue(!0);this._layout();this._setDataVal(t);this._trigger("slideStop",t);return!1},_calculateValue:function(t){var i;if(this.options.range){i=[this.options.min,this.options.max];if(this._state.percentage[0]!==0){i[0]=this._toValue(this._state.percentage[0]);i[0]=this._applyPrecision(i[0])};if(this._state.percentage[1]!==100){i[1]=this._toValue(this._state.percentage[1]);i[1]=this._applyPrecision(i[1])}}
else{i=this._toValue(this._state.percentage[0]);i=parseFloat(i);i=this._applyPrecision(i)};if(t){var s=[i,Infinity];for(var e=0;e<this.options.ticks.length;e++){var o=Math.abs(this.options.ticks[e]-i);if(o<=s[1]){s=[this.options.ticks[e],o]}};if(s[1]<=this.options.ticks_snap_bounds){return s[0]}};return i},_applyPrecision:function(t){var i=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,i)},_getNumDigitsAfterDecimalPlace:function(t){var i=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!i){return 0};return Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0))},_applyToFixedAndParseFloat:function(t,i){var e=t.toFixed(i);return parseFloat(e)},_getPercentage:function(t){if(this.touchCapable&&(t.type==="touchstart"||t.type==="touchmove")){t=t.touches[0]};var e=t[this.mousePos],s=this._state.offset[this.stylePos],o=e-s,i=o/this._state.size*100;i=Math.round(i/this._state.percentage[2])*this._state.percentage[2];if(this.options.reversed){i=100-i};return Math.max(0,Math.min(100,i))},_validateInputValue:function(t){if(typeof t==="number"){return t}
else if(Array.isArray(t)){this._validateArray(t);return t}
else{throw new Error(o.formatInvalidInputErrorMsg(t))}},_validateArray:function(t){for(var i=0;i<t.length;i++){var e=t[i];if(typeof e!=="number"){throw new Error(o.formatInvalidInputErrorMsg(e))}}},_setDataVal:function(t){this.element.setAttribute("data-value",t);this.element.setAttribute("value",t);this.element.value=t},_trigger:function(i,e){e=e||e===0?e:undefined;var s=this.eventToCallbackMap[i];if(s&&s.length){for(var o=0;o<s.length;o++){var n=s[o];n(e)}};if(t){this._triggerJQueryEvent(i,e)}},_triggerJQueryEvent:function(t,i){var e={type:t,value:i};this.$element.trigger(e);this.$sliderElem.trigger(e)},_unbindJQueryEventHandlers:function(){this.$element.off();this.$sliderElem.off()},_setText:function(t,i){if(typeof t.textContent!=="undefined"){t.textContent=i}
else if(typeof t.innerText!=="undefined"){t.innerText=i}},_removeClass:function(t,i){var o=i.split(" "),s=t.className;for(var e=0;e<o.length;e++){var n=o[e],a=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");s=s.replace(a," ")};t.className=s.trim()},_addClass:function(t,i){var n=i.split(" "),s=t.className;for(var e=0;e<n.length;e++){var o=n[e],a=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)"),h=a.test(s);if(!h){s+=" "+o}};t.className=s.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){var i=t.offsetTop;while((t=t.offsetParent)&&!isNaN(t.offsetTop)){i+=t.offsetTop;if(t.tagName!=="BODY"){i-=t.scrollTop}};return i},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(i,e,s){if(t){t.style(i,e,s)}
else{var o=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,i){return i.toUpperCase()});i.style[o]=s}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if(this.options.orientation==="vertical"){var i=this.options.tooltip_position||"right",e=i==="left"?"right":"left";t.forEach((function(t){this._addClass(t,i);t.style[e]="100%"}).bind(this))}
else if(this.options.tooltip_position==="bottom"){t.forEach((function(t){this._addClass(t,"bottom");t.style.top=22+"px"}).bind(this))}
else{t.forEach((function(t){this._addClass(t,"top");t.style.top=-this.tooltip.outerHeight-14+"px"}).bind(this))}}};if(t){var e=t.fn.slider?"bootstrapSlider":"slider";t.bridget(e,i);t(function(){t("input[data-provide=slider]")[e]()})}})(t);return i});
(function(t){'use strict';var n={tagClass:function(t){return'label label-info'},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},itemTitle:function(t){return null},freeInput:!0,addOnBlur:!0,maxTags:undefined,maxChars:undefined,confirmKeys:[13,44],delimiter:',',delimiterRegex:null,cancelConfirmKeysOnEmpty:!0,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};function i(e,i){this.itemsArray=[];this.$element=t(e);this.$element.hide();this.isSelect=(e.tagName==='SELECT');this.multiple=(this.isSelect&&e.hasAttribute('multiple'));this.objectItems=i&&i.itemValue;this.placeholderText=e.hasAttribute('placeholder')?this.$element.attr('placeholder'):'';this.inputSize=Math.max(1,this.placeholderText.length);this.$container=t('<div class="bootstrap-tagsinput"></div>');this.$input=t('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container);this.$element.before(this.$container);this.build(i)};i.prototype={constructor:i,add:function(i,a,r){var n=this;if(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags)return;if(i!==!1&&!i)return;if(typeof i==='string'&&n.options.trimValue){i=t.trim(i)};if(typeof i==='object'&&!n.objectItems)throw('Can\'t add objects when itemValue option is not set');if(i.toString().match(/^\s*$/))return;if(n.isSelect&&!n.multiple&&n.itemsArray.length>0)n.remove(n.itemsArray[0]);if(typeof i==='string'&&this.$element[0].tagName==='INPUT'){var v=(n.options.delimiterRegex)?n.options.delimiterRegex:n.options.delimiter,p=i.split(v);if(p.length>1){for(var u=0;u<p.length;u++){this.add(p[u],!0)};if(!a)n.pushVal();return}};var l=n.options.itemValue(i),c=n.options.itemText(i),g=n.options.tagClass(i),h=n.options.itemTitle(i),m=t.grep(n.itemsArray,function(t){return n.options.itemValue(t)===l})[0];if(m&&!n.options.allowDuplicates){if(n.options.onTagExists){var d=t('.tag',n.$container).filter(function(){return t(this).data('item')===m});n.options.onTagExists(i,d)};return};if(n.items().toString().length+i.length+1>n.options.maxInputLength)return;var f=t.Event('beforeItemAdd',{item:i,cancel:!1,options:r});n.$element.trigger(f);if(f.cancel)return;n.itemsArray.push(i);var s=t('<span class="tag '+e(g)+(h!==null?('" title="'+h):'')+'">'+e(c)+'<span data-role="remove"></span></span>');s.data('item',i);n.findInputWrapper().before(s);s.after(' ');if(n.isSelect&&!t('option[value="'+encodeURIComponent(l)+'"]',n.$element)[0]){var o=t('<option selected>'+e(c)+'</option>');o.data('item',i);o.attr('value',l);n.$element.append(o)};if(!a)n.pushVal();if(n.options.maxTags===n.itemsArray.length||n.items().toString().length===n.options.maxInputLength)n.$container.addClass('bootstrap-tagsinput-max');n.$element.trigger(t.Event('itemAdded',{item:i,options:r}))},remove:function(e,n,a){var i=this;if(i.objectItems){if(typeof e==='object')e=t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==i.options.itemValue(e)});else e=t.grep(i.itemsArray,function(t){return i.options.itemValue(t)==e});e=e[e.length-1]};if(e){var r=t.Event('beforeItemRemove',{item:e,cancel:!1,options:a});i.$element.trigger(r);if(r.cancel)return;t('.tag',i.$container).filter(function(){return t(this).data('item')===e}).remove();t('option',i.$element).filter(function(){return t(this).data('item')===e}).remove();if(t.inArray(e,i.itemsArray)!==-1)i.itemsArray.splice(t.inArray(e,i.itemsArray),1)};if(!n)i.pushVal();if(i.options.maxTags>i.itemsArray.length)i.$container.removeClass('bootstrap-tagsinput-max');i.$element.trigger(t.Event('itemRemoved',{item:e,options:a}))},removeAll:function(){var e=this;t('.tag',e.$container).remove();t('option',e.$element).remove();while(e.itemsArray.length>0)e.itemsArray.pop();e.pushVal()},refresh:function(){var i=this;t('.tag',i.$container).each(function(){var n=t(this),a=n.data('item'),o=i.options.itemValue(a),s=i.options.itemText(a),l=i.options.tagClass(a);n.attr('class',null);n.addClass('tag '+e(l));n.contents().filter(function(){return this.nodeType==3})[0].nodeValue=e(s);if(i.isSelect){var r=t('option',i.$element).filter(function(){return t(this).data('item')===a});r.attr('value',o)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,i=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(i,!0).trigger('change')},build:function(i){var e=this;e.options=t.extend({},n,i);if(e.objectItems)e.options.freeInput=!1;a(e.options,'itemValue');a(e.options,'itemText');r(e.options,'tagClass');if(e.options.typeahead){var p=e.options.typeahead||{};r(p,'source');e.$input.typeahead(t.extend({},p,{source:function(i,n){function r(t){var r=[];for(var i=0;i<t.length;i++){var a=e.options.itemText(t[i]);o[a]=t[i];r.push(a)};n(r)};this.map={};var o=this.map,a=p.source(i);if(t.isFunction(a.success)){a.success(r)}
else if(t.isFunction(a.then)){a.then(r)}
else{t.when(a).then(r)}},updater:function(t){e.add(this.map[t]);return this.map[t]},matcher:function(t){return(t.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1)},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp('('+this.query+')','gi');return t.replace(e,'<strong>$1</strong>')}}))};if(e.options.typeaheadjs){var f=null,s={};var u=e.options.typeaheadjs;if(t.isArray(u)){f=u[0];s=u[1]}
else{s=u};e.$input.typeahead(f,s).on('typeahead:selected',t.proxy(function(t,i){if(s.valueKey)e.add(i[s.valueKey]);else e.add(i);e.$input.typeahead('val','')},e))};e.$container.on('click',t.proxy(function(t){if(!e.$element.attr('disabled')){e.$input.removeAttr('disabled')};e.$input.focus()},e));if(e.options.addOnBlur&&e.options.freeInput){e.$input.on('focusout',t.proxy(function(i){if(t('.typeahead, .twitter-typeahead',e.$container).length===0){e.add(e.$input.val());e.$input.val('')}},e))};e.$container.on('keydown','input',t.proxy(function(i){var n=t(i.target),a=e.findInputWrapper();if(e.$element.attr('disabled')){e.$input.attr('disabled','disabled');return};switch(i.which){case 8:if(o(n[0])===0){var p=a.prev();if(p.length){e.remove(p.data('item'))}};break;case 46:if(o(n[0])===0){var u=a.next();if(u.length){e.remove(u.data('item'))}};break;case 37:var l=a.prev();if(n.val().length===0&&l[0]){l.before(a);n.focus()};break;case 39:var s=a.next();if(n.val().length===0&&s[0]){s.after(a);n.focus()};break;default:};var r=n.val().length,f=Math.ceil(r/5),c=r+f+1;n.attr('size',Math.max(this.inputSize,n.val().length))},e));e.$container.on('keypress','input',t.proxy(function(i){var n=t(i.target);if(e.$element.attr('disabled')){e.$input.attr('disabled','disabled');return};var a=n.val(),o=e.options.maxChars&&a.length>=e.options.maxChars;if(e.options.freeInput&&(l(i,e.options.confirmKeys)||o)){if(a.length!==0){e.add(o?a.substr(0,e.options.maxChars):a);n.val('')};if(e.options.cancelConfirmKeysOnEmpty===!1){i.preventDefault()}};var r=n.val().length,s=Math.ceil(r/5),u=r+s+1;n.attr('size',Math.max(this.inputSize,n.val().length))},e));e.$container.on('click','[data-role=remove]',t.proxy(function(i){if(e.$element.attr('disabled')){return};e.remove(t(i.target).closest('.tag').data('item'))},e));if(e.options.itemValue===n.itemValue){if(e.$element[0].tagName==='INPUT'){e.add(e.$element.val())}
else{t('option',e.$element).each(function(){e.add(t(this).attr('value'),!0)})}}},destroy:function(){var t=this;t.$container.off('keypress','input');t.$container.off('click','[role=remove]');t.$container.remove();t.$element.removeData('tagsinput');t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){var e=this.$input[0],i=this.$container[0];while(e&&e.parentNode!==i)e=e.parentNode;return t(e)}};t.fn.tagsinput=function(e,n,r){var a=[];this.each(function(){var o=t(this).data('tagsinput');if(!o){o=new i(this,e);t(this).data('tagsinput',o);a.push(o);if(this.tagName==='SELECT'){t('option',t(this)).attr('selected','selected')};t(this).val(t(this).val())}
else if(!e&&!n){a.push(o)}
else if(o[e]!==undefined){if(o[e].length===3&&r!==undefined){var s=o[e](n,null,r)}
else{var s=o[e](n)};if(s!==undefined)a.push(s)}});if(typeof e=='string'){return a.length>1?a:a[0]}
else{return a}};t.fn.tagsinput.Constructor=i;function a(t,e){if(typeof t[e]!=='function'){var i=t[e];t[e]=function(t){return t[i]}}};function r(t,e){if(typeof t[e]!=='function'){var i=t[e];t[e]=function(){return i}}};var s=t('<div />');function e(t){if(t){return s.text(t).html()}
else{return''}};function o(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart('character',-t.value.length);e=i.text.length}
else if(t.selectionStart||t.selectionStart=='0'){e=t.selectionStart};return(e)};function l(e,i){var n=!1;t.each(i,function(t,i){if(typeof(i)==='number'&&e.which===i){n=!0;return!1};if(e.which===i.which){var a=!i.hasOwnProperty('altKey')||e.altKey===i.altKey,r=!i.hasOwnProperty('shiftKey')||e.shiftKey===i.shiftKey,o=!i.hasOwnProperty('ctrlKey')||e.ctrlKey===i.ctrlKey;if(a&&r&&o){n=!0;return!1}}});return n};t(function(){t('input[data-role=tagsinput], select[multiple][data-role=tagsinput]').tagsinput()})})(window.jQuery);
/*!

 handlebars v4.0.5

Copyright (C) 2011-2015 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
(function(e,t){if(typeof exports==='object'&&typeof module==='object')module.exports=t();else if(typeof define==='function'&&define.amd)define([],t);else if(typeof exports==='object')exports['Handlebars']=t();else e['Handlebars']=t()})(this,function(){return(function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};e[n].call(a.exports,a,a.exports,t);a.loaded=!0;return a.exports};t.m=e;t.c=r;t.p='';return t(0)})([function(e,t,r){'use strict';var i=r(1)['default'],o=r(2)['default'];t.__esModule=!0;var f=r(3),s=i(f),c=r(17),d=o(c),p=r(5),h=o(p),m=r(4),a=i(m),v=r(18),u=i(v),g=r(19),x=o(g);function l(){var e=new s.HandlebarsEnvironment();a.extend(e,s);e.SafeString=d['default'];e.Exception=h['default'];e.Utils=a;e.escapeExpression=a.escapeExpression;e.VM=u;e.template=function(t){return u.template(t,e)};return e};var n=l();n.create=l;x['default'](n);n['default']=n;t['default']=n;e.exports=t['default']},function(e,t){'use strict';t['default']=function(e){if(e&&e.__esModule){return e}
else{var r={};if(e!=null){for(var t in e){if(Object.prototype.hasOwnProperty.call(e,t))r[t]=e[t]}};r['default']=e;return r}};t.__esModule=!0},function(e,t){'use strict';t['default']=function(e){return e&&e.__esModule?e:{'default':e}};t.__esModule=!0},function(e,t,r){'use strict';var u=r(2)['default'];t.__esModule=!0;t.HandlebarsEnvironment=s;var n=r(4),d=r(5),o=u(d),p=r(6),h=r(14),m=r(16),a=u(m),v='4.0.5';t.VERSION=v;var c=7;t.COMPILER_REVISION=c;var f={1:'<= 1.0.rc.2',2:'== 1.0.0-rc.3',3:'== 1.0.0-rc.4',4:'== 1.x.x',5:'== 2.0.0-alpha.x',6:'>= 2.0.0-beta.1',7:'>= 4.0.0'};t.REVISION_CHANGES=f;var i='[object Object]';function s(e,t,r){this.helpers=e||{};this.partials=t||{};this.decorators=r||{};p.registerDefaultHelpers(this);h.registerDefaultDecorators(this)};s.prototype={constructor:s,logger:a['default'],log:a['default'].log,registerHelper:function(e,t){if(n.toString.call(e)===i){if(t){throw new o['default']('Arg not supported with multiple helpers')};n.extend(this.helpers,e)}
else{this.helpers[e]=t}},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(n.toString.call(e)===i){n.extend(this.partials,e)}
else{if(typeof t==='undefined'){throw new o['default']('Attempting to register a partial called "'+e+'" as undefined')};this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(n.toString.call(e)===i){if(t){throw new o['default']('Arg not supported with multiple decorators')};n.extend(this.decorators,e)}
else{this.decorators[e]=t}},unregisterDecorator:function(e){delete this.decorators[e]}};var l=a['default'].log;t.log=l;t.createFrame=n.createFrame;t.logger=a['default']},function(e,t){'use strict';t.__esModule=!0;t.extend=i;t.indexOf=f;t.escapeExpression=c;t.isEmpty=d;t.createFrame=p;t.blockParams=h;t.appendContextPath=m;var u={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#x27;','`':'&#x60;','=':'&#x3D;'};var o=/[&<>"'`=]/g,s=/[&<>"'`=]/;function l(e){return u[e]};function i(e){for(var t=1;t<arguments.length;t++){for(var r in arguments[t]){if(Object.prototype.hasOwnProperty.call(arguments[t],r)){e[r]=arguments[t][r]}}};return e};var n=Object.prototype.toString;t.toString=n;var r=function(e){return typeof e==='function'};if(r(/x/)){t.isFunction=r=function(e){return typeof e==='function'&&n.call(e)==='[object Function]'}};t.isFunction=r;var a=Array.isArray||function(e){return e&&typeof e==='object'?n.call(e)==='[object Array]':!1};t.isArray=a;function f(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t){return r}};return-1};function c(e){if(typeof e!=='string'){if(e&&e.toHTML){return e.toHTML()}
else if(e==null){return''}
else if(!e){return e+''};e=''+e};if(!s.test(e)){return e};return e.replace(o,l)};function d(e){if(!e&&e!==0){return!0}
else if(a(e)&&e.length===0){return!0}
else{return!1}};function p(e){var t=i({},e);t._parent=e;return t};function h(e,t){e.path=t;return e};function m(e,t){return(e?e+'.':'')+t}},function(e,t){'use strict';t.__esModule=!0;var r=['description','fileName','lineNumber','message','name','number','stack'];function n(e,t){var i=t&&t.loc,o=undefined,s=undefined;if(i){o=i.start.line;s=i.start.column;e+=' - '+o+':'+s};var u=Error.prototype.constructor.call(this,e);for(var a=0;a<r.length;a++){this[r[a]]=u[r[a]]};if(Error.captureStackTrace){Error.captureStackTrace(this,n)};if(i){this.lineNumber=o;this.column=s}};n.prototype=new Error();t['default']=n;e.exports=t['default']},function(e,t,r){'use strict';var n=r(2)['default'];t.__esModule=!0;t.registerDefaultHelpers=x;var a=r(7),i=n(a),o=r(8),s=n(o),u=r(9),l=n(u),f=r(10),c=n(f),d=r(11),p=n(d),h=r(12),m=n(h),v=r(13),g=n(v);function x(e){i['default'](e);s['default'](e);l['default'](e);c['default'](e);p['default'](e);m['default'](e);g['default'](e)}},function(e,t,r){'use strict';t.__esModule=!0;var n=r(4);t['default']=function(e){e.registerHelper('blockHelperMissing',function(t,r){var i=r.inverse,o=r.fn;if(t===!0){return o(this)}
else if(t===!1||t==null){return i(this)}
else if(n.isArray(t)){if(t.length>0){if(r.ids){r.ids=[r.name]};return e.helpers.each(t,r)}
else{return i(this)}}
else{if(r.data&&r.ids){var a=n.createFrame(r.data);a.contextPath=n.appendContextPath(r.data.contextPath,r.name);r={data:a}};return o(t,r)}})};e.exports=t['default']},function(e,t,r){'use strict';var o=r(2)['default'];t.__esModule=!0;var n=r(4),a=r(5),i=o(a);t['default']=function(e){e.registerHelper('each',function(e,t){if(!t){throw new i['default']('Must pass iterator to #each')};var d=t.fn,p=t.inverse,r=0,s='',a=undefined,u=undefined;if(t.data&&t.ids){u=n.appendContextPath(t.data.contextPath,t.ids[0])+'.'};if(n.isFunction(e)){e=e.call(this)};if(t.data){a=n.createFrame(t.data)};function l(t,r,i){if(a){a.key=t;a.index=r;a.first=r===0;a.last=!!i;if(u){a.contextPath=u+t}};s=s+d(e[t],{data:a,blockParams:n.blockParams([e[t],t],[u+t,null])})};if(e&&typeof e==='object'){if(n.isArray(e)){for(var c=e.length;r<c;r++){if(r in e){l(r,r,r===e.length-1)}}}
else{var o=undefined;for(var f in e){if(e.hasOwnProperty(f)){if(o!==undefined){l(o,r-1)};o=f;r++}};if(o!==undefined){l(o,r-1,!0)}}};if(r===0){s=p(this)};return s})};e.exports=t['default']},function(e,t,r){'use strict';var i=r(2)['default'];t.__esModule=!0;var n=r(5),a=i(n);t['default']=function(e){e.registerHelper('helperMissing',function(){if(arguments.length===1){return undefined}
else{throw new a['default']('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};e.exports=t['default']},function(e,t,r){'use strict';t.__esModule=!0;var n=r(4);t['default']=function(e){e.registerHelper('if',function(e,t){if(n.isFunction(e)){e=e.call(this)};if(!t.hash.includeZero&&!e||n.isEmpty(e)){return t.inverse(this)}
else{return t.fn(this)}});e.registerHelper('unless',function(t,r){return e.helpers['if'].call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})})};e.exports=t['default']},function(e,t){'use strict';t.__esModule=!0;t['default']=function(e){e.registerHelper('log',function(){var a=[undefined],t=arguments[arguments.length-1];for(var n=0;n<arguments.length-1;n++){a.push(arguments[n])};var r=1;if(t.hash.level!=null){r=t.hash.level}
else if(t.data&&t.data.level!=null){r=t.data.level};a[0]=r;e.log.apply(e,a)})};e.exports=t['default']},function(e,t){'use strict';t.__esModule=!0;t['default']=function(e){e.registerHelper('lookup',function(e,t){return e&&e[t]})};e.exports=t['default']},function(e,t,r){'use strict';t.__esModule=!0;var n=r(4);t['default']=function(e){e.registerHelper('with',function(e,t){if(n.isFunction(e)){e=e.call(this)};var a=t.fn;if(!n.isEmpty(e)){var r=t.data;if(t.data&&t.ids){r=n.createFrame(t.data);r.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])};return a(e,{data:r,blockParams:n.blockParams([e],[r&&r.contextPath])})}
else{return t.inverse(this)}})};e.exports=t['default']},function(e,t,r){'use strict';var i=r(2)['default'];t.__esModule=!0;t.registerDefaultDecorators=o;var n=r(15),a=i(n);function o(e){a['default'](e)}},function(e,t,r){'use strict';t.__esModule=!0;var n=r(4);t['default']=function(e){e.registerDecorator('inline',function(e,t,r,a){var i=e;if(!t.partials){t.partials={};i=function(a,i){var o=r.partials;r.partials=n.extend({},o,t.partials);var s=e(a,i);r.partials=o;return s}};t.partials[a.args[0]]=a.fn;return i})};e.exports=t['default']},function(e,t,r){'use strict';t.__esModule=!0;var a=r(4),n={methodMap:['debug','info','warn','error'],level:'info',lookupLevel:function(e){if(typeof e==='string'){var t=a.indexOf(n.methodMap,e.toLowerCase());if(t>=0){e=t}
else{e=parseInt(e,10)}};return e},log:function(e){e=n.lookupLevel(e);if(typeof console!=='undefined'&&n.lookupLevel(n.level)<=e){var a=n.methodMap[e];if(!console[a]){a='log'};for(var r=arguments.length,i=Array(r>1?r-1:0),t=1;t<r;t++){i[t-1]=arguments[t]};console[a].apply(console,i)}}};t['default']=n;e.exports=t['default']},function(e,t){'use strict';t.__esModule=!0;function r(e){this.string=e};r.prototype.toString=r.prototype.toHTML=function(){return''+this.string};t['default']=r;e.exports=t['default']},function(e,t,r){'use strict';var c=r(1)['default'],d=r(2)['default'];t.__esModule=!0;t.checkRevision=p;t.template=h;t.wrapProgram=o;t.resolvePartial=m;t.invokePartial=v;t.noop=s;var l=r(4),a=c(l),f=r(5),n=d(f),i=r(3);function p(e){var t=e&&e[0]||1,r=i.COMPILER_REVISION;if(t!==r){if(t<r){var a=i.REVISION_CHANGES[r],o=i.REVISION_CHANGES[t];throw new n['default']('Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ('+a+') or downgrade your runtime to an older version ('+o+').')}
else{throw new n['default']('Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ('+e[1]+').')}}};function h(e,t){if(!t){throw new n['default']('No environment passed to template')};if(!e||!e.main){throw new n['default']('Unknown template object: '+typeof e)};e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);function s(r,i,o){if(o.hash){i=a.extend({},i,o.hash);if(o.ids){o.ids[0]=!0}};r=t.VM.resolvePartial.call(this,r,i,o);var u=t.VM.invokePartial.call(this,r,i,o);if(u==null&&t.compile){o.partials[o.name]=t.compile(r,e.compilerOptions,t);u=o.partials[o.name](i,o)};if(u!=null){if(o.indent){var l=u.split('\n');for(var s=0,f=l.length;s<f;s++){if(!l[s]&&s+1===f){break};l[s]=o.indent+l[s]};u=l.join('\n')};return u}
else{throw new n['default']('The partial '+o.name+' could not be compiled when running in runtime-only mode')}};var r={strict:function(e,t){if(!(t in e)){throw new n['default']('"'+t+'" not defined in '+e)};return e[t]},lookup:function(e,t){var n=e.length;for(var r=0;r<n;r++){if(e[r]&&e[r][t]!=null){return e[r][t]}}},lambda:function(e,t){return typeof e==='function'?e.call(t):e},escapeExpression:a.escapeExpression,invokePartial:s,fn:function(t){var r=e[t];r.decorator=e[t+'_d'];return r},programs:[],program:function(e,t,r,n,a){var i=this.programs[e],s=this.fn(e);if(t||a||n||r){i=o(this,e,s,t,r,n,a)}
else if(!i){i=this.programs[e]=o(this,e,s)};return i},data:function(e,t){while(e&&t--){e=e._parent};return e},merge:function(e,t){var r=e||t;if(e&&t&&e!==t){r=a.extend({},t,e)};return r},noop:t.VM.noop,compilerInfo:e.compiler};function i(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var a=n.data;i._setup(n);if(!n.partial&&e.useData){a=g(t,a)};var o=undefined,l=e.useBlockParams?[]:undefined;if(e.useDepths){if(n.depths){o=t!==n.depths[0]?[t].concat(n.depths):n.depths}
else{o=[t]}};function s(t){return''+e.main(r,t,r.helpers,r.partials,a,l,o)};s=u(e.main,s,r,n.depths||[],a,l);return s(t,n)};i.isTop=!0;i._setup=function(n){if(!n.partial){r.helpers=r.merge(n.helpers,t.helpers);if(e.usePartial){r.partials=r.merge(n.partials,t.partials)};if(e.usePartial||e.useDecorators){r.decorators=r.merge(n.decorators,t.decorators)}}
else{r.helpers=n.helpers;r.partials=n.partials;r.decorators=n.decorators}};i._child=function(t,a,i,s){if(e.useBlockParams&&!i){throw new n['default']('must pass block params')};if(e.useDepths&&!s){throw new n['default']('must pass parent depths')};return o(r,t,e[t],a,0,i,s)};return i};function o(e,t,r,a,s,o,n){function i(t){var s=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var i=n;if(n&&t!==n[0]){i=[t].concat(n)};return r(e,t,e.helpers,e.partials,s.data||a,o&&[s.blockParams].concat(o),i)};i=u(r,i,e,n,a,o);i.program=t;i.depth=n?n.length:0;i.blockParams=s||0;return i};function m(e,t,r){if(!e){if(r.name==='@partial-block'){e=r.data['partial-block']}
else{e=r.partials[r.name]}}
else if(!e.call&&!r.name){r.name=e;e=r.partials[e]};return e};function v(e,t,r){r.partial=!0;if(r.ids){r.data.contextPath=r.ids[0]||r.data.contextPath};var o=undefined;if(r.fn&&r.fn!==s){r.data=i.createFrame(r.data);o=r.data['partial-block']=r.fn;if(o.partials){r.partials=a.extend({},r.partials,o.partials)}};if(e===undefined&&o){e=o};if(e===undefined){throw new n['default']('The partial '+r.name+' could not be found')}
else if(e instanceof Function){return e(t,r)}};function s(){return''};function g(e,t){if(!t||!('root' in t)){t=t?i.createFrame(t):{};t.root=e};return t};function u(e,t,r,n,i,o){if(e.decorator){var s={};t=e.decorator(t,s,r,n&&n[0],i,o,n);a.extend(t,s)};return t}},function(e,t){(function(r){'use strict';t.__esModule=!0;t['default']=function(e){var t=typeof r!=='undefined'?r:window,n=t.Handlebars;e.noConflict=function(){if(t.Handlebars===e){t.Handlebars=n};return e}};e.exports=t['default']}.call(t,(function(){return this}())))}])});
!function(t,e,s,i){var m={drag:!0,drop:!0,exclude:'',nested:!0,vertical:!0},o={afterMove:function(t,e,i){},containerPath:'',containerSelector:'ol, ul',distance:0,delay:0,handle:'',itemPath:'',itemSelector:'li',bodyClass:'dragging',draggedClass:'dragged',isValidTarget:function(t,e){return!0},onCancel:function(t,e,i,s){},onDrag:function(t,e,i,s){t.css(e)},onDragStart:function(e,i,s,o){e.css({height:e.outerHeight(),width:e.outerWidth()});e.addClass(i.group.options.draggedClass);t('body').addClass(i.group.options.bodyClass)},onDrop:function(e,i,s,o){e.removeClass(i.group.options.draggedClass).removeAttr('style');t('body').removeClass(i.group.options.bodyClass)},onMousedown:function(t,e,i){if(!i.target.nodeName.match(/^(input|select|textarea)$/i)){i.preventDefault();return!0}},placeholderClass:'placeholder',placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(e,i,s){var o=t.extend({},e.data());if(s)return[i];else if(i[0]){o.children=i};delete o.subContainers;delete o.sortable;return o},tolerance:0},n={},c=0,v={left:0,top:0,bottom:0,right:0},f={start:'touchstart.sortable mousedown.sortable',drop:'touchend.sortable touchcancel.sortable mouseup.sortable',drag:'touchmove.sortable mousemove.sortable',scroll:'scroll.sortable'},r='subContainers';function p(t,e){var i=Math.max(0,t[0]-e[0],e[0]-t[1]),s=Math.max(0,t[2]-e[1],e[1]-t[3]);return i+s};function d(e,i,s,o){var a=e.length,h=o?'offset':'position';s=s||0;while(a--){var r=e[a].el?e[a].el:t(e[a]),n=r[h]();n.left+=parseInt(r.css('margin-left'),10);n.top+=parseInt(r.css('margin-top'),10);i[a]=[n.left-s,n.left+r.outerWidth()+s,n.top-s,n.top+r.outerHeight()+s]}};function a(t,e){var i=e.offset();return{left:t.left-i.left,top:t.top-i.top}};function g(t,e,i){e=[e.left,e.top];i=i&&[i.left,i.top];var n,s=t.length,o=[];while(s--){n=t[s];o[s]=[s,p(n,e),i&&p(n,i)]};o=o.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]});return o};function h(e){this.options=t.extend({},o,e);this.containers=[];if(!this.options.rootGroup){this.scrollProxy=t.proxy(this.scroll,this);this.dragProxy=t.proxy(this.drag,this);this.dropProxy=t.proxy(this.drop,this);this.placeholder=t(this.options.placeholder);if(!e.isValidTarget)this.options.isValidTarget=i}};h.get=function(t){if(!n[t.group]){if(t.group===i)t.group=c++;n[t.group]=new h(t)};return n[t.group]};h.prototype={dragInit:function(e,i){this.$document=t(i.el[0].ownerDocument);var s=t(e.target).closest(this.options.itemSelector);if(s.length){this.item=s;this.itemContainer=i;if(this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,o.onMousedown,e)){return};this.setPointer(e);this.toggleListeners('on');this.setupDelayTimer();this.dragInitDone=!0}},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,o.onDragStart,t);this.item.before(this.placeholder);this.dragging=!0};this.setPointer(t);this.options.onDrag(this.item,a(this.pointer,this.item.offsetParent()),o.onDrag,t);var s=this.getPointer(t),e=this.sameResultBox,n=this.options.tolerance;if(!e||e.top-n>s.top||e.bottom+n<s.top||e.left-n>s.left||e.right+n<s.left)if(!this.searchValidTarget()){this.placeholder.detach();this.lastAppendedItem=i}},drop:function(t){this.toggleListeners('off');this.dragInitDone=!1;if(this.dragging){if(this.placeholder.closest('html')[0]){this.placeholder.before(this.item).detach()}
else{this.options.onCancel(this.item,this.itemContainer,o.onCancel,t)};this.options.onDrop(this.item,this.getContainer(this.item),o.onDrop,t);this.clearDimensions();this.clearOffsetParent();this.lastAppendedItem=this.sameResultBox=i;this.dragging=!1}},searchValidTarget:function(t,e){if(!t){t=this.relativePointer||this.pointer;e=this.lastRelativePointer||this.lastPointer};var o=g(this.getContainerDimensions(),t,e),n=o.length;while(n--){var h=o[n][0],l=o[n][1];if(!l||this.options.pullPlaceholder){var s=this.containers[h];if(!s.disabled){if(!this.$getOffsetParent()){var r=s.getItemOffsetParent();t=a(t,r);e=a(e,r)};if(s.searchValidTarget(t,e))return!0}}};if(this.sameResultBox)this.sameResultBox=i},movePlaceholder:function(t,e,i,s){var o=this.lastAppendedItem;if(!s&&o&&o[0]===e[0])return;e[i](this.placeholder);this.lastAppendedItem=e;this.sameResultBox=s;this.options.afterMove(this.placeholder,t,e)},getContainerDimensions:function(){if(!this.containerDimensions)d(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent());return this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(s)},$getOffsetParent:function(){if(this.offsetParent===i){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup){while(t--){if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}}};this.offsetParent=e};return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var i=a(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer;this.relativePointer=i};this.lastPointer=this.pointer;this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return(Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance)},getPointer:function(t){var e=t.originalEvent||t.originalEvent.touches&&t.originalEvent.touches[0];return{left:t.pageX||e.pageX,top:t.pageY||e.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay;if(!this.delayMet){clearTimeout(this._mouseDelayTimer);this._mouseDelayTimer=setTimeout(function(){t.delayMet=!0},this.options.delay)}},scroll:function(t){this.clearDimensions();this.clearOffsetParent()},toggleListeners:function(e){var i=this,s=['drag','drop','scroll'];t.each(s,function(t,s){i.$document[e](f[s],i[s+'Proxy'])})},clearOffsetParent:function(){this.offsetParent=i},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);var e=this.containers.length;while(e--){this.containers[e].traverse(t)}},_clearDimensions:function(){this.containerDimensions=i},_destroy:function(){n[this.options.group]=i}};function u(e,i){this.el=e;this.options=t.extend({},m,i);this.group=h.get(this.options);this.rootGroup=this.options.rootGroup||this.group;this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var s=this.rootGroup.options.itemPath;this.target=s?this.el.find(s):this.el;this.target.on(f.start,this.handle,t.proxy(this.dragInit,this));if(this.options.drop)this.group.containers.push(this)};u.prototype={dragInit:function(t){var e=this.rootGroup;if(!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)){e.dragInit(t,this)}},isValidDrag:function(t){return t.which==1||t.type=='touchstart'&&t.originalEvent.touches.length==1},searchValidTarget:function(t,e){var n=g(this.getItemDimensions(),t,e),i=n.length,s=this.rootGroup,r=!s.options.isValidTarget||s.options.isValidTarget(s.item,this);if(!i&&r){s.movePlaceholder(this,this.target,'append');return!0}
else while(i--){var o=n[i][0],h=n[i][1];if(!h&&this.hasChildGroup(o)){var a=this.getContainerGroup(o).searchValidTarget(t,e);if(a)return!0}
else if(r){this.movePlaceholder(o,t);return!0}}},movePlaceholder:function(e,i){var o=t(this.items[e]),n=this.itemDimensions[e],a='after',h=o.outerWidth(),l=o.outerHeight(),r=o.offset(),s={left:r.left,right:r.left+h,top:r.top,bottom:r.top+l};if(this.options.vertical){var c=(n[2]+n[3])/2,p=i.top<=c;if(p){a='before';s.bottom-=l/2}
else s.top+=l/2}
else{var f=(n[0]+n[1])/2,u=i.left<=f;if(u){a='before';s.right-=h/2}
else s.left+=h/2};if(this.hasChildGroup(e))s=v;this.rootGroup.movePlaceholder(this,o,a,s)},getItemDimensions:function(){if(!this.itemDimensions){this.items=this.$getChildren(this.el,'item').filter(':not(.'+this.group.options.placeholderClass+', .'+this.group.options.draggedClass+')').get();d(this.items,this.itemDimensions=[],this.options.tolerance)};return this.itemDimensions},getItemOffsetParent:function(){var e,t=this.el;if(t.css('position')==='relative'||t.css('position')==='absolute'||t.css('position')==='fixed')e=t;else e=t.offsetParent();return e},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var o=t.data(this.items[e],r);if(o===i){var n=this.$getChildren(this.items[e],'container');o=!1;if(n[0]){var a=t.extend({},this.options,{rootGroup:this.rootGroup,group:c++});o=n[s](a).data(s).group};t.data(this.items[e],r,o)};return o},$getChildren:function(e,i){var s=this.rootGroup.options,o=s[i+'Path'],n=s[i+'Selector'];e=t(e);if(o)e=e.find(o);return e.children(n)},_serialize:function(e,i){var s=this,o=i?'item':'container',n=this.$getChildren(e,o).not(this.options.exclude).map(function(){return s._serialize(t(this),!i)}).get();return this.rootGroup.options.serialize(e,n,i)},traverse:function(e){t.each(this.items||[],function(i){var s=t.data(this,r);if(s)s.traverse(e)});e(this)},_clearDimensions:function(){this.itemDimensions=i},_destroy:function(){var e=this;this.target.off(f.start,this.handle);this.el.removeData(s);if(this.options.drop)this.group.containers=t.grep(this.group.containers,function(t){return t!=e});t.each(this.items||[],function(){t.removeData(this,r)})}};var l={enable:function(){this.traverse(function(t){t.disabled=!1})},disable:function(){this.traverse(function(t){t.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};t.extend(u.prototype,l);t.fn[s]=function(e){var o=Array.prototype.slice.call(arguments,1);return this.map(function(){var n=t(this),r=n.data(s);if(r&&l[e])return l[e].apply(r,o)||this;else if(!r&&(e===i||typeof e==='object'))n.data(s,new u(n,e));return this})}}(jQuery,window,'sortable');
/*! jQuery UI - v1.11.4+CommonJS - 2015-08-28
* http://jqueryui.com
* Includes: widget.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}
else if(typeof exports==="object"){t(require("jquery"))}
else{t(jQuery)}}(function(t){
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
;var i=0,e=Array.prototype.slice;t.cleanData=(function(e){return function(i){var n,s,o;for(o=0;(s=i[o])!=null;o++){try{n=t._data(s,"events");if(n&&n.remove){t(s).triggerHandler("remove")}}catch(r){}};e(i)}})(t.cleanData);t.widget=function(e,i,s){var u,o,n,a,d={},r=e.split(".")[0];e=e.split(".")[1];u=r+"-"+e;if(!s){s=i;i=t.Widget};t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)};t[r]=t[r]||{};o=t[r][e];n=t[r][e]=function(t,e){if(!this._createWidget){return new n(t,e)};if(arguments.length){this._createWidget(t,e)}};t.extend(n,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]});a=new i();a.options=t.widget.extend({},a.options);t.each(s,function(e,n){if(!t.isFunction(n)){d[e]=n;return};d[e]=(function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var i=this._super,o=this._superApply,e;this._super=t;this._superApply=s;e=n.apply(this,arguments);this._super=i;this._superApply=o;return e}})()});n.prototype=t.widget.extend(a,{widgetEventPrefix:o?(a.widgetEventPrefix||e):e},d,{constructor:n,namespace:r,widgetName:e,widgetFullName:u});if(o){t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,n,i._proto)});delete o._childConstructors}
else{i._childConstructors.push(n)};t.widget.bridge(e,n);return n};t.widget.extend=function(i){var r=e.call(arguments,1),o=0,a=r.length,n,s;for(;o<a;o++){for(n in r[o]){s=r[o][n];if(r[o].hasOwnProperty(n)&&s!==undefined){if(t.isPlainObject(s)){i[n]=t.isPlainObject(i[n])?t.widget.extend({},i[n],s):t.widget.extend({},s)}
else{i[n]=s}}}};return i};t.widget.bridge=function(i,n){var s=n.prototype.widgetFullName||i;t.fn[i]=function(o){var u=typeof o==="string",a=e.call(arguments,1),r=this;if(u){this.each(function(){var e,n=t.data(this,s);if(o==="instance"){r=n;return!1};if(!n){return t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+o+"'")};if(!t.isFunction(n[o])||o.charAt(0)==="_"){return t.error("no such method '"+o+"' for "+i+" widget instance")};e=n[o].apply(n,a);if(e!==n&&e!==undefined){r=e&&e.jquery?r.pushStack(e.get()):e;return!1}})}
else{if(a.length){o=t.widget.extend.apply(null,[o].concat(a))};this.each(function(){var e=t.data(this,s);if(e){e.option(o||{});if(e._init){e._init()}}
else{t.data(this,s,new n(o,this))}})};return r}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0];this.element=t(n);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=t();this.hoverable=t();this.focusable=t();if(n!==this){t.data(n,this.widgetFullName,this);this._on(!0,this.element,{remove:function(t){if(t.target===n){this.destroy()}}});this.document=t(n.style?n.ownerDocument:n.document||n);this.window=t(this.document[0].defaultView||this.document[0].parentWindow)};this.options=t.widget.extend({},this.options,this._getCreateOptions(),e);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var r=e,n,s,o;if(arguments.length===0){return t.widget.extend({},this.options)};if(typeof e==="string"){r={};n=e.split(".");e=n.shift();if(n.length){s=r[e]=t.widget.extend({},this.options[e]);for(o=0;o<n.length-1;o++){s[n[o]]=s[n[o]]||{};s=s[n[o]]};e=n.pop();if(arguments.length===1){return s[e]===undefined?null:s[e]};s[e]=i}
else{if(arguments.length===1){return this.options[e]===undefined?null:this.options[e]};r[e]=i}};this._setOptions(r);return this},_setOptions:function(t){var e;for(e in t){this._setOption(e,t[e])};return this},_setOption:function(t,e){this.options[t]=e;if(t==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!e);if(e){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}};return this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var o,s=this;if(typeof e!=="boolean"){n=i;i=e;e=!1};if(!n){n=i;i=this.element;o=this.widget()}
else{i=o=t(i);this.bindings=this.bindings.add(i)};t.each(n,function(n,r){function a(){if(!e&&(s.options.disabled===!0||t(this).hasClass("ui-state-disabled"))){return};return(typeof r==="string"?s[r]:r).apply(s,arguments)};if(typeof r!=="string"){a.guid=r.guid=r.guid||a.guid||t.guid++};var u=n.match(/^([\w:-]*)\s*(.*)$/),d=u[1]+s.eventNamespace,f=u[2];if(f){o.delegate(f,d,a)}
else{i.bind(d,a)}})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(i).undelegate(i);this.bindings=t(this.bindings.not(e).get());this.focusable=t(this.focusable.not(e).get());this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return(typeof t==="string"?i[t]:t).apply(i,arguments)};var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];n=n||{};i=t.Event(i);i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();i.target=this.element[0];o=i.originalEvent;if(o){for(s in o){if(!(s in i)){i[s]=o[s]}}};this.element.trigger(i,n);return!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}};t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){if(typeof s==="string"){s={effect:s}};var a,r=!s?e:s===!0||typeof s==="number"?i:s.effect||i;s=s||{};if(typeof s==="number"){s={duration:s}};a=!t.isEmptyObject(s);s.complete=o;if(s.delay){n.delay(s.delay)};if(a&&t.effects&&t.effects.effect[r]){n[e](s)}
else if(r!==e&&n[r]){n[r](s.duration,s.easing,o)}
else{n.queue(function(i){t(this)[e]();if(o){o.call(n[0])};i()})}}});var n=t.widget}));
(function(e){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],e)}
else if(typeof exports==='object'){e(require('jquery'))}
else{e(window.jQuery)}}(function(e){'use strict';var t=0;e.ajaxTransport('iframe',function(r){if(r.async){var o=r.initialIframeSrc||'javascript:false;',n,a,i;return{send:function(p,f){n=e('<form style="display:none;"></form>');n.attr('accept-charset',r.formAcceptCharset);i=/\?/.test(r.url)?'&':'?';if(r.type==='DELETE'){r.url=r.url+i+'_method=DELETE';r.type='POST'}
else if(r.type==='PUT'){r.url=r.url+i+'_method=PUT';r.type='POST'}
else if(r.type==='PATCH'){r.url=r.url+i+'_method=PATCH';r.type='POST'};t+=1;a=e('<iframe src="'+o+'" name="iframe-transport-'+t+'"></iframe>').bind('load',function(){var t,i=e.isArray(r.paramName)?r.paramName:[r.paramName];a.unbind('load').bind('load',function(){var t;try{t=a.contents();if(!t.length||!t[0].firstChild){throw new Error()}}catch(r){t=undefined};f(200,'success',{'iframe':t});e('<iframe src="'+o+'"></iframe>').appendTo(n);window.setTimeout(function(){n.remove()},0)});n.prop('target',a.prop('name')).prop('action',r.url).prop('method',r.type);if(r.formData){e.each(r.formData,function(t,r){e('<input type="hidden"/>').prop('name',r.name).val(r.value).appendTo(n)})};if(r.fileInput&&r.fileInput.length&&r.type==='POST'){t=r.fileInput.clone();r.fileInput.after(function(e){return t[e]});if(r.paramName){r.fileInput.each(function(t){e(this).prop('name',i[t]||r.paramName)})};n.append(r.fileInput).prop('enctype','multipart/form-data').prop('encoding','multipart/form-data');r.fileInput.removeAttr('form')};n.submit();if(t&&t.length){r.fileInput.each(function(r,n){var a=e(t[r]);e(n).prop('name',a.prop('name')).attr('form',a.attr('form'));a.replaceWith(n)})}});n.append(a).appendTo(document.body)},abort:function(){if(a){a.unbind('load').prop('src',o)};if(n){n.remove()}}}}});e.ajaxSetup({converters:{'iframe text':function(t){return t&&e(t[0].body).text()},'iframe json':function(t){return t&&e.parseJSON(e(t[0].body).text())},'iframe html':function(t){return t&&e(t[0].body).html()},'iframe xml':function(t){var r=t&&t[0];return r&&e.isXMLDoc(r)?r:e.parseXML((r.XMLDocument&&r.XMLDocument.xml)||e(r.body).html())},'iframe script':function(t){return t&&e.globalEval(e(t[0].body).text())}}})}));
(function(e){'use strict';if(typeof define==='function'&&define.amd){define(['jquery','jquery.ui.widget'],e)}
else if(typeof exports==='object'){e(require('jquery'),require('./vendor/jquery.ui.widget'))}
else{e(window.jQuery)}}(function(e){'use strict';e.support.fileInput=!(new RegExp('(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))').test(window.navigator.userAgent)||e('<input type="file">').prop('disabled'));e.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);e.support.xhrFormDataFileUpload=!!window.FormData;e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);function t(t){var i=t==='dragover';return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var r=n.dataTransfer;if(r&&e.inArray('Files',r.types)!==-1&&this._trigger(t,e.Event(t,{delegatedEvent:n}))!==!1){n.preventDefault();if(i){r.dropEffect='copy'}}}};e.widget('blueimp.fileupload',{options:{dropZone:e(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:'Uploaded bytes exceed file size'},i18n:function(t,i){t=this.messages[t]||t.toString();if(i){e.each(i,function(e,i){t=t.replace('{'+e+'}',i)})};return t},formData:function(e){return e.serializeArray()},add:function(t,i){if(t.isDefaultPrevented()){return!1};if(i.autoUpload||(i.autoUpload!==!1&&e(this).fileupload('option','autoUpload'))){i.process().done(function(){i.submit()})}},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:['fileInput','dropZone','pasteZone','multipart','forceIframeTransport'],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=((Date.now)?Date.now():(new Date()).getTime());this.loaded=0;this.bitrate=0;this.getBitrate=function(e,t,i){var n=e-this.timestamp;if(!this.bitrate||!i||n>i){this.bitrate=(t-this.loaded)*(1000/n)*8;this.loaded=t;this.timestamp=e};return this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&((!t.multipart&&e.support.xhrFileUpload)||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;if(e.type(t.formData)==='function'){return t.formData(t.form)};if(e.isArray(t.formData)){return t.formData};if(e.type(t.formData)==='object'){i=[];e.each(t.formData,function(e,t){i.push({name:e,value:t})});return i};return[]},_getTotal:function(t){var i=0;e.each(t,function(e,t){i+=t.size||1});return i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};if(t._progress){e.extend(t._progress,i)}
else{t._progress=i}},_initResponseObject:function(e){var t;if(e._response){for(t in e._response){if(e._response.hasOwnProperty(t)){delete e._response[t]}}}
else{e._response={}}},_onProgress:function(t,i){if(t.lengthComputable){var n=((Date.now)?Date.now():(new Date()).getTime()),r;if(i._time&&i.progressInterval&&(n-i._time<i.progressInterval)&&t.loaded!==t.total){return};i._time=n;r=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0);this._progress.loaded+=(r-i._progress.loaded);this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,i.bitrateInterval);i._progress.loaded=i.loaded=r;i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(n,r,i.bitrateInterval);this._trigger('progress',e.Event('progress',{delegatedEvent:t}),i);this._trigger('progressall',e.Event('progressall',{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();if(i.upload){e(i.upload).bind('progress',function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable;e.loaded=i.loaded;e.total=i.total;n._onProgress(e,t)});t.xhr=function(){return i}}},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==='[object '+e+']'},_initXHRData:function(t){var s=this,i,n=t.files[0],o=t.multipart||!e.support.xhrFileUpload,r=e.type(t.paramName)==='array'?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers);if(t.contentRange){t.headers['Content-Range']=t.contentRange};if(!o||t.blob||!this._isInstanceOf('File',n)){t.headers['Content-Disposition']='attachment; filename="'+encodeURI(n.name)+'"'};if(!o){t.contentType=n.type||'application/octet-stream';t.data=t.blob||n}
else if(e.support.xhrFormDataFileUpload){if(t.postMessage){i=this._getFormData(t);if(t.blob){i.push({name:r,value:t.blob})}
else{e.each(t.files,function(n,s){i.push({name:(e.type(t.paramName)==='array'&&t.paramName[n])||r,value:s})})}}
else{if(s._isInstanceOf('FormData',t.formData)){i=t.formData}
else{i=new FormData();e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})};if(t.blob){i.append(r,t.blob,n.name)}
else{e.each(t.files,function(n,o){if(s._isInstanceOf('File',o)||s._isInstanceOf('Blob',o)){i.append((e.type(t.paramName)==='array'&&t.paramName[n])||r,o,o.uploadName||o.name)}})}};t.data=i};t.blob=null},_initIframeSettings:function(t){var i=e('<a></a>').prop('href',t.url).prop('host');t.dataType='iframe '+(t.dataType||'');t.formData=this._getFormData(t);if(t.redirect&&i&&i!==location.host){t.formData.push({name:t.redirectParamName||'redirect',value:t.redirect})}},_initDataSettings:function(e){if(this._isXHRUpload(e)){if(!this._chunkedUpload(e,!0)){if(!e.data){this._initXHRData(e)};this._initProgressListener(e)};if(e.postMessage){e.dataType='postmessage '+(e.dataType||'')}}
else{this._initIframeSettings(e)}},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;if(!i){i=[];n.each(function(){var t=e(this),r=t.prop('name')||'files[]',n=(t.prop('files')||[1]).length;while(n){i.push(r);n-=1}});if(!i.length){i=[n.prop('name')||'files[]']}}
else if(!e.isArray(i)){i=[i]};return i},_initFormSettings:function(t){if(!t.form||!t.form.length){t.form=e(t.fileInput.prop('form'));if(!t.form.length){t.form=e(this.options.fileInput.prop('form'))}};t.paramName=this._getParamName(t);if(!t.url){t.url=t.form.prop('action')||location.href};t.type=(t.type||(e.type(t.form.prop('method'))==='string'&&t.form.prop('method'))||'').toUpperCase();if(t.type!=='POST'&&t.type!=='PUT'&&t.type!=='PATCH'){t.type='POST'};if(!t.formAcceptCharset){t.formAcceptCharset=t.form.attr('accept-charset')}},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);this._initFormSettings(i);this._initDataSettings(i);return i},_getDeferredState:function(e){if(e.state){return e.state()};if(e.isResolved()){return'resolved'};if(e.isRejected()){return'rejected'};return'pending'},_enhancePromise:function(e){e.success=e.done;e.error=e.fail;e.complete=e.always;return e},_getXHRPromise:function(t,i,n){var r=e.Deferred(),s=r.promise();i=i||this.options.context||s;if(t===!0){r.resolveWith(i,n)}
else if(t===!1){r.rejectWith(i,n)};s.abort=r.promise;return this._enhancePromise(s)},_addConvenienceMethods:function(t,i){var n=this,r=function(t){return e.Deferred().resolveWith(n,t).promise()};i.process=function(t,s){if(t||s){i._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){if(i.errorThrown){return e.Deferred().rejectWith(n,[i]).promise()};return r(arguments)}).then(t,s)};return this._processQueue||r([this])};i.submit=function(){if(this.state()!=='pending'){i.jqXHR=this.jqXHR=(n._trigger('submit',e.Event('submit',{delegatedEvent:t}),this)!==!1)&&n._onSend(t,this)};return this.jqXHR||n._getXHRPromise()};i.abort=function(){if(this.jqXHR){return this.jqXHR.abort()};this.errorThrown='abort';n._trigger('fail',null,this);return n._getXHRPromise(!1)};i.state=function(){if(this.jqXHR){return n._getDeferredState(this.jqXHR)};if(this._processQueue){return n._getDeferredState(this._processQueue)}};i.processing=function(){return!this.jqXHR&&this._processQueue&&n._getDeferredState(this._processQueue)==='pending'};i.progress=function(){return this._progress};i.response=function(){return this._response}},_getUploadedBytes:function(e){var i=e.getResponseHeader('Range'),t=i&&i.split('-'),n=t&&t.length>1&&parseInt(t[1],10);return n&&n+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var r=this,s=t.files[0],o=s.size,n=t.uploadedBytes,u=t.maxChunkSize||o,f=this._blobSlice,a=e.Deferred(),l=a.promise(),d,p;if(!(this._isXHRUpload(t)&&f&&(n||u<o))||t.data){return!1};if(i){return!0};if(n>=o){s.error=t.i18n('uploadedBytes');return this._getXHRPromise(!1,t.context,[null,'error',s.error])};p=function(){var i=e.extend({},t),l=i._progress.loaded;i.blob=f.call(s,n,n+u,s.type);i.chunkSize=i.blob.size;i.contentRange='bytes '+n+'-'+(n+i.chunkSize-1)+'/'+o;r._initXHRData(i);r._initProgressListener(i);d=((r._trigger('chunksend',null,i)!==!1&&e.ajax(i))||r._getXHRPromise(!1,i.context)).done(function(s,u,f){n=r._getUploadedBytes(f)||(n+i.chunkSize);if(l+i.chunkSize-i._progress.loaded){r._onProgress(e.Event('progress',{lengthComputable:!0,loaded:n-i.uploadedBytes,total:n-i.uploadedBytes}),i)};t.uploadedBytes=i.uploadedBytes=n;i.result=s;i.textStatus=u;i.jqXHR=f;r._trigger('chunkdone',null,i);r._trigger('chunkalways',null,i);if(n<o){p()}
else{a.resolveWith(i.context,[s,u,f])}}).fail(function(e,t,n){i.jqXHR=e;i.textStatus=t;i.errorThrown=n;r._trigger('chunkfail',null,i);r._trigger('chunkalways',null,i);a.rejectWith(i.context,[e,t,n])})};this._enhancePromise(l);l.abort=function(){return d.abort()};p();return l},_beforeSend:function(e,t){if(this._active===0){this._trigger('start');this._bitrateTimer=new this._BitrateTimer();this._progress.loaded=this._progress.total=0;this._progress.bitrate=0};this._initResponseObject(t);this._initProgressObject(t);t._progress.loaded=t.loaded=t.uploadedBytes||0;t._progress.total=t.total=this._getTotal(t.files)||1;t._progress.bitrate=t.bitrate=0;this._active+=1;this._progress.loaded+=t.loaded;this._progress.total+=t.total},_onDone:function(t,i,n,r){var s=r._progress.total,o=r._response;if(r._progress.loaded<s){this._onProgress(e.Event('progress',{lengthComputable:!0,loaded:s,total:s}),r)};o.result=r.result=t;o.textStatus=r.textStatus=i;o.jqXHR=r.jqXHR=n;this._trigger('done',null,r)},_onFail:function(e,t,i,n){var r=n._response;if(n.recalculateProgress){this._progress.loaded-=n._progress.loaded;this._progress.total-=n._progress.total};r.jqXHR=n.jqXHR=e;r.textStatus=n.textStatus=t;r.errorThrown=n.errorThrown=i;this._trigger('fail',null,n)},_onAlways:function(e,t,i,n){this._trigger('always',null,n)},_onSend:function(t,i){if(!i.submit){this._addConvenienceMethods(t,i)};var n=this,s,l,o,p,r=n._getAJAXSettings(i),a=function(){n._sending+=1;r._bitrateTimer=new n._BitrateTimer();s=s||(((l||n._trigger('send',e.Event('send',{delegatedEvent:t}),r)===!1)&&n._getXHRPromise(!1,r.context,l))||n._chunkedUpload(r)||e.ajax(r)).done(function(e,t,i){n._onDone(e,t,i,r)}).fail(function(e,t,i){n._onFail(e,t,i,r)}).always(function(e,t,i){n._onAlways(e,t,i,r);n._sending-=1;n._active-=1;if(r.limitConcurrentUploads&&r.limitConcurrentUploads>n._sending){var s=n._slots.shift();while(s){if(n._getDeferredState(s)==='pending'){s.resolve();break};s=n._slots.shift()}};if(n._active===0){n._trigger('stop')}});return s};this._beforeSend(t,r);if(this.options.sequentialUploads||(this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)){if(this.options.limitConcurrentUploads>1){o=e.Deferred();this._slots.push(o);p=o.then(a)}
else{this._sequence=this._sequence.then(a,a);p=this._sequence};p.abort=function(){l=[undefined,'abort','abort'];if(!s){if(o){o.rejectWith(r.context,l)};return a()};return s.abort()};return this._enhancePromise(p)};return a()},_onAdd:function(t,i){var d=this,g=!0,s=e.extend({},this.options,i),r=i.files,h=r.length,a=s.limitMultiFileUploads,u=s.limitMultiFileUploadSize,v=s.limitMultiFileUploadSizeOverhead,m=0,f=this._getParamName(s),l,o,p,n,c=0;if(!h){return!1};if(u&&r[0].size===undefined){u=undefined};if(!(s.singleFileUploads||a||u)||!this._isXHRUpload(s)){p=[r];l=[f]}
else if(!(s.singleFileUploads||u)&&a){p=[];l=[];for(n=0;n<h;n+=a){p.push(r.slice(n,n+a));o=f.slice(n,n+a);if(!o.length){o=f};l.push(o)}}
else if(!s.singleFileUploads&&u){p=[];l=[];for(n=0;n<h;n=n+1){m+=r[n].size+v;if(n+1===h||((m+r[n+1].size+v)>u)||(a&&n+1-c>=a)){p.push(r.slice(c,n+1));o=f.slice(c,n+1);if(!o.length){o=f};l.push(o);c=n+1;m=0}}}
else{l=f};i.originalFiles=r;e.each(p||r,function(n,r){var s=e.extend({},i);s.files=p?r:[r];s.paramName=l[n];d._initResponseObject(s);d._initProgressObject(s);d._addConvenienceMethods(t,s);g=d._trigger('add',e.Event('add',{delegatedEvent:t}),s);return g});return g},_replaceFileInput:function(t){var i=t.fileInput,n=i.clone(!0),r=i.is(document.activeElement);t.fileInputClone=n;e('<form></form>').append(n)[0].reset();i.after(n).detach();if(r){n.focus()};e.cleanData(i.unbind('remove'));this.options.fileInput=this.options.fileInput.map(function(e,t){if(t===i[0]){return n[0]};return t});if(i[0]===this.element[0]){this.element=n}},_handleFileTreeEntry:function(t,i){var l=this,n=e.Deferred(),r=function(e){if(e&&!e.entry){e.entry=t};n.resolve([e])},p=function(e){l._handleFileTreeEntries(e,i+t.name+'/').done(function(e){n.resolve(e)}).fail(r)},o=function(){a.readEntries(function(e){if(!e.length){p(s)}
else{s=s.concat(e);o()}},r)},a,s=[];i=i||'';if(t.isFile){if(t._file){t._file.relativePath=i;n.resolve(t._file)}
else{t.file(function(e){e.relativePath=i;n.resolve(e)},r)}}
else if(t.isDirectory){a=t.createReader();o()}
else{n.resolve([])};return n.promise()},_handleFileTreeEntries:function(t,i){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,i)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;if(i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)){return this._handleFileTreeEntries(e.map(i,function(e){var t;if(e.webkitGetAsEntry){t=e.webkitGetAsEntry();if(t){t._file=e.getAsFile()};return t};return e.getAsEntry()}))};return e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n=t.prop('webkitEntries')||t.prop('entries'),i,r;if(n&&n.length){return this._handleFileTreeEntries(n)};i=e.makeArray(t.prop('files'));if(!i.length){r=t.prop('value');if(!r){return e.Deferred().resolve([]).promise()};i=[{name:r.replace(/^.*\\/,'')}]}
else if(i[0].name===undefined&&i[0].fileName){e.each(i,function(e,t){t.name=t.fileName;t.size=t.fileSize})};return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){if(!(t instanceof e)||t.length===1){return this._getSingleFileInputFiles(t)};return e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r;if(n.options.replaceFileInput){n._replaceFileInput(i)};if(n._trigger('change',e.Event('change',{delegatedEvent:t}),i)!==!1){n._onAdd(t,i)}})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};if(i&&i.length){e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();if(i){n.files.push(i)}});if(this._trigger('paste',e.Event('paste',{delegatedEvent:t}),n)!==!1){this._onAdd(t,n)}}},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var r=this,i=t.dataTransfer,n={};if(i&&i.files&&i.files.length){t.preventDefault();this._getDroppedFiles(i).always(function(i){n.files=i;if(r._trigger('drop',e.Event('drop',{delegatedEvent:t}),n)!==!1){r._onAdd(t,n)}})}},_onDragOver:t('dragover'),_onDragEnter:t('dragenter'),_onDragLeave:t('dragleave'),_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave});this._on(this.options.pasteZone,{paste:this._onPaste})};if(e.support.fileInput){this._on(this.options.fileInput,{change:this._onChange})}},_destroyEventHandlers:function(){this._off(this.options.dropZone,'dragenter dragleave dragover drop');this._off(this.options.pasteZone,'paste');this._off(this.options.fileInput,'change')},_setOption:function(t,i){var n=e.inArray(t,this._specialOptions)!==-1;if(n){this._destroyEventHandlers()};this._super(t,i);if(n){this._initSpecialOptions();this._initEventHandlers()}},_initSpecialOptions:function(){var t=this.options;if(t.fileInput===undefined){t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]')}
else if(!(t.fileInput instanceof e)){t.fileInput=e(t.fileInput)};if(!(t.dropZone instanceof e)){t.dropZone=e(t.dropZone)};if(!(t.pasteZone instanceof e)){t.pasteZone=e(t.pasteZone)}},_getRegExp:function(e){var t=e.split('/'),i=t.pop();t.shift();return new RegExp(t.join('/'),i)},_isRegExpOption:function(t,i){return t!=='url'&&e.type(i)==='string'&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,n=this.element.data();e.each(this.element[0].attributes,function(e,r){var s=r.name.toLowerCase(),o;if(/^data-/.test(s)){s=s.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()});o=n[s];if(t._isRegExpOption(s,o)){o=t._getRegExp(o)};i[s]=o}})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;if(!t||this.options.disabled){return};if(t.fileInput&&!t.files){this._getFileInputFiles(t.fileInput).always(function(e){t.files=e;i._onAdd(null,t)})}
else{t.files=e.makeArray(t.files);this._onAdd(null,t)}},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var o=this,i=e.Deferred(),r=i.promise(),n,s;r.abort=function(){s=!0;if(n){return n.abort()};i.reject(null,'abort','abort');return r};this._getFileInputFiles(t.fileInput).always(function(e){if(s){return};if(!e.length){i.reject();return};t.files=e;n=o._onSend(null,t);n.then(function(e,t,n){i.resolve(e,t,n)},function(e,t,n){i.reject(e,t,n)})});return this._enhancePromise(r)};t.files=e.makeArray(t.files);if(t.files.length){return this._onSend(null,t)}};return this._getXHRPromise(!1,t&&t.context)}})}));
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
;if(!('classList' in document.createElement('_'))){(function(e){'use strict';if(!('Element' in e))return;var a='classList',t='prototype',l=e.Element[t],o=Object,h=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,'')},f=Array[t].indexOf||function(e){var t=0,i=this.length;for(;t<i;t++){if(t in this&&this[t]===e){return t}};return-1},c=function(e,t){this.name=e;this.code=DOMException[e];this.message=t},s=function(e,t){if(t===''){throw new c('SYNTAX_ERR','An invalid or illegal string was specified')};if(/\s/.test(t)){throw new c('INVALID_CHARACTER_ERR','String contains an invalid character')};return f.call(e,t)},u=function(e){var i=h.call(e.getAttribute('class')||''),n=i?i.split(/\s+/):[],t=0,o=n.length;for(;t<o;t++){this.push(n[t])};this._updateClassName=function(){e.setAttribute('class',this.toString())}},i=u[t]=[],d=function(){return new u(this)};c[t]=Error[t];i.item=function(e){return this[e]||null};i.contains=function(e){e+='';return s(this,e)!==-1};i.add=function(){var t=arguments,i=0,o=t.length,e,n=!1;do{e=t[i]+'';if(s(this,e)===-1){this.push(e);n=!0}}
while(++i<o);if(n){this._updateClassName()}};i.remove=function(){var i=arguments,n=0,r=i.length,t,o=!1,e;do{t=i[n]+'';e=s(this,t);while(e!==-1){this.splice(e,1);o=!0;e=s(this,t)}}
while(++n<r);if(o){this._updateClassName()}};i.toggle=function(e,t){e+='';var i=this.contains(e),n=i?t!==!0&&'remove':t!==!1&&'add';if(n){this[n](e)};if(t===!0||t===!1){return t}
else{return!i}};i.toString=function(){return this.join(' ')};if(o.defineProperty){var r={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(l,a,r)}catch(n){if(n.number===-0x7FF5EC54){r.enumerable=!1;o.defineProperty(l,a,r)}}}
else if(o[t].__defineGetter__){l.__defineGetter__(a,d)}}(self))};
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
(function(e){'use strict';e.URL=e.URL||e.webkitURL;if(e.Blob&&e.URL){try{new Blob;return}catch(t){}};var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||(function(e){var l=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},t=function(e,t,i){this.data=e;this.size=e.length;this.type=t;this.encoding=i},o=c.prototype,n=t.prototype,u=e.FileReaderSync,d=function(e){this.code=this[this.name=e]},h=('NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR').split(' '),s=h.length,i=e.URL||e.webkitURL||e,f=i.createObjectURL,m=i.revokeObjectURL,r=i,p=e.btoa,g=e.atob,b=e.ArrayBuffer,a=e.Uint8Array,v=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;t.fake=n.fake=!0;while(s--){d.prototype[h[s]]=s+1};if(!i.createObjectURL){r=e.URL=function(e){var t=document.createElementNS('http://www.w3.org/1999/xhtml','a'),i;t.href=e;if(!('origin' in t)){if(t.protocol.toLowerCase()==='data:'){t.origin=null}
else{i=e.match(v);t.origin=i&&i[1]}};return t}};r.createObjectURL=function(e){var o=e.type,n;if(o===null){o='application/octet-stream'};if(e instanceof t){n='data:'+o;if(e.encoding==='base64'){return n+';base64,'+e.data}
else if(e.encoding==='URI'){return n+','+decodeURIComponent(e.data)};if(p){return n+';base64,'+p(e.data)}
else{return n+','+encodeURIComponent(e.data)}}
else if(f){return f.call(i,e)}};r.revokeObjectURL=function(e){if(e.substring(0,5)!=='data:'&&m){m.call(i,e)}};o.append=function(e){var i=this.data;if(a&&(e instanceof b||e instanceof a)){var o='',s=new a(e),n=0,c=s.length;for(;n<c;n++){o+=String.fromCharCode(s[n])};i.push(o)}
else if(l(e)==='Blob'||l(e)==='File'){if(u){var r=new u;i.push(r.readAsBinaryString(e))}
else{throw new d('NOT_READABLE_ERR')}}
else if(e instanceof t){if(e.encoding==='base64'&&g){i.push(g(e.data))}
else if(e.encoding==='URI'){i.push(decodeURIComponent(e.data))}
else if(e.encoding==='raw'){i.push(e.data)}}
else{if(typeof e!=='string'){e+=''};i.push(unescape(encodeURIComponent(e)))}};o.getBlob=function(e){if(!arguments.length){e=null};return new t(this.data.join(''),e,'raw')};o.toString=function(){return'[object BlobBuilder]'};n.slice=function(e,i,n){var o=arguments.length;if(o<3){n=null};return new t(this.data.slice(e,o>1?i:this.data.length),n,this.encoding)};n.toString=function(){return'[object Blob]'};n.close=function(){this.size=0;delete this.data};return c}(e));e.Blob=function(e,t){var a=t?(t.type||''):'',s=new n();if(e){for(var o=0,r=e.length;o<r;o++){if(Uint8Array&&e[o]instanceof Uint8Array){s.append(e[o].buffer)}
else{s.append(e[o])}}};var i=s.getBlob(a);if(!i.slice&&i.webkitSlice){i.slice=i.webkitSlice};return i};var i=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=i(new e.Blob())}(typeof self!=='undefined'&&self||typeof window!=='undefined'&&window||this.content||this));(function(e,t){'use strict';if(typeof module==='object'){module.exports=t}
else if(typeof define==='function'&&define.amd){define(function(){return t})}
else{e.MediumEditor=t}}(this,function(){'use strict';function e(e,t){'use strict';return this.init(e,t)};e.extensions={};(function(t){'use strict';function a(e,t){var i,s=Array.prototype.slice.call(arguments,2);t=t||{};for(var o=0;o<s.length;o++){var n=s[o];if(n){for(i in n){if(n.hasOwnProperty(i)&&typeof n[i]!=='undefined'&&(e||t.hasOwnProperty(i)===!1)){t[i]=n[i]}}}};return t};var r=!1;try{var o=document.createElement('div'),s=document.createTextNode(' ');o.appendChild(s);r=o.contains(s)}catch(n){};var i={isIE:((navigator.appName==='Microsoft Internet Explorer')||((navigator.appName==='Netscape')&&(new RegExp('Trident/.*rv:([0-9]{1,}[.0-9]{0,})').exec(navigator.userAgent)!==null))),isEdge:(/Edge\/\d+/).exec(navigator.userAgent)!==null,isFF:(navigator.userAgent.toLowerCase().indexOf('firefox')>-1),isMac:(t.navigator.platform.toUpperCase().indexOf('MAC')>=0),keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77},isMetaCtrlKey:function(e){if((i.isMac&&e.metaKey)||(!i.isMac&&e.ctrlKey)){return!0};return!1},isKey:function(e,t){var n=i.getKeyCode(e);if(!1===Array.isArray(t)){return n===t};if(-1===t.indexOf(n)){return!1};return!0},getKeyCode:function(e){var t=e.which;if(null===t){t=e.charCode!==null?e.charCode:e.keyCode};return t},blockContainerElementNames:['p','h1','h2','h3','h4','h5','h6','blockquote','pre','ul','li','ol','address','article','aside','audio','canvas','dd','dl','dt','fieldset','figcaption','figure','footer','form','header','hgroup','main','nav','noscript','output','section','video','table','thead','tbody','tfoot','tr','th','td'],emptyElementNames:['br','col','colgroup','hr','img','input','source','wbr'],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return a.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return a.apply(this,e)},createLink:function(e,t,n,o){var s=e.createElement('a');i.moveTextRangeIntoElement(t[0],t[t.length-1],s);s.setAttribute('href',n);if(o){s.setAttribute('target',o)};return s},findOrCreateMatchingTextNodes:function(e,t,n){var c=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),l=[],r=0,s=!1,o=null,a=null;while((o=c.nextNode())!==null){if(o.nodeType>3){continue}
else if(o.nodeType===3){if(!s&&n.start<(r+o.nodeValue.length)){s=!0;a=i.splitStartNodeIfNeeded(o,n.start,r)};if(s){i.splitEndNodeIfNeeded(o,a,n.end,r)};if(s&&r===n.end){break}
else if(s&&r>(n.end+1)){throw new Error('PerformLinking overshot the target!')};if(s){l.push(a||o)};r+=o.nodeValue.length;if(a!==null){r+=a.nodeValue.length;c.nextNode()};a=null}
else if(o.tagName.toLowerCase()==='img'){if(!s&&(n.start<=r)){s=!0};if(s){l.push(o)}}};return l},splitStartNodeIfNeeded:function(e,t,i){if(t!==i){return e.splitText(t-i)};return null},splitEndNodeIfNeeded:function(e,t,i,n){var o,s;o=n+(t||e).nodeValue.length+(t?e.nodeValue.length:0)-1;s=(t||e).nodeValue.length-(o+1-i);if(o>=i&&n!==o&&s!==0){(t||e).splitText(s)}},splitByBlockElements:function(t){if(t.nodeType!==3&&t.nodeType!==1){return[]};var n=[],s=e.util.blockContainerElementNames.join(',');if(t.nodeType===3||t.querySelectorAll(s).length===0){return[t]};for(var o=0;o<t.childNodes.length;o++){var i=t.childNodes[o];if(i.nodeType===3){n.push(i)}
else if(i.nodeType===1){var r=i.querySelectorAll(s);if(r.length===0){n.push(i)}
else{n=n.concat(e.util.splitByBlockElements(i))}}};return n},findAdjacentTextNodeWithContent:function(e,t,i){var o=!1,n,s=i.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);n=s.nextNode();while(n){if(n===t){o=!0}
else if(o){if(n.nodeType===3&&n.nodeValue&&n.nodeValue.trim().length>0){break}};n=s.nextNode()};return n},findPreviousSibling:function(e){if(!e||i.isMediumEditorElement(e)){return!1};var t=e.previousSibling;while(!t&&!i.isMediumEditorElement(e.parentNode)){e=e.parentNode;t=e.previousSibling};return t},isDescendant:function(e,t,i){if(!e||!t){return!1};if(e===t){return!!i};if(e.nodeType!==1){return!1};if(r||t.nodeType!==3){return e.contains(t)};var n=t.parentNode;while(n!==null){if(n===e){return!0};n=n.parentNode};return!1},isElement:function(e){return!!(e&&e.nodeType===1)},throttle:function(e,t){var a=50,n,o,s,i=null,r=0,l=function(){r=Date.now();i=null;s=e.apply(n,o);if(!i){n=o=null}};if(!t&&t!==0){t=a};return function(){var c=Date.now(),a=t-(c-r);n=this;o=arguments;if(a<=0||a>t){if(i){clearTimeout(i);i=null};r=c;s=e.apply(n,o);if(!i){n=o=null}}
else if(!i){i=setTimeout(l,a)};return s}},traverseUp:function(e,t){if(!e){return!1};do{if(e.nodeType===1){if(t(e)){return e};if(i.isMediumEditorElement(e)){return!1}};e=e.parentNode}
while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;')},insertHTMLCommand:function(t,n){var r,s,l,c,h,u,o,d=!1,f=['insertHTML',!1,n];if(!e.util.isEdge&&t.queryCommandSupported('insertHTML')){try{return t.execCommand.apply(t,f)}catch(a){}};r=t.getSelection();if(r.rangeCount){s=r.getRangeAt(0);o=s.commonAncestorContainer;if(i.isMediumEditorElement(o)&&!o.firstChild){s.selectNode(o.appendChild(t.createTextNode('')))}
else if((o.nodeType===3&&s.startOffset===0&&s.endOffset===o.nodeValue.length)||(o.nodeType!==3&&o.innerHTML===s.toString())){while(!i.isMediumEditorElement(o)&&o.parentNode&&o.parentNode.childNodes.length===1&&!i.isMediumEditorElement(o.parentNode)){o=o.parentNode};s.selectNode(o)};s.deleteContents();l=t.createElement('div');l.innerHTML=n;c=t.createDocumentFragment();while(l.firstChild){h=l.firstChild;u=c.appendChild(h)};s.insertNode(c);if(u){s=s.cloneRange();s.setStartAfter(u);s.collapse(!0);r.removeAllRanges();r.addRange(s)};d=!0};if(t.execCommand.callListeners){t.execCommand.callListeners(f,d)};return d},execFormatBlock:function(t,n){var o=i.getTopBlockContainer(e.selection.getSelectionStart(t)),s;if(n==='blockquote'){if(o){s=Array.prototype.slice.call(o.childNodes);if(s.some(function(e){return i.isBlockContainer(e)})){return t.execCommand('outdent',!1,null)}};if(i.isIE){return t.execCommand('indent',!1,n)}};if(o&&n===o.nodeName.toLowerCase()){n='p'};if(i.isIE){n='<'+n+'>'};if(o&&o.nodeName.toLowerCase()==='blockquote'){if(i.isIE&&n==='<p>'){return t.execCommand('outdent',!1,n)};if((i.isFF||i.isEdge)&&n==='p'){s=Array.prototype.slice.call(o.childNodes);if(s.some(function(e){return!i.isBlockContainer(e)})){t.execCommand('formatBlock',!1,n)};return t.execCommand('outdent',!1,n)}};return t.execCommand('formatBlock',!1,n)},setTargetBlank:function(e,t){var i,n=t||!1;if(e.nodeName.toLowerCase()==='a'){e.target='_blank'}
else{e=e.getElementsByTagName('a');for(i=0;i<e.length;i+=1){if(!1===n||n===e[i].attributes.href.value){e[i].target='_blank'}}}},removeTargetBlank:function(e,t){var i;if(e.nodeName.toLowerCase()==='a'){e.removeAttribute('target')}
else{e=e.getElementsByTagName('a');for(i=0;i<e.length;i+=1){if(t===e[i].attributes.href.value){e[i].removeAttribute('target')}}}},addClassToAnchors:function(e,t){var n=t.split(' '),o,i;if(e.nodeName.toLowerCase()==='a'){for(i=0;i<n.length;i+=1){e.classList.add(n[i])}}
else{e=e.getElementsByTagName('a');for(o=0;o<e.length;o+=1){for(i=0;i<n.length;i+=1){e[o].classList.add(n[i])}}}},isListItem:function(e){if(!e){return!1};if(e.nodeName.toLowerCase()==='li'){return!0};var t=e.parentNode,n=t.nodeName.toLowerCase();while(n==='li'||(!i.isBlockContainer(t)&&n!=='div')){if(n==='li'){return!0};t=t.parentNode;if(t){n=t.nodeName.toLowerCase()}
else{return!1}};return!1},cleanListDOM:function(t,n){if(n.nodeName.toLowerCase()!=='li'){return};var o=n.parentElement;if(o.parentElement.nodeName.toLowerCase()==='p'){i.unwrap(o.parentElement,t);e.selection.moveCursor(t,n.firstChild,n.firstChild.textContent.length)}},splitOffDOMTree:function(e,t,i){var s=t,o=null,l=!i;while(s!==e){var r=s.parentNode,u=r.cloneNode(!1),n=(l?s:r.firstChild),a;if(o){if(l){u.appendChild(o)}
else{a=o}};o=u;while(n){var c=n.nextSibling;if(n===s){if(!n.hasChildNodes()){n.parentNode.removeChild(n)}
else{n=n.cloneNode(!1)};if(n.textContent){o.appendChild(n)};n=(l?c:null)}
else{n.parentNode.removeChild(n);if(n.hasChildNodes()||n.textContent){o.appendChild(n)};n=c}};if(a){o.appendChild(a)};s=r};return o},moveTextRangeIntoElement:function(e,t,n){if(!e||!t){return!1};var s=i.findCommonRoot(e,t);if(!s){return!1};if(t===e){var u=e.parentNode,f=e.nextSibling;u.removeChild(e);n.appendChild(e);if(f){u.insertBefore(n,f)}
else{u.appendChild(n)};return n.hasChildNodes()};var h=[],r,o,l;for(var c=0;c<s.childNodes.length;c++){l=s.childNodes[c];if(!r){if(i.isDescendant(l,e,!0)){r=l}}
else{if(i.isDescendant(l,t,!0)){o=l;break}
else{h.push(l)}}};var d=o.nextSibling,a=s.ownerDocument.createDocumentFragment();if(r===e){r.parentNode.removeChild(r);a.appendChild(r)}
else{a.appendChild(i.splitOffDOMTree(r,e))};h.forEach(function(e){e.parentNode.removeChild(e);a.appendChild(e)});if(o===t){o.parentNode.removeChild(o);a.appendChild(o)}
else{a.appendChild(i.splitOffDOMTree(o,t,!0))};n.appendChild(a);if(o.parentNode===s){s.insertBefore(n,o)}
else if(d){s.insertBefore(n,d)}
else{s.appendChild(n)};return n.hasChildNodes()},depthOfNode:function(e){var i=0,t=e;while(t.parentNode!==null){t=t.parentNode;i++};return i},findCommonRoot:function(e,t){var s=i.depthOfNode(e),r=i.depthOfNode(t),n=e,o=t;while(s!==r){if(s>r){n=n.parentNode;s-=1}
else{o=o.parentNode;r-=1}}
while(n!==o){n=n.parentNode;o=o.parentNode};return n},isElementAtBeginningOfBlock:function(e){var n,t;while(!i.isBlockContainer(e)&&!i.isMediumEditorElement(e)){t=e;while(t=t.previousSibling){n=t.nodeType===3?t.nodeValue:t.textContent;if(n.length>0){return!1}};e=e.parentNode};return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute('data-medium-editor-element')},getContainerEditorElement:function(e){return i.traverseUp(e,function(e){return i.isMediumEditorElement(e)})},isBlockContainer:function(e){return e&&e.nodeType!==3&&i.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(e){return i.traverseUp(e,function(e){return i.isBlockContainer(e)||i.isMediumEditorElement(e)})},getTopBlockContainer:function(e){var t=i.isBlockContainer(e)?e:!1;i.traverseUp(e,function(e){if(i.isBlockContainer(e)){t=e};if(!t&&i.isMediumEditorElement(e)){t=e;return!0};return!1});return t},getFirstSelectableLeafNode:function(e){while(e&&e.firstChild){e=e.firstChild};e=i.traverseUp(e,function(e){return i.emptyElementNames.indexOf(e.nodeName.toLowerCase())===-1});if(e.nodeName.toLowerCase()==='table'){var t=e.querySelector('th, td');if(t){e=t}};return e},getFirstTextNode:function(e){i.warn('getFirstTextNode is deprecated and will be removed in version 6.0.0');return i._getFirstTextNode(e)},_getFirstTextNode:function(e){if(e.nodeType===3){return e};for(var t=0;t<e.childNodes.length;t++){var n=i._getFirstTextNode(e.childNodes[t]);if(n!==null){return n}};return null},ensureUrlHasProtocol:function(e){if(e.indexOf('://')===-1){return'http://'+e};return e},warn:function(){if(t.console!==undefined&&typeof t.console.warn==='function'){t.console.warn.apply(t.console,arguments)}},deprecated:function(e,t,n){var o=e+' is deprecated, please use '+t+' instead.';if(n){o+=' Will be removed in '+n};i.warn(o)},deprecatedMethod:function(e,t,n,o){i.deprecated(e,t,o);if(typeof this[t]==='function'){this[t].apply(this,n)}},cleanupAttrs:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},cleanupTags:function(e,t){t.forEach(function(t){if(e.nodeName.toLowerCase()===t){e.parentNode.removeChild(e)}})},getClosestTag:function(e,t){return i.traverseUp(e,function(e){return e.nodeName.toLowerCase()===t.toLowerCase()})},unwrap:function(e,t){var n=t.createDocumentFragment(),o=Array.prototype.slice.call(e.childNodes);for(var i=0;i<o.length;i++){n.appendChild(o[i])};if(n.childNodes.length){e.parentNode.replaceChild(n,e)}
else{e.parentNode.removeChild(e)}}};e.util=i}(window));(function(){'use strict';var t=function(t){e.util.extend(this,t)};t.extend=function(t){var n=this,i;if(t&&t.hasOwnProperty('constructor')){i=t.constructor}
else{i=function(){return n.apply(this,arguments)}};e.util.extend(i,n);var o=function(){this.constructor=i};o.prototype=n.prototype;i.prototype=new o();if(t){e.util.extend(i.prototype,t)};return i};t.prototype={init:function(){},base:undefined,name:undefined,checkState:undefined,destroy:undefined,queryCommandState:undefined,isActive:undefined,isAlreadyApplied:undefined,setActive:undefined,setInactive:undefined,'window':undefined,'document':undefined,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}};['execAction','on','off','subscribe','trigger'].forEach(function(e){t.prototype[e]=function(){return this.base[e].apply(this.base,arguments)}});e.Extension=t})();(function(){'use strict';function t(t){if(e.util.isBlockContainer(t)){return NodeFilter.FILTER_ACCEPT}
else{return NodeFilter.FILTER_SKIP}};var i={findMatchingSelectionParent:function(t,i){var n=i.getSelection(),o,s;if(n.rangeCount===0){return!1};o=n.getRangeAt(0);s=o.commonAncestorContainer;return e.util.traverseUp(s,t)},getSelectionElement:function(t){return this.findMatchingSelectionParent(function(t){return e.util.isMediumEditorElement(t)},t)},exportSelection:function(e,t){if(!e){return null};var n=null,l=t.getSelection();if(l.rangeCount>0){var i=l.getRangeAt(0),s=i.cloneRange(),o;s.selectNodeContents(e);s.setEnd(i.startContainer,i.startOffset);o=s.toString().length;n={start:o,end:o+i.toString().length};if(this.doesRangeStartWithImages(i,t)){n.startsWithImage=!0};var a=this.getTrailingImageCount(e,n,i.endContainer,i.endOffset);if(a){n.trailingImageCount=a};if(o!==0){var r=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,i.startContainer,i.startOffset);if(r!==-1){n.emptyBlocksIndex=r}}};return n},importSelection:function(e,t,i,o){if(!e||!t){return};var s=i.createRange();s.setStart(t,0);s.collapse(!0);var n=t,f=[],r=0,u=!1,m=!1,g=0,l=!1,c,b=!1,a=null;if(o||e.startsWithImage||typeof e.emptyBlocksIndex!=='undefined'){b=!0}
while(!l&&n){if(n.nodeType>3){n=f.pop();continue};if(n.nodeType===3&&!m){c=r+n.length;if(!u&&e.start>=r&&e.start<=c){if(b||e.start<c){s.setStart(n,e.start-r);u=!0}
else{a=n}};if(u&&e.end>=r&&e.end<=c){if(!e.trailingImageCount){s.setEnd(n,e.end-r);l=!0}
else{m=!0}};r=c}
else{if(e.trailingImageCount&&m){if(n.nodeName.toLowerCase()==='img'){g++};if(g===e.trailingImageCount){var h=0;while(n.parentNode.childNodes[h]!==n){h++};s.setEnd(n.parentNode,h+1);l=!0}};if(!l&&n.nodeType===1){var d=n.childNodes.length-1;while(d>=0){f.push(n.childNodes[d]);d-=1}}};if(!l){n=f.pop()}};if(!u&&a){s.setStart(a,a.length);s.setEnd(a,a.length)};if(typeof e.emptyBlocksIndex!=='undefined'){s=this.importSelectionMoveCursorPastBlocks(i,t,e.emptyBlocksIndex,s)};if(o){s=this.importSelectionMoveCursorPastAnchor(e,s)};var p=i.getSelection();p.removeAllRanges();p.addRange(s)},importSelectionMoveCursorPastAnchor:function(t,i){var a=function(e){return e.nodeName.toLowerCase()==='a'};if(t.start===t.end&&i.startContainer.nodeType===3&&i.startOffset===i.startContainer.nodeValue.length&&e.util.traverseUp(i.startContainer,a)){var r=i.startContainer,n=i.startContainer.parentNode;while(n!==null&&n.nodeName.toLowerCase()!=='a'){if(n.childNodes[n.childNodes.length-1]!==r){n=null}
else{r=n;n=n.parentNode}};if(n!==null&&n.nodeName.toLowerCase()==='a'){var s=null;for(var o=0;s===null&&o<n.parentNode.childNodes.length;o++){if(n.parentNode.childNodes[o]===n){s=o}};i.setStart(n.parentNode,s+1);i.collapse(!0)}};return i},importSelectionMoveCursorPastBlocks:function(i,n,o,s){var a=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,t,!1),l=s.startContainer,c,r,u=0;o=o||1;if(l.nodeType===3&&e.util.isBlockContainer(l.previousSibling)){c=l.previousSibling}
else{c=e.util.getClosestBlockContainer(l)}
while(a.nextNode()){if(!r){if(c===a.currentNode){r=a.currentNode}}
else{r=a.currentNode;u++;if(u===o){break};if(r.textContent.length>0){break}}};if(!r){r=c};s.setStart(e.util.getFirstSelectableLeafNode(r),0);return s},getIndexRelativeToAdjacentEmptyBlocks:function(i,n,o,s){if(o.textContent.length>0&&s>0){return-1};var a=o;if(a.nodeType!==3){a=o.childNodes[s]};if(a){if(!e.util.isElementAtBeginningOfBlock(a)){return-1};var u=e.util.findPreviousSibling(a);if(!u){return-1}
else if(u.nodeValue){return-1}};var d=e.util.getClosestBlockContainer(o),l=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,t,!1),r=0;while(l.nextNode()){var c=l.currentNode.textContent==='';if(c||r>0){r+=1};if(l.currentNode===d){return r};if(!c){r=0}};return r},doesRangeStartWithImages:function(e,t){if(e.startOffset!==0||e.startContainer.nodeType!==1){return!1};if(e.startContainer.nodeName.toLowerCase()==='img'){return!0};var o=e.startContainer.querySelector('img');if(!o){return!1};var n=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);while(n.nextNode()){var i=n.currentNode;if(i===o){break};if(i.nodeValue){return!1}};return!0},getTrailingImageCount:function(e,t,i,n){if(n===0||i.nodeType!==1){return 0};if(i.nodeName.toLowerCase()!=='img'&&!i.querySelector('img')){return 0};var a=i.childNodes[n-1];while(a.hasChildNodes()){a=a.lastChild};var o=e,c=[],s=0,u=!1,f=!1,d=!1,r,h=0;while(!d&&o){if(o.nodeType>3){o=c.pop();continue};if(o.nodeType===3&&!f){h=0;r=s+o.length;if(!u&&t.start>=s&&t.start<=r){u=!0};if(u&&t.end>=s&&t.end<=r){f=!0};s=r}
else{if(o.nodeName.toLowerCase()==='img'){h++};if(o===a){d=!0}
else if(o.nodeType===1){var l=o.childNodes.length-1;while(l>=0){c.push(o.childNodes[l]);l-=1}}};if(!d){o=c.pop()}};return h},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount){return!1};if(t.toString().trim()!==''){return!0};var i=this.getSelectedParentElement(t.getRangeAt(0));if(i){if(i.nodeName.toLowerCase()==='img'||(i.nodeType===1&&i.querySelector('img'))){return!0}};return!1},selectionInContentEditableFalse:function(e){var t,i=this.findMatchingSelectionParent(function(e){var i=e&&e.getAttribute('contenteditable');if(i==='true'){t=!0};return e.nodeName!=='#text'&&i==='false'},e);return!t&&i},getSelectionHtml:function(e){var t,o='',i=e.getSelection(),s,n;if(i.rangeCount){n=e.createElement('div');for(t=0,s=i.rangeCount;t<s;t+=1){n.appendChild(i.getRangeAt(t).cloneContents())};o=n.innerHTML};return o},getCaretOffsets:function(e,t){var i,n;if(!t){t=window.getSelection().getRangeAt(0)};i=t.cloneRange();n=t.cloneRange();i.selectNodeContents(e);i.setEnd(t.endContainer,t.endOffset);n.selectNodeContents(e);n.setStart(t.endContainer,t.endOffset);return{left:i.toString().length,right:n.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){if(!e){return null};if(this.rangeSelectsSingleNode(e)&&e.startContainer.childNodes[e.startOffset].nodeType!==3){return e.startContainer.childNodes[e.startOffset]};if(e.startContainer.nodeType===3){return e.startContainer.parentNode};return e.startContainer},getSelectedElements:function(e){var t=e.getSelection(),n,o,i;if(!t.rangeCount||t.isCollapsed||!t.getRangeAt(0).commonAncestorContainer){return[]};n=t.getRangeAt(0);if(n.commonAncestorContainer.nodeType===3){o=[];i=n.commonAncestorContainer;while(i.parentNode&&i.parentNode.childNodes.length===1){o.push(i.parentNode);i=i.parentNode};return o};return[].filter.call(n.commonAncestorContainer.getElementsByTagName('*'),function(e){return(typeof t.containsNode==='function')?t.containsNode(e,!0):!0})},selectNode:function(e,t){var i=t.createRange(),n=t.getSelection();i.selectNodeContents(e);n.removeAllRanges();n.addRange(i)},select:function(e,t,i,n,s){e.getSelection().removeAllRanges();var o=e.createRange();o.setStart(t,i);if(n){o.setEnd(n,s)}
else{o.collapse(!0)};e.getSelection().addRange(o);return o},clearSelection:function(e,t){if(t){e.getSelection().collapseToStart()}
else{e.getSelection().collapseToEnd()}},moveCursor:function(e,t,i){this.select(e,t,i)},getSelectionRange:function(e){var t=e.getSelection();if(t.rangeCount===0){return null};return t.getRangeAt(0)},getSelectionStart:function(e){var t=e.getSelection().anchorNode,i=(t&&t.nodeType===3?t.parentNode:t);return i}};e.selection=i}());(function(){'use strict';var t=function(e){this.base=e;this.options=this.base.options;this.events=[];this.disabledEvents={};this.customEvents={};this.listeners={}};t.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(t,i,n,o){t=e.util.isElement(t)||[window,document].indexOf(t)>-1?[t]:t;Array.prototype.forEach.call(t,function(e){e.addEventListener(i,n,o);this.events.push([e,i,n,o])}.bind(this))},detachDOMEvent:function(t,i,n,o){var r,s;t=e.util.isElement(t)||[window,document].indexOf(t)>-1?[t]:t;Array.prototype.forEach.call(t,function(e){r=this.indexOfListener(e,i,n,o);if(r!==-1){s=this.events.splice(r,1)[0];s[0].removeEventListener(s[1],s[2],s[3])}}.bind(this))},indexOfListener:function(e,t,i,n){var o,r,s;for(o=0,r=this.events.length;o<r;o=o+1){s=this.events[o];if(s[0]===e&&s[1]===t&&s[2]===i&&s[3]===n){return o}};return-1},detachAllDOMEvents:function(){var e=this.events.pop();while(e){e[0].removeEventListener(e[1],e[2],e[3]);e=this.events.pop()}},enableCustomEvent:function(e){if(this.disabledEvents[e]!==undefined){delete this.disabledEvents[e]}},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e);if(!this.customEvents[e]){this.customEvents[e]=[]};this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var i=this.indexOfCustomListener(e,t);if(i!==-1){this.customEvents[e].splice(i,1)}},indexOfCustomListener:function(e,t){if(!this.customEvents[e]||!this.customEvents[e].length){return-1};return this.customEvents[e].indexOf(t)},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,i){if(this.customEvents[e]&&!this.disabledEvents[e]){this.customEvents[e].forEach(function(e){e(t,i)})}},destroy:function(){this.detachAllDOMEvents();this.detachAllCustomEvents();this.detachExecCommand();if(this.base.elements){this.base.elements.forEach(function(e){e.removeAttribute('data-medium-focused')})}},attachToExecCommand:function(){if(this.execCommandListener){return};this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this);this.wrapExecCommand();this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener)},detachExecCommand:function(){var e=this.options.ownerDocument;if(!this.execCommandListener||!e.execCommand.listeners){return};var t=e.execCommand.listeners.indexOf(this.execCommandListener);if(t!==-1){e.execCommand.listeners.splice(t,1)};if(!e.execCommand.listeners.length){this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(e.execCommand.listeners){return};var i=function(t,i){if(e.execCommand.listeners){e.execCommand.listeners.forEach(function(e){e({command:t[0],value:t[2],args:t,result:i})})}},t=function(){var t=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners){return t};var n=Array.prototype.slice.call(arguments);i(n,t);return t};t.orig=e.execCommand;t.listeners=[];t.callListeners=i;e.execCommand=t},unwrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.orig){return};e.execCommand=e.execCommand.orig},setupListener:function(e){if(this.listeners[e]){return};switch(e){case'externalInteraction':this.attachDOMEvent(this.options.ownerDocument.body,'mousedown',this.handleBodyMousedown.bind(this),!0);this.attachDOMEvent(this.options.ownerDocument.body,'click',this.handleBodyClick.bind(this),!0);this.attachDOMEvent(this.options.ownerDocument.body,'focus',this.handleBodyFocus.bind(this),!0);break;case'blur':this.setupListener('externalInteraction');break;case'focus':this.setupListener('externalInteraction');break;case'editableInput':this.contentCache=[];this.base.elements.forEach(function(e){this.contentCache[e.getAttribute('medium-editor-index')]=e.innerHTML;if(this.InputEventOnContenteditableSupported){this.attachDOMEvent(e,'input',this.handleInput.bind(this))}}.bind(this));if(!this.InputEventOnContenteditableSupported){this.setupListener('editableKeypress');this.keypressUpdateInput=!0;this.attachDOMEvent(document,'selectionchange',this.handleDocumentSelectionChange.bind(this));this.attachToExecCommand()};break;case'editableClick':this.attachToEachElement('click',this.handleClick);break;case'editableBlur':this.attachToEachElement('blur',this.handleBlur);break;case'editableKeypress':this.attachToEachElement('keypress',this.handleKeypress);break;case'editableKeyup':this.attachToEachElement('keyup',this.handleKeyup);break;case'editableKeydown':this.attachToEachElement('keydown',this.handleKeydown);break;case'editableKeydownSpace':this.setupListener('editableKeydown');break;case'editableKeydownEnter':this.setupListener('editableKeydown');break;case'editableKeydownTab':this.setupListener('editableKeydown');break;case'editableKeydownDelete':this.setupListener('editableKeydown');break;case'editableMouseover':this.attachToEachElement('mouseover',this.handleMouseover);break;case'editableDrag':this.attachToEachElement('dragover',this.handleDragging);this.attachToEachElement('dragleave',this.handleDragging);break;case'editableDrop':this.attachToEachElement('drop',this.handleDrop);break;case'editablePaste':this.attachToEachElement('paste',this.handlePaste);break};this.listeners[e]=!0},attachToEachElement:function(e,t){this.base.elements.forEach(function(i){this.attachDOMEvent(i,e,t.bind(this))},this)},focusElement:function(e){e.focus();this.updateFocus(e,{target:e,type:'focus'})},updateFocus:function(t,i){var a=this.base.getExtensionByName('toolbar'),l=a?a.getToolbarElement():null,s=this.base.getExtensionByName('anchor-preview'),c=(s&&s.getPreviewElement)?s.getPreviewElement():null,o=this.base.getFocusedElement(),n;if(o&&i.type==='click'&&this.lastMousedownTarget&&(e.util.isDescendant(o,this.lastMousedownTarget,!0)||e.util.isDescendant(l,this.lastMousedownTarget,!0)||e.util.isDescendant(c,this.lastMousedownTarget,!0))){n=o};if(!n){this.base.elements.some(function(i){if(!n&&(e.util.isDescendant(i,t,!0))){n=i};return!!n},this)};var r=!e.util.isDescendant(o,t,!0)&&!e.util.isDescendant(l,t,!0)&&!e.util.isDescendant(c,t,!0);if(n!==o){if(o&&r){o.removeAttribute('data-medium-focused');this.triggerCustomEvent('blur',i,o)};if(n){n.setAttribute('data-medium-focused',!0);this.triggerCustomEvent('focus',i,n)}};if(r){this.triggerCustomEvent('externalInteraction',i)}},updateInput:function(e,t){if(!this.contentCache){return};var i=e.getAttribute('medium-editor-index'),n=e.innerHTML;if(n!==this.contentCache[i]){this.triggerCustomEvent('editableInput',t,e)};this.contentCache[i]=n},handleDocumentSelectionChange:function(t){if(t.currentTarget&&t.currentTarget.activeElement){var n=t.currentTarget.activeElement,i;this.base.elements.some(function(t){if(e.util.isDescendant(t,n,!0)){i=t;return!0};return!1},this);if(i){this.updateInput(i,{target:n,currentTarget:i})}}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();if(e){this.updateInput(e,{target:e,currentTarget:e})}},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent('editableClick',e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent('editableBlur',e,e.currentTarget)},handleKeypress:function(e){this.triggerCustomEvent('editableKeypress',e,e.currentTarget);if(this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent('editableKeyup',e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent('editableMouseover',e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent('editableDrag',e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent('editableDrop',e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent('editablePaste',e,e.currentTarget)},handleKeydown:function(t){this.triggerCustomEvent('editableKeydown',t,t.currentTarget);if(e.util.isKey(t,e.util.keyCode.SPACE)){return this.triggerCustomEvent('editableKeydownSpace',t,t.currentTarget)};if(e.util.isKey(t,e.util.keyCode.ENTER)||(t.ctrlKey&&e.util.isKey(t,e.util.keyCode.M))){return this.triggerCustomEvent('editableKeydownEnter',t,t.currentTarget)};if(e.util.isKey(t,e.util.keyCode.TAB)){return this.triggerCustomEvent('editableKeydownTab',t,t.currentTarget)};if(e.util.isKey(t,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE])){return this.triggerCustomEvent('editableKeydownDelete',t,t.currentTarget)}}};e.Events=t}());(function(){'use strict';var t=e.Extension.extend({action:undefined,aria:undefined,tagNames:undefined,style:undefined,useQueryState:undefined,contentDefault:undefined,contentFA:undefined,classList:undefined,attrs:undefined,constructor:function(i){if(t.isBuiltInButton(i)){e.Extension.call(this,this.defaults[i])}
else{e.Extension.call(this,i)}},init:function(){e.Extension.prototype.init.apply(this,arguments);this.button=this.createButton();this.on(this.button,'click',this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return(typeof this.action==='function')?this.action(this.base.options):this.action},getAria:function(){return(typeof this.aria==='function')?this.aria(this.base.options):this.aria},getTagNames:function(){return(typeof this.tagNames==='function')?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement('button'),i=this.contentDefault,t=this.getAria(),n=this.getEditorOption('buttonLabels');e.classList.add('medium-editor-action');e.classList.add('medium-editor-action-'+this.name);if(this.classList){this.classList.forEach(function(t){e.classList.add(t)})};e.setAttribute('data-action',this.getAction());if(t){e.setAttribute('title',t);e.setAttribute('aria-label',t)};if(this.attrs){Object.keys(this.attrs).forEach(function(t){e.setAttribute(t,this.attrs[t])},this)};if(n==='fontawesome'&&this.contentFA){i=this.contentFA};e.innerHTML=i;return e},handleClick:function(e){e.preventDefault();e.stopPropagation();var t=this.getAction();if(t){this.execAction(t)}},isActive:function(){return this.button.classList.contains(this.getEditorOption('activeButtonClass'))},setInactive:function(){this.button.classList.remove(this.getEditorOption('activeButtonClass'));delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption('activeButtonClass'));delete this.knownState},queryCommandState:function(){var e=null;if(this.useQueryState){e=this.base.queryCommandState(this.getAction())};return e},isAlreadyApplied:function(e){var t=!1,i=this.getTagNames(),n,o;if(this.knownState===!1||this.knownState===!0){return this.knownState};if(i&&i.length>0){t=i.indexOf(e.nodeName.toLowerCase())!==-1};if(!t&&this.style){n=this.style.value.split('|');o=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop);n.forEach(function(e){if(!this.knownState){t=(o.indexOf(e)!==-1);if(t||this.style.prop!=='text-decoration'){this.knownState=t}}},this)};return t}});t.isBuiltInButton=function(t){return(typeof t==='string')&&e.extensions.button.prototype.defaults.hasOwnProperty(t)};e.extensions.button=t}());(function(){'use strict';e.extensions.button.prototype.defaults={'bold':{name:'bold',action:'bold',aria:'bold',tagNames:['b','strong'],style:{prop:'font-weight',value:'700|bold'},useQueryState:!0,contentDefault:'<b>B</b>',contentFA:'<i class="fa fa-bold"></i>'},'italic':{name:'italic',action:'italic',aria:'italic',tagNames:['i','em'],style:{prop:'font-style',value:'italic'},useQueryState:!0,contentDefault:'<b><i>I</i></b>',contentFA:'<i class="fa fa-italic"></i>'},'underline':{name:'underline',action:'underline',aria:'underline',tagNames:['u'],style:{prop:'text-decoration',value:'underline'},useQueryState:!0,contentDefault:'<b><u>U</u></b>',contentFA:'<i class="fa fa-underline"></i>'},'strikethrough':{name:'strikethrough',action:'strikethrough',aria:'strike through',tagNames:['strike'],style:{prop:'text-decoration',value:'line-through'},useQueryState:!0,contentDefault:'<s>A</s>',contentFA:'<i class="fa fa-strikethrough"></i>'},'superscript':{name:'superscript',action:'superscript',aria:'superscript',tagNames:['sup'],contentDefault:'<b>x<sup>1</sup></b>',contentFA:'<i class="fa fa-superscript"></i>'},'subscript':{name:'subscript',action:'subscript',aria:'subscript',tagNames:['sub'],contentDefault:'<b>x<sub>1</sub></b>',contentFA:'<i class="fa fa-subscript"></i>'},'image':{name:'image',action:'image',aria:'image',tagNames:['img'],contentDefault:'<b>image</b>',contentFA:'<i class="fa fa-picture-o"></i>'},'orderedlist':{name:'orderedlist',action:'insertorderedlist',aria:'ordered list',tagNames:['ol'],useQueryState:!0,contentDefault:'<b>1.</b>',contentFA:'<i class="fa fa-list-ol"></i>'},'unorderedlist':{name:'unorderedlist',action:'insertunorderedlist',aria:'unordered list',tagNames:['ul'],useQueryState:!0,contentDefault:'<b>&bull;</b>',contentFA:'<i class="fa fa-list-ul"></i>'},'indent':{name:'indent',action:'indent',aria:'indent',tagNames:[],contentDefault:'<b>&rarr;</b>',contentFA:'<i class="fa fa-indent"></i>'},'outdent':{name:'outdent',action:'outdent',aria:'outdent',tagNames:[],contentDefault:'<b>&larr;</b>',contentFA:'<i class="fa fa-outdent"></i>'},'justifyCenter':{name:'justifyCenter',action:'justifyCenter',aria:'center justify',tagNames:[],style:{prop:'text-align',value:'center'},contentDefault:'<b>C</b>',contentFA:'<i class="fa fa-align-center"></i>'},'justifyFull':{name:'justifyFull',action:'justifyFull',aria:'full justify',tagNames:[],style:{prop:'text-align',value:'justify'},contentDefault:'<b>J</b>',contentFA:'<i class="fa fa-align-justify"></i>'},'justifyLeft':{name:'justifyLeft',action:'justifyLeft',aria:'left justify',tagNames:[],style:{prop:'text-align',value:'left'},contentDefault:'<b>L</b>',contentFA:'<i class="fa fa-align-left"></i>'},'justifyRight':{name:'justifyRight',action:'justifyRight',aria:'right justify',tagNames:[],style:{prop:'text-align',value:'right'},contentDefault:'<b>R</b>',contentFA:'<i class="fa fa-align-right"></i>'},'removeFormat':{name:'removeFormat',aria:'remove formatting',action:'removeFormat',contentDefault:'<b>X</b>',contentFA:'<i class="fa fa-eraser"></i>'},'quote':{name:'quote',action:'append-blockquote',aria:'blockquote',tagNames:['blockquote'],contentDefault:'<b>&ldquo;</b>',contentFA:'<i class="fa fa-quote-right"></i>'},'pre':{name:'pre',action:'append-pre',aria:'preformatted text',tagNames:['pre'],contentDefault:'<b>0101</b>',contentFA:'<i class="fa fa-code fa-lg"></i>'},'h1':{name:'h1',action:'append-h1',aria:'header type one',tagNames:['h1'],contentDefault:'<b>H1</b>',contentFA:'<i class="fa fa-header"><sup>1</sup>'},'h2':{name:'h2',action:'append-h2',aria:'header type two',tagNames:['h2'],contentDefault:'<b>H2</b>',contentFA:'<i class="fa fa-header"><sup>2</sup>'},'h3':{name:'h3',action:'append-h3',aria:'header type three',tagNames:['h3'],contentDefault:'<b>H3</b>',contentFA:'<i class="fa fa-header"><sup>3</sup>'},'h4':{name:'h4',action:'append-h4',aria:'header type four',tagNames:['h4'],contentDefault:'<b>H4</b>',contentFA:'<i class="fa fa-header"><sup>4</sup>'},'h5':{name:'h5',action:'append-h5',aria:'header type five',tagNames:['h5'],contentDefault:'<b>H5</b>',contentFA:'<i class="fa fa-header"><sup>5</sup>'},'h6':{name:'h6',action:'append-h6',aria:'header type six',tagNames:['h6'],contentDefault:'<b>H6</b>',contentFA:'<i class="fa fa-header"><sup>6</sup>'}}})();(function(){'use strict';var t=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:'&#10003;',formCloseLabel:'&times;',activeClass:'medium-editor-toolbar-form-active',hasForm:!0,getForm:function(){},isDisplayed:function(){if(this.hasForm){return this.getForm().classList.contains(this.activeClass)};return!1},showForm:function(){if(this.hasForm){this.getForm().classList.add(this.activeClass)}},hideForm:function(){if(this.hasForm){this.getForm().classList.remove(this.activeClass)}},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName('toolbar');if(e){e.showToolbarDefaultActions()}},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName('toolbar');if(e){e.hideToolbarDefaultActions()}},setToolbarPosition:function(){var e=this.base.getExtensionByName('toolbar');if(e){e.setToolbarPosition()}}});e.extensions.form=t})();(function(){'use strict';var t=e.extensions.form.extend({customClassOption:null,customClassOptionText:'Button',linkValidation:!1,placeholderText:'Paste or type a link',targetCheckbox:!1,targetCheckboxText:'Open in new window',name:'anchor',action:'createLink',aria:'link',tagNames:['a'],contentDefault:'<b>#</b>',contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments);this.subscribe('editableKeydown',this.handleKeydown.bind(this))},handleClick:function(t){t.preventDefault();t.stopPropagation();var i=e.selection.getSelectionRange(this.document);if(i.startContainer.nodeName.toLowerCase()==='a'||i.endContainer.nodeName.toLowerCase()==='a'||e.util.getClosestTag(e.selection.getSelectedParentElement(i),'a')){return this.execAction('unlink')};if(!this.isDisplayed()){this.showForm()};return!1},handleKeydown:function(t){if(e.util.isKey(t,e.util.keyCode.K)&&e.util.isMetaCtrlKey(t)&&!t.shiftKey){this.handleClick(t)}},getForm:function(){if(!this.form){this.form=this.createForm()};return this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];e.push('<a href="#" class="medium-editor-toolbar-save">',this.getEditorOption('buttonLabels')==='fontawesome'?'<i class="fa fa-check"></i>':this.formSaveLabel,'</a>');e.push('<a href="#" class="medium-editor-toolbar-close">',this.getEditorOption('buttonLabels')==='fontawesome'?'<i class="fa fa-times"></i>':this.formCloseLabel,'</a>');if(this.targetCheckbox){e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">','<label>',this.targetCheckboxText,'</label>','</div>')};if(this.customClassOption){e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">','<label>',this.customClassOptionText,'</label>','</div>')};return e.join('')},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this);this.getInput().value=''},showForm:function(t){var i=this.getInput(),n=this.getAnchorTargetCheckbox(),o=this.getAnchorButtonCheckbox();t=t||{url:''};if(typeof t==='string'){t={url:t}};this.base.saveSelection();this.hideToolbarDefaultActions();e.extensions.form.prototype.showForm.apply(this);this.setToolbarPosition();i.value=t.url;i.focus();if(n){n.checked=t.target==='_blank'};if(o){var s=t.buttonClass?t.buttonClass.split(' '):[];o.checked=(s.indexOf(this.customClassOption)!==-1)}},destroy:function(){if(!this.form){return!1};if(this.form.parentNode){this.form.parentNode.removeChild(this.form)};delete this.form},getFormOpts:function(){var t=this.getAnchorTargetCheckbox(),i=this.getAnchorButtonCheckbox(),e={url:this.getInput().value.trim()};if(this.linkValidation){e.url=this.checkLinkFormat(e.url)};e.target='_self';if(t&&t.checked){e.target='_blank'};if(i&&i.checked){e.buttonClass=this.customClassOption};return e},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection();this.execAction(this.action,e);this.base.checkSelection()},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i,i=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/;if(i.test(e)){return'tel:'+e}
else{return(t.test(e)?'':'http://')+encodeURI(e)}},doFormCancel:function(){this.base.restoreSelection();this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector('.medium-editor-toolbar-close'),i=e.querySelector('.medium-editor-toolbar-save'),n=e.querySelector('.medium-editor-toolbar-input');this.on(e,'click',this.handleFormClick.bind(this));this.on(n,'keyup',this.handleTextboxKeyup.bind(this));this.on(t,'click',this.handleCloseClick.bind(this));this.on(i,'click',this.handleSaveClick.bind(this),!0)},createForm:function(){var t=this.document,e=t.createElement('div');e.className='medium-editor-toolbar-form';e.id='medium-editor-toolbar-form-anchor-'+this.getEditorId();e.innerHTML=this.getTemplate();this.attachFormEvents(e);return e},getInput:function(){return this.getForm().querySelector('input.medium-editor-toolbar-input')},getAnchorTargetCheckbox:function(){return this.getForm().querySelector('.medium-editor-toolbar-anchor-target')},getAnchorButtonCheckbox:function(){return this.getForm().querySelector('.medium-editor-toolbar-anchor-button')},handleTextboxKeyup:function(t){if(t.keyCode===e.util.keyCode.ENTER){t.preventDefault();this.doFormSave();return};if(t.keyCode===e.util.keyCode.ESCAPE){t.preventDefault();this.doFormCancel()}},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault();this.doFormSave()},handleCloseClick:function(e){e.preventDefault();this.doFormCancel()}});e.extensions.anchor=t}());(function(){'use strict';var t=e.Extension.extend({name:'anchor-preview',hideDelay:500,previewValueSelector:'a',showWhenToolbarIsVisible:!1,init:function(){this.anchorPreview=this.createPreview();this.getEditorOption('elementsContainer').appendChild(this.anchorPreview);this.attachToEditables()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement('div');e.id='medium-editor-anchor-preview-'+this.getEditorId();e.className='medium-editor-anchor-preview';e.innerHTML=this.getTemplate();this.on(e,'click',this.handleClick.bind(this));return e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){if(this.anchorPreview){if(this.anchorPreview.parentNode){this.anchorPreview.parentNode.removeChild(this.anchorPreview)};delete this.anchorPreview}},hidePreview:function(){this.anchorPreview.classList.remove('medium-editor-anchor-preview-active');this.activeAnchor=null},showPreview:function(e){if(this.anchorPreview.classList.contains('medium-editor-anchor-preview-active')||e.getAttribute('data-disable-preview')){return!0};if(this.previewValueSelector){this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value;this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value};this.anchorPreview.classList.add('medium-toolbar-arrow-over');this.anchorPreview.classList.remove('medium-toolbar-arrow-under');if(!this.anchorPreview.classList.contains('medium-editor-anchor-preview-active')){this.anchorPreview.classList.add('medium-editor-anchor-preview-active')};this.activeAnchor=e;this.positionPreview();this.attachPreviewHandlers();return this},positionPreview:function(e){e=e||this.activeAnchor;var l=this.anchorPreview.offsetHeight,n=e.getBoundingClientRect(),o=(n.left+n.right)/2,r=this.diffLeft,a=this.diffTop,t,s;t=this.anchorPreview.offsetWidth/2;var i=this.base.getExtensionByName('toolbar');if(i){r=i.diffLeft;a=i.diffTop};s=r-t;this.anchorPreview.style.top=Math.round(l+n.bottom-a+this.window.pageYOffset-this.anchorPreview.offsetHeight)+'px';this.anchorPreview.style.right='initial';if(o<t){this.anchorPreview.style.left=s+t+'px';this.anchorPreview.style.right='initial'}
else if((this.window.innerWidth-o)<t){this.anchorPreview.style.left='auto';this.anchorPreview.style.right=0}
else{this.anchorPreview.style.left=s+o+'px';this.anchorPreview.style.right='initial'}},attachToEditables:function(){this.subscribe('editableMouseover',this.handleEditableMouseover.bind(this));this.subscribe('positionedToolbar',this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){if(!this.showWhenToolbarIsVisible){this.hidePreview()}},handleClick:function(e){var i=this.base.getExtensionByName('anchor'),t=this.activeAnchor;if(i&&t){e.preventDefault();this.base.selectElement(this.activeAnchor);this.base.delay(function(){if(t){var e={url:t.attributes.href.value,target:t.getAttribute('target'),buttonClass:t.getAttribute('class')};i.showForm(e);t=null}}.bind(this))};this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null;this.off(this.activeAnchor,'mouseout',this.instanceHandleAnchorMouseout);this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(t){var i=e.util.getClosestTag(t.target,'a');if(!1===i){return};if(!/href=["']\S+["']/.test(i.outerHTML)||/href=["']#\S+["']/.test(i.outerHTML)){return!0};var n=this.base.getExtensionByName('toolbar');if(!this.showWhenToolbarIsVisible&&n&&n.isDisplayed&&n.isDisplayed()){return!0};if(this.activeAnchor&&this.activeAnchor!==i){this.detachPreviewHandlers()};this.anchorToPreview=i;this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this);this.on(this.anchorToPreview,'mouseout',this.instanceHandleAnchorMouseout);this.base.delay(function(){if(this.anchorToPreview){this.showPreview(this.anchorToPreview)}}.bind(this))},handlePreviewMouseover:function(){this.lastOver=(new Date()).getTime();this.hovering=!0},handlePreviewMouseout:function(e){if(!e.relatedTarget||!/anchor-preview/.test(e.relatedTarget.className)){this.hovering=!1}},updatePreview:function(){if(this.hovering){return!0};var e=(new Date()).getTime()-this.lastOver;if(e>this.hideDelay){this.detachPreviewHandlers()}},detachPreviewHandlers:function(){clearInterval(this.intervalTimer);if(this.instanceHandlePreviewMouseover){this.off(this.anchorPreview,'mouseover',this.instanceHandlePreviewMouseover);this.off(this.anchorPreview,'mouseout',this.instanceHandlePreviewMouseout);if(this.activeAnchor){this.off(this.activeAnchor,'mouseover',this.instanceHandlePreviewMouseover);this.off(this.activeAnchor,'mouseout',this.instanceHandlePreviewMouseout)}};this.hidePreview();this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date()).getTime();this.hovering=!0;this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this);this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this);this.intervalTimer=setInterval(this.updatePreview.bind(this),200);this.on(this.anchorPreview,'mouseover',this.instanceHandlePreviewMouseover);this.on(this.anchorPreview,'mouseout',this.instanceHandlePreviewMouseout);this.on(this.activeAnchor,'mouseover',this.instanceHandlePreviewMouseover);this.on(this.activeAnchor,'mouseout',this.instanceHandlePreviewMouseout)}});e.extensions.anchorPreview=t}());(function(){'use strict';var i,t,n,o;i=[' ','\t','\n','\r','\u00A0','\u2000','\u2001','\u2002','\u2003','\u2028','\u2029'];t='com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw';n='(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]('+t+')\\\/)\\S+(?:[^\\s`!\\[\\]{};:\'".,?\u00AB\u00BB\u201C\u201D\u2018\u2019])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.('+t+'))';o=new RegExp('^('+t+')$','i');function r(t){return!e.util.getClosestTag(t,'a')};var s=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments);this.disableEventHandling=!1;this.subscribe('editableKeypress',this.onKeypress.bind(this));this.subscribe('editableBlur',this.onBlur.bind(this));this.document.execCommand('AutoUrlDetect',!1,!1)},isLastInstance:function(){var i=0;for(var e=0;e<this.window._mediumEditors.length;e++){var t=this.window._mediumEditors[e];if(t!==null&&t.getExtensionByName('autoLink')!==undefined){i++}};return i===1},destroy:function(){if(this.document.queryCommandSupported('AutoUrlDetect')&&this.isLastInstance()){this.document.execCommand('AutoUrlDetect',!1,!0)}},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(t){if(this.disableEventHandling){return};if(e.util.isKey(t,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])){clearTimeout(this.performLinkingTimeout);this.performLinkingTimeout=setTimeout(function(){try{var i=this.base.exportSelection();if(this.performLinking(t.target)){this.base.importSelection(i,!0)}}catch(e){if(window.console){window.console.error('Failed to perform linking',e)};this.disableEventHandling=!0}}.bind(this),0)}},performLinking:function(t){var i=e.util.splitByBlockElements(t),n=!1;if(i.length===0){i=[t]};for(var o=0;o<i.length;o++){n=this.removeObsoleteAutoLinkSpans(i[o])||n;n=this.performLinkingWithinElement(i[o])||n};this.base.events.updateInput(t,{target:t,currentTarget:t});return n},removeObsoleteAutoLinkSpans:function(t){if(!t||t.nodeType===3){return!1};var n=t.querySelectorAll('span[data-auto-link="true"]'),a=!1;for(var i=0;i<n.length;i++){var o=n[i].textContent;if(o.indexOf('://')===-1){o=e.util.ensureUrlHasProtocol(o)};if(n[i].getAttribute('data-href')!==o&&r(n[i])){a=!0;var s=o.replace(/\s+$/,'');if(n[i].getAttribute('data-href')===s){var l=o.length-s.length,c=e.util.splitOffDOMTree(n[i],this.splitTextBeforeEnd(n[i],l));n[i].parentNode.insertBefore(c,n[i].nextSibling)}
else{e.util.unwrap(n[i],this.document)}}};return a},splitTextBeforeEnd:function(e,t){var s=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r=!0;while(r){r=s.lastChild()!==null};var o,i,n;while(t>0&&n!==null){o=s.currentNode;i=o.nodeValue;if(i.length>t){n=o.splitText(i.length-t);t=0}
else{n=s.previousNode();t-=i.length}};return n},performLinkingWithinElement:function(t){var n=this.findLinkableText(t),s=!1;for(var i=0;i<n.length;i++){var o=e.util.findOrCreateMatchingTextNodes(this.document,t,n[i]);if(this.shouldNotLink(o)){continue};this.createAutoLink(o,n[i].href)};return s},shouldNotLink:function(t){var n=!1;for(var i=0;i<t.length&&n===!1;i++){n=!!e.util.traverseUp(t[i],function(e){return e.nodeName.toLowerCase()==='a'||(e.getAttribute&&e.getAttribute('data-auto-link')==='true')})};return n},findLinkableText:function(e){var c=new RegExp(n,'gi'),r=e.textContent,t=null,l=[];while((t=c.exec(r))!==null){var s=!0,a=t.index+t[0].length;s=(t.index===0||i.indexOf(r[t.index-1])!==-1)&&(a===r.length||i.indexOf(r[a])!==-1);s=s&&(t[0].indexOf('/')!==-1||o.test(t[0].split('.').pop().split('?').shift()));if(s){l.push({href:t[0],start:t.index,end:a})}};return l},createAutoLink:function(t,i){i=e.util.ensureUrlHasProtocol(i);var n=e.util.createLink(this.document,t,i,this.getEditorOption('targetBlank')?'_blank':null),o=this.document.createElement('span');o.setAttribute('data-auto-link','true');o.setAttribute('data-href',i);n.insertBefore(o,n.firstChild);while(n.childNodes.length>1){o.appendChild(n.childNodes[1])}}});e.extensions.autoLink=s}());(function(){'use strict';var t='medium-editor-dragover';function i(i){var n=e.util.getContainerEditorElement(i),o=Array.prototype.slice.call(n.parentElement.querySelectorAll('.'+t));o.forEach(function(e){e.classList.remove(t)})};var n=e.Extension.extend({name:'fileDragging',allowedTypes:['image'],init:function(){e.Extension.prototype.init.apply(this,arguments);this.subscribe('editableDrag',this.handleDrag.bind(this));this.subscribe('editableDrop',this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault();e.dataTransfer.dropEffect='copy';var n=e.target.classList?e.target:e.target.parentElement;i(n);if(e.type==='dragover'){n.classList.add(t)}},handleDrop:function(e){e.preventDefault();e.stopPropagation();this.base.selectElement(e.target);var t=this.base.exportSelection();t.start=t.end;this.base.importSelection(t);if(e.dataTransfer.files){Array.prototype.slice.call(e.dataTransfer.files).forEach(function(e){if(this.isAllowedFile(e)){if(e.type.match('image')){this.insertImageFile(e)}}},this)};i(e.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(t){if(typeof FileReader!=='function'){return};var i=new FileReader();i.readAsDataURL(t);i.addEventListener('load',function(t){var i=this.document.createElement('img');i.src=t.target.result;e.util.insertHTMLCommand(this.document,i.outerHTML)}.bind(this))}});e.extensions.fileDragging=n}());(function(){'use strict';var t=e.Extension.extend({name:'keyboard-commands',commands:[{command:'bold',key:'B',meta:!0,shift:!1,alt:!1},{command:'italic',key:'I',meta:!0,shift:!1,alt:!1},{command:'underline',key:'U',meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments);this.subscribe('editableKeydown',this.handleKeydown.bind(this));this.keys={};this.commands.forEach(function(e){var t=e.key.charCodeAt(0);if(!this.keys[t]){this.keys[t]=[]};this.keys[t].push(e)},this)},handleKeydown:function(t){var i=e.util.getKeyCode(t);if(!this.keys[i]){return};var n=e.util.isMetaCtrlKey(t),o=!!t.shiftKey,s=!!t.altKey;this.keys[i].forEach(function(e){if(e.meta===n&&e.shift===o&&(e.alt===s||undefined===e.alt)){t.preventDefault();t.stopPropagation();if(typeof e.command==='function'){e.command.apply(this)}
else if(!1!==e.command){this.execAction(e.command)}}},this)}});e.extensions.keyboardCommands=t}());(function(){'use strict';var t=e.extensions.form.extend({name:'fontname',action:'fontName',aria:'change font name',contentDefault:'&#xB1;',contentFA:'<i class="fa fa-font"></i>',fonts:['','Arial','Verdana','Times New Roman'],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){e.preventDefault();e.stopPropagation();if(!this.isDisplayed()){var t=this.document.queryCommandValue('fontName')+'';this.showForm(t)};return!1},getForm:function(){if(!this.form){this.form=this.createForm()};return this.form},isDisplayed:function(){return this.getForm().style.display==='block'},hideForm:function(){this.getForm().style.display='none';this.getSelect().value=''},showForm:function(e){var t=this.getSelect();this.base.saveSelection();this.hideToolbarDefaultActions();this.getForm().style.display='block';this.setToolbarPosition();t.value=e||'';t.focus()},destroy:function(){if(!this.form){return!1};if(this.form.parentNode){this.form.parentNode.removeChild(this.form)};delete this.form},doFormSave:function(){this.base.restoreSelection();this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection();this.clearFontName();this.base.checkSelection()},createForm:function(){var t=this.document,e=t.createElement('div'),s=t.createElement('select'),i=t.createElement('a'),n=t.createElement('a'),r;e.className='medium-editor-toolbar-form';e.id='medium-editor-toolbar-form-fontname-'+this.getEditorId();this.on(e,'click',this.handleFormClick.bind(this));for(var o=0;o<this.fonts.length;o++){r=t.createElement('option');r.innerHTML=this.fonts[o];r.value=this.fonts[o];s.appendChild(r)};s.className='medium-editor-toolbar-select';e.appendChild(s);this.on(s,'change',this.handleFontChange.bind(this));n.setAttribute('href','#');n.className='medium-editor-toobar-save';n.innerHTML=this.getEditorOption('buttonLabels')==='fontawesome'?'<i class="fa fa-check"></i>':'&#10003;';e.appendChild(n);this.on(n,'click',this.handleSaveClick.bind(this),!0);i.setAttribute('href','#');i.className='medium-editor-toobar-close';i.innerHTML=this.getEditorOption('buttonLabels')==='fontawesome'?'<i class="fa fa-times"></i>':'&times;';e.appendChild(i);this.on(i,'click',this.handleCloseClick.bind(this));return e},getSelect:function(){return this.getForm().querySelector('select.medium-editor-toolbar-select')},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach(function(e){if(e.nodeName.toLowerCase()==='font'&&e.hasAttribute('face')){e.removeAttribute('face')}})},handleFontChange:function(){var e=this.getSelect().value;if(e===''){this.clearFontName()}
else{this.execAction('fontName',{name:e})}},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault();this.doFormSave()},handleCloseClick:function(e){e.preventDefault();this.doFormCancel()}});e.extensions.fontName=t}());(function(){'use strict';var t=e.extensions.form.extend({name:'fontsize',action:'fontSize',aria:'increase/decrease font size',contentDefault:'&#xB1;',contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){e.preventDefault();e.stopPropagation();if(!this.isDisplayed()){var t=this.document.queryCommandValue('fontSize')+'';this.showForm(t)};return!1},getForm:function(){if(!this.form){this.form=this.createForm()};return this.form},isDisplayed:function(){return this.getForm().style.display==='block'},hideForm:function(){this.getForm().style.display='none';this.getInput().value=''},showForm:function(e){var t=this.getInput();this.base.saveSelection();this.hideToolbarDefaultActions();this.getForm().style.display='block';this.setToolbarPosition();t.value=e||'';t.focus()},destroy:function(){if(!this.form){return!1};if(this.form.parentNode){this.form.parentNode.removeChild(this.form)};delete this.form},doFormSave:function(){this.base.restoreSelection();this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection();this.clearFontSize();this.base.checkSelection()},createForm:function(){var o=this.document,e=o.createElement('div'),t=o.createElement('input'),i=o.createElement('a'),n=o.createElement('a');e.className='medium-editor-toolbar-form';e.id='medium-editor-toolbar-form-fontsize-'+this.getEditorId();this.on(e,'click',this.handleFormClick.bind(this));t.setAttribute('type','range');t.setAttribute('min','1');t.setAttribute('max','7');t.className='medium-editor-toolbar-input';e.appendChild(t);this.on(t,'change',this.handleSliderChange.bind(this));n.setAttribute('href','#');n.className='medium-editor-toobar-save';n.innerHTML=this.getEditorOption('buttonLabels')==='fontawesome'?'<i class="fa fa-check"></i>':'&#10003;';e.appendChild(n);this.on(n,'click',this.handleSaveClick.bind(this),!0);i.setAttribute('href','#');i.className='medium-editor-toobar-close';i.innerHTML=this.getEditorOption('buttonLabels')==='fontawesome'?'<i class="fa fa-times"></i>':'&times;';e.appendChild(i);this.on(i,'click',this.handleCloseClick.bind(this));return e},getInput:function(){return this.getForm().querySelector('input.medium-editor-toolbar-input')},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach(function(e){if(e.nodeName.toLowerCase()==='font'&&e.hasAttribute('size')){e.removeAttribute('size')}})},handleSliderChange:function(){var e=this.getInput().value;if(e==='4'){this.clearFontSize()}
else{this.execAction('fontSize',{size:e})}},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault();this.doFormSave()},handleCloseClick:function(e){e.preventDefault();this.doFormCancel()}});e.extensions.fontSize=t}());(function(){'use strict';function i(){return[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),''],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),''],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g),' '],[new RegExp(/<br class="Apple-interchange-newline">/g),'<br>'],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),'<$1$2>'],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"||)(((?!&quot;|&rdquo;|&ldquo;|"||).)*)(?:&quot;|&rdquo;|&ldquo;|"||)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),'</p>'],[new RegExp(/\n+<p/gi),'<p'],[new RegExp(/<\/?o:[a-z]*>/gi),''],['<!--EndFragment-->',''],['<!--StartFragment-->','']]};var t=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:['class','style','dir'],cleanTags:['meta'],init:function(){e.Extension.prototype.init.apply(this,arguments);if(this.forcePlainText||this.cleanPastedHTML){this.subscribe('editablePaste',this.handlePaste.bind(this))}},handlePaste:function(t,i){var n,s='',o,l='text/html',c='text/plain',r,a;if(this.window.clipboardData&&t.clipboardData===undefined){t.clipboardData=this.window.clipboardData;l='Text';c='Text'};if(t.clipboardData&&t.clipboardData.getData&&!t.defaultPrevented){t.preventDefault();r=t.clipboardData.getData(l);a=t.clipboardData.getData(c);if(this.cleanPastedHTML&&r){return this.cleanPaste(r)};if(!(this.getEditorOption('disableReturn')||i.getAttribute('data-disable-return'))){n=a.split(/[\r\n]+/g);if(n.length>1){for(o=0;o<n.length;o+=1){if(n[o]!==''){s+='<p>'+e.util.htmlEntities(n[o])+'</p>'}}}
else{s=e.util.htmlEntities(n[0])}}
else{s=e.util.htmlEntities(a)};e.util.insertHTMLCommand(this.document,s)}},cleanPaste:function(e){var t,s,o,n,a=/<p|<br|<div/.test(e),r=[].concat(this.preCleanReplacements||[],i(),this.cleanReplacements||[]);for(t=0;t<r.length;t+=1){e=e.replace(r[t][0],r[t][1])};if(!a){return this.pasteHTML(e)};o=this.document.createElement('div');o.innerHTML='<p>'+e.split('<br><br>').join('</p><p>')+'</p>';s=o.querySelectorAll('a,p,div,br');for(t=0;t<s.length;t+=1){n=s[t];n.innerHTML=n.innerHTML.replace(/\n/gi,' ');switch(n.nodeName.toLowerCase()){case'p':case'div':this.filterCommonBlocks(n);break;case'br':this.filterLineBreak(n);break}};this.pasteHTML(o.innerHTML)},pasteHTML:function(t,i){i=e.util.defaults({},i,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var r,n,s,o,a=this.document.createDocumentFragment();a.appendChild(this.document.createElement('body'));o=a.querySelector('body');o.innerHTML=t;this.cleanupSpans(o);r=o.querySelectorAll('*');for(s=0;s<r.length;s+=1){n=r[s];if('a'===n.nodeName.toLowerCase()&&this.getEditorOption('targetBlank')){e.util.setTargetBlank(n)};e.util.cleanupAttrs(n,i.cleanAttrs);e.util.cleanupTags(n,i.cleanTags)};e.util.insertHTMLCommand(this.document,o.innerHTML.replace(/&nbsp;/g,' '))},isCommonBlock:function(e){return(e&&(e.nodeName.toLowerCase()==='p'||e.nodeName.toLowerCase()==='div'))},filterCommonBlocks:function(e){if(/^\s*$/.test(e.textContent)&&e.parentNode){e.parentNode.removeChild(e)}},filterLineBreak:function(e){if(this.isCommonBlock(e.previousElementSibling)){this.removeWithParent(e)}
else if(this.isCommonBlock(e.parentNode)&&(e.parentNode.firstChild===e||e.parentNode.lastChild===e)){this.removeWithParent(e)}
else if(e.parentNode&&e.parentNode.childElementCount===1&&e.parentNode.textContent===''){this.removeWithParent(e)}},removeWithParent:function(e){if(e&&e.parentNode){if(e.parentNode.parentNode&&e.parentNode.childElementCount===1){e.parentNode.parentNode.removeChild(e.parentNode)}
else{e.parentNode.removeChild(e)}}},cleanupSpans:function(t){var n,i,s,o=t.querySelectorAll('.replace-with'),r=function(e){return(e&&e.nodeName!=='#text'&&e.getAttribute('contenteditable')==='false')};for(n=0;n<o.length;n+=1){i=o[n];s=this.document.createElement(i.classList.contains('bold')?'b':'i');if(i.classList.contains('bold')&&i.classList.contains('italic')){s.innerHTML='<i>'+i.innerHTML+'</i>'}
else{s.innerHTML=i.innerHTML};i.parentNode.replaceChild(s,i)};o=t.querySelectorAll('span');for(n=0;n<o.length;n+=1){i=o[n];if(e.util.traverseUp(i,r)){return!1};e.util.unwrap(i,this.document)}}});e.extensions.paste=t}());(function(){'use strict';var t=e.Extension.extend({name:'placeholder',text:'Type your text',hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments);this.initPlaceholders();this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(e){if(!e.getAttribute('data-placeholder')){e.setAttribute('data-placeholder',this.text)};this.updatePlaceholder(e)},this)},destroy:function(){this.getEditorElements().forEach(function(e){if(e.getAttribute('data-placeholder')===this.text){e.removeAttribute('data-placeholder')}},this)},showPlaceholder:function(e){if(e){e.classList.add('medium-editor-placeholder')}},hidePlaceholder:function(e){if(e){e.classList.remove('medium-editor-placeholder')}},updatePlaceholder:function(e,t){if(e.querySelector('img, blockquote, ul, ol')||(e.textContent.replace(/^\s+|\s+$/g,'')!=='')){return this.hidePlaceholder(e)};if(!t){this.showPlaceholder(e)}},attachEventHandlers:function(){if(this.hideOnClick){this.subscribe('focus',this.handleFocus.bind(this))};this.subscribe('editableInput',this.handleInput.bind(this));this.subscribe('blur',this.handleBlur.bind(this))},handleInput:function(e,t){var i=this.hideOnClick&&(t===this.base.getFocusedElement());this.updatePlaceholder(t,i)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}});e.extensions.placeholder=t}());(function(){'use strict';var t=e.Extension.extend({name:'toolbar',align:'center',allowMultiParagraphSelection:!0,buttons:['bold','italic','underline','anchor','h2','h3','quote'],diffLeft:0,diffTop:-10,firstButtonClass:'medium-editor-button-first',lastButtonClass:'medium-editor-button-last',standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments);this.initThrottledMethods();if(!this.relativeContainer){this.getEditorOption('elementsContainer').appendChild(this.getToolbarElement())}
else{this.relativeContainer.appendChild(this.getToolbarElement())}},forEachExtension:function(e,t){return this.base.extensions.forEach(function(i){if(i===this){return};return e.apply(t||this,arguments)},this)},createToolbar:function(){var e=this.document.createElement('div');e.id='medium-editor-toolbar-'+this.getEditorId();e.className='medium-editor-toolbar';if(this.static){e.className+=' static-toolbar'}
else if(this.relativeContainer){e.className+=' medium-editor-relative-toolbar'}
else{e.className+=' medium-editor-stalker-toolbar'};e.appendChild(this.createToolbarButtons());this.forEachExtension(function(t){if(t.hasForm){e.appendChild(t.getForm())}});this.attachEventHandlers();return e},createToolbarButtons:function(){var t=this.document.createElement('ul'),n,o,i,s,r,a;t.id='medium-editor-toolbar-actions'+this.getEditorId();t.className='medium-editor-toolbar-actions';t.style.display='block';this.buttons.forEach(function(i){if(typeof i==='string'){r=i;a=null}
else{r=i.name;a=i};s=this.base.addBuiltInExtension(r,a);if(s&&typeof s.getButton==='function'){o=s.getButton(this.base);n=this.document.createElement('li');if(e.util.isElement(o)){n.appendChild(o)}
else{n.innerHTML=o};t.appendChild(n)}},this);i=t.querySelectorAll('button');if(i.length>0){i[0].classList.add(this.firstButtonClass);i[i.length-1].classList.add(this.lastButtonClass)};return t},destroy:function(){if(this.toolbar){if(this.toolbar.parentNode){this.toolbar.parentNode.removeChild(this.toolbar)};delete this.toolbar}},getToolbarElement:function(){if(!this.toolbar){this.toolbar=this.createToolbar()};return this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector('.medium-editor-toolbar-actions')},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle(function(){if(this.base.isActive){this.positionToolbarIfShown()}}.bind(this))},attachEventHandlers:function(){this.subscribe('blur',this.handleBlur.bind(this));this.subscribe('focus',this.handleFocus.bind(this));this.subscribe('editableClick',this.handleEditableClick.bind(this));this.subscribe('editableKeyup',this.handleEditableKeyup.bind(this));this.on(this.document.documentElement,'mouseup',this.handleDocumentMouseup.bind(this));if(this.static&&this.sticky){this.on(this.window,'scroll',this.handleWindowScroll.bind(this),!0)};this.on(this.window,'resize',this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(t){if(t&&t.target&&e.util.isDescendant(this.getToolbarElement(),t.target)){return!1};this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout);clearTimeout(this.delayShowTimeout);this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains('medium-editor-toolbar-active')},showToolbar:function(){clearTimeout(this.hideTimeout);if(!this.isDisplayed()){this.getToolbarElement().classList.add('medium-editor-toolbar-active');this.trigger('showToolbar',{},this.base.getFocusedElement())}},hideToolbar:function(){if(this.isDisplayed()){this.getToolbarElement().classList.remove('medium-editor-toolbar-active');this.trigger('hideToolbar',{},this.base.getFocusedElement())}},isToolbarDefaultActionsDisplayed:function(){return this.getToolbarActionsElement().style.display==='block'},hideToolbarDefaultActions:function(){if(this.isToolbarDefaultActionsDisplayed()){this.getToolbarActionsElement().style.display='none'}},showToolbarDefaultActions:function(){this.hideExtensionForms();if(!this.isToolbarDefaultActionsDisplayed()){this.getToolbarActionsElement().style.display='block'};this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(e){if(e.hasForm&&e.isDisplayed()){e.hideForm()}})},multipleBlockElementsSelected:function(){var i=/<[^\/>][^>]*><\/[^>]+>/gim,n=new RegExp('<('+e.util.blockContainerElementNames.join('|')+')[^>]*>','g'),o=e.selection.getSelectionHtml(this.document).replace(i,''),t=o.match(n);return!!t&&t.length>1},modifySelection:function(){var o=this.window.getSelection(),t=o.getRangeAt(0);if(this.standardizeSelectionStart&&t.startContainer.nodeValue&&(t.startOffset===t.startContainer.nodeValue.length)){var n=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),t.startContainer,this.document);if(n){var i=0;while(n.nodeValue.substr(i,1).trim().length===0){i=i+1};t=e.selection.select(this.document,n,i,t.endContainer,t.endOffset)}}},checkState:function(){if(this.base.preventSelectionUpdates){return};if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window)){return this.hideToolbar()};var t=e.selection.getSelectionElement(this.window);if(!t||this.getEditorElements().indexOf(t)===-1||t.getAttribute('data-disable-toolbar')){return this.hideToolbar()};if(this.updateOnEmptySelection&&this.static){return this.showAndUpdateToolbar()};if(!e.selection.selectionContainsContent(this.document)||(this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected())){return this.hideToolbar()};this.showAndUpdateToolbar()},showAndUpdateToolbar:function(){this.modifySelection();this.setToolbarButtonStates();this.trigger('positionToolbar',{},this.base.getFocusedElement());this.showToolbarDefaultActions();this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(e){if(typeof e.isActive==='function'&&typeof e.setInactive==='function'){e.setInactive()}});this.checkActiveButtons()},checkActiveButtons:function(){var n=[],i=null,o=e.selection.getSelectionRange(this.document),t,s=function(e){if(typeof e.checkState==='function'){e.checkState(t)}
else if(typeof e.isActive==='function'&&typeof e.isAlreadyApplied==='function'&&typeof e.setActive==='function'){if(!e.isActive()&&e.isAlreadyApplied(t)){e.setActive()}}};if(!o){return};this.forEachExtension(function(e){if(typeof e.queryCommandState==='function'){i=e.queryCommandState();if(i!==null){if(i&&typeof e.setActive==='function'){e.setActive()};return}};n.push(e)});t=e.selection.getSelectedParentElement(o);if(!this.getEditorElements().some(function(i){return e.util.isDescendant(i,t,!0)})){return}
while(t){n.forEach(s);if(e.util.isMediumEditorElement(t)){break};t=t.parentNode}},positionToolbarIfShown:function(){if(this.isDisplayed()){this.setToolbarPosition()}},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();if(!e){return this};if(this.static||!t.isCollapsed){this.showToolbar();if(!this.relativeContainer){if(this.static){this.positionStaticToolbar(e)}
else{this.positionToolbar(t)}};this.trigger('positionedToolbar',{},this.base.getFocusedElement())}},positionStaticToolbar:function(e){this.getToolbarElement().style.left='0';var a=(this.document.documentElement&&this.document.documentElement.scrollTop)||this.document.body.scrollTop,l=this.window.innerWidth,t=this.getToolbarElement(),n=e.getBoundingClientRect(),o=n.top+a,c=(n.left+(n.width/2)),s=t.offsetHeight,r=t.offsetWidth,u=r/2,i;if(this.sticky){if(a>(o+e.offsetHeight-s-this.stickyTopOffset)){t.style.top=(o+e.offsetHeight-s)+'px';t.classList.remove('medium-editor-sticky-toolbar')}
else if(a>(o-s-this.stickyTopOffset)){t.classList.add('medium-editor-sticky-toolbar');t.style.top=this.stickyTopOffset+'px'}
else{t.classList.remove('medium-editor-sticky-toolbar');t.style.top=o-s+'px'}}
else{t.style.top=o-s+'px'};switch(this.align){case'left':i=n.left;break;case'right':i=n.right-r;break;case'center':i=c-u;break};if(i<0){i=0}
else if((i+r)>l){i=(l-Math.ceil(r)-1)};t.style.left=i+'px'},positionToolbar:function(e){this.getToolbarElement().style.left='0';this.getToolbarElement().style.right='initial';var n=e.getRangeAt(0),i=n.getBoundingClientRect();if(!i||((i.height===0&&i.width===0)&&n.startContainer===n.endContainer)){if(n.startContainer.nodeType===1&&n.startContainer.querySelector('img')){i=n.startContainer.querySelector('img').getBoundingClientRect()}
else{i=n.startContainer.getBoundingClientRect()}};var c=this.window.innerWidth,s=(i.left+i.right)/2,t=this.getToolbarElement(),r=t.offsetHeight,u=t.offsetWidth,o=u/2,a=50,l=this.diffLeft-o;if(i.top<a){t.classList.add('medium-toolbar-arrow-over');t.classList.remove('medium-toolbar-arrow-under');t.style.top=a+i.bottom-this.diffTop+this.window.pageYOffset-r+'px'}
else{t.classList.add('medium-toolbar-arrow-under');t.classList.remove('medium-toolbar-arrow-over');t.style.top=i.top+this.diffTop+this.window.pageYOffset-r+'px'};if(s<o){t.style.left=l+o+'px';t.style.right='initial'}
else if((c-s)<o){t.style.left='auto';t.style.right=0}
else{t.style.left=l+s+'px';t.style.right='initial'}}});e.extensions.toolbar=t}());(function(){'use strict';var t=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments);this.subscribe('editableDrag',this.handleDrag.bind(this));this.subscribe('editableDrop',this.handleDrop.bind(this))},handleDrag:function(e){var t='medium-editor-dragover';e.preventDefault();e.dataTransfer.dropEffect='copy';if(e.type==='dragover'){e.target.classList.add(t)}
else if(e.type==='dragleave'){e.target.classList.remove(t)}},handleDrop:function(t){var n='medium-editor-dragover',i;t.preventDefault();t.stopPropagation();if(t.dataTransfer.files){i=Array.prototype.slice.call(t.dataTransfer.files,0);i.some(function(t){if(t.type.match('image')){var i,n;i=new FileReader();i.readAsDataURL(t);n='medium-img-'+(+new Date());e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+n+'" />');i.onload=function(){var e=this.document.getElementById(n);if(e){e.removeAttribute('id');e.removeAttribute('class');e.src=i.result}}.bind(this)}}.bind(this))};t.target.classList.remove(n)}});e.extensions.imageDragging=t}());(function(){'use strict';function r(t){var o=e.selection.getSelectionStart(this.options.ownerDocument),i=o.textContent,n=e.selection.getCaretOffsets(o);if((i[n.left-1]===undefined)||(i[n.left-1].trim()==='')||(i[n.left]!==undefined&&i[n.left].trim()==='')){t.preventDefault()}};function i(t,i){if(this.options.disableReturn||i.getAttribute('data-disable-return')){t.preventDefault()}
else if(this.options.disableDoubleReturn||i.getAttribute('data-disable-double-return')){var n=e.selection.getSelectionStart(this.options.ownerDocument);if((n&&n.textContent.trim()===''&&n.nodeName.toLowerCase()!=='li')||(n.previousElementSibling&&n.previousElementSibling.nodeName.toLowerCase()!=='br'&&n.previousElementSibling.textContent.trim()==='')){t.preventDefault()}}};function a(t){var i=e.selection.getSelectionStart(this.options.ownerDocument),n=i&&i.nodeName.toLowerCase();if(n==='pre'){t.preventDefault();e.util.insertHTMLCommand(this.options.ownerDocument,'    ')};if(e.util.isListItem(i)){t.preventDefault();if(t.shiftKey){this.options.ownerDocument.execCommand('outdent',!1,null)}
else{this.options.ownerDocument.execCommand('indent',!1,null)}}};function n(t){var n,i=e.selection.getSelectionStart(this.options.ownerDocument),o=i.nodeName.toLowerCase(),s=/^(\s+|<br\/?>)?$/i,r=/h\d/i;if(e.util.isKey(t,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&i.previousElementSibling&&r.test(o)&&e.selection.getCaretOffsets(i).left===0){if(e.util.isKey(t,e.util.keyCode.BACKSPACE)&&s.test(i.previousElementSibling.innerHTML)){i.previousElementSibling.parentNode.removeChild(i.previousElementSibling);t.preventDefault()}
else if(!this.options.disableDoubleReturn&&e.util.isKey(t,e.util.keyCode.ENTER)){n=this.options.ownerDocument.createElement('p');n.innerHTML='<br>';i.previousElementSibling.parentNode.insertBefore(n,i);t.preventDefault()}}
else if(e.util.isKey(t,e.util.keyCode.DELETE)&&i.nextElementSibling&&i.previousElementSibling&&!r.test(o)&&s.test(i.innerHTML)&&r.test(i.nextElementSibling.nodeName.toLowerCase())){e.selection.moveCursor(this.options.ownerDocument,i.nextElementSibling);i.previousElementSibling.parentNode.removeChild(i);t.preventDefault()}
else if(e.util.isKey(t,e.util.keyCode.BACKSPACE)&&o==='li'&&s.test(i.innerHTML)&&!i.previousElementSibling&&!i.parentElement.previousElementSibling&&i.nextElementSibling&&i.nextElementSibling.nodeName.toLowerCase()==='li'){n=this.options.ownerDocument.createElement('p');n.innerHTML='<br>';i.parentElement.parentElement.insertBefore(n,i.parentElement);e.selection.moveCursor(this.options.ownerDocument,n);i.parentElement.removeChild(i);t.preventDefault()}
else if(e.util.isKey(t,e.util.keyCode.BACKSPACE)&&(e.util.getClosestTag(i,'blockquote')!==!1)&&e.selection.getCaretOffsets(i).left===0){t.preventDefault();e.util.execFormatBlock(this.options.ownerDocument,'p')}};function l(t){var i=e.selection.getSelectionStart(this.options.ownerDocument),n;if(!i){return};if(e.util.isMediumEditorElement(i)&&i.children.length===0&&!e.util.isBlockContainer(i)){this.options.ownerDocument.execCommand('formatBlock',!1,'p')};if(e.util.isKey(t,e.util.keyCode.ENTER)&&!e.util.isListItem(i)&&!e.util.isBlockContainer(i)){n=i.nodeName.toLowerCase();if(n==='a'){this.options.ownerDocument.execCommand('unlink',!1,null)}
else if(!t.shiftKey&&!t.ctrlKey){this.options.ownerDocument.execCommand('formatBlock',!1,'p')}}};function c(e){if(!e._mediumEditors){e._mediumEditors=[null]};if(!this.id){this.id=e._mediumEditors.length};e._mediumEditors[this.id]=this};function u(e){if(!e._mediumEditors||!e._mediumEditors[this.id]){return};e._mediumEditors[this.id]=null};function d(t){if(!t){t=[]};if(typeof t==='string'){t=this.options.ownerDocument.querySelectorAll(t)};if(e.util.isElement(t)){t=[t]};var i=Array.prototype.slice.apply(t);this.elements=[];i.forEach(function(e,t){if(e.nodeName.toLowerCase()==='textarea'){this.elements.push(C.call(this,e,t))}
else{this.elements.push(e)}},this)};function h(e,t){Object.keys(t).forEach(function(i){if(e[i]===undefined){e[i]=t[i]}});return e};function t(e,t,i){var n={'window':i.options.contentWindow,'document':i.options.ownerDocument,'base':i};e=h(e,n);if(typeof e.init==='function'){e.init()};if(!e.name){e.name=t};return e};function o(){if(this.elements.every(function(e){return!!e.getAttribute('data-disable-toolbar')})){return!1};return this.options.toolbar!==!1};function f(){if(!o.call(this)){return!1};return this.options.anchorPreview!==!1};function m(){return this.options.placeholder!==!1};function p(){return this.options.autoLink!==!1};function g(){return this.options.imageDragging!==!1};function b(){return this.options.keyboardCommands!==!1};function v(){return!this.options.extensions['imageDragging']};function C(e,t){var i=this.options.ownerDocument.createElement('div'),r=Date.now(),o='medium-editor-'+r+'-'+t,s=e.attributes;while(this.options.ownerDocument.getElementById(o)){r++;o='medium-editor-'+r+'-'+t};i.className=e.className;i.id=o;i.innerHTML=e.value;e.setAttribute('medium-editor-textarea-id',o);for(var n=0,a=s.length;n<a;n++){if(!i.hasAttribute(s[n].nodeName)){i.setAttribute(s[n].nodeName,s[n].nodeValue)}};e.classList.add('medium-editor-hidden');e.parentNode.insertBefore(i,e);return i};function y(){var e=!1;this.elements.forEach(function(t,i){if(!this.options.disableEditing&&!t.getAttribute('data-disable-editing')){t.setAttribute('contentEditable',!0);t.setAttribute('spellcheck',this.options.spellcheck)};t.setAttribute('data-medium-editor-element',!0);t.setAttribute('role','textbox');t.setAttribute('aria-multiline',!0);t.setAttribute('medium-editor-index',i);if(t.hasAttribute('medium-editor-textarea-id')){e=!0}},this);if(e){this.subscribe('editableInput',function(e,t){var i=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute('medium-editor-textarea-id')+'"]');if(i){i.value=this.serialize()[t.id].value}}.bind(this))}};function E(){var e;this.subscribe('editableKeydownTab',a.bind(this));this.subscribe('editableKeydownDelete',n.bind(this));this.subscribe('editableKeydownEnter',n.bind(this));if(this.options.disableExtraSpaces){this.subscribe('editableKeydownSpace',r.bind(this))};if(this.options.disableReturn||this.options.disableDoubleReturn){this.subscribe('editableKeydownEnter',i.bind(this))}
else{for(e=0;e<this.elements.length;e+=1){if(this.elements[e].getAttribute('data-disable-return')||this.elements[e].getAttribute('data-disable-double-return')){this.subscribe('editableKeydownEnter',i.bind(this));break}}};if(!this.options.disableReturn){this.elements.forEach(function(e){if(!e.getAttribute('data-disable-return')){this.on(e,'keyup',l.bind(this))}},this)}};function w(){this.extensions=[];Object.keys(this.options.extensions).forEach(function(e){if(e!=='toolbar'&&this.options.extensions[e]){this.extensions.push(t(this.options.extensions[e],e,this))}},this);if(v.call(this)){var n=this.options.fileDragging;if(!n){n={};if(!g.call(this)){n.allowedTypes=[]}};this.addBuiltInExtension('fileDragging',n)};var s={paste:!0,'anchor-preview':f.call(this),autoLink:p.call(this),keyboardCommands:b.call(this),placeholder:m.call(this)};Object.keys(s).forEach(function(e){if(s[e]){this.addBuiltInExtension(e)}},this);var i=this.options.extensions['toolbar'];if(!i&&o.call(this)){var r=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});i=new e.extensions.toolbar(r)};if(i){this.extensions.push(t(i,'toolbar',this))}};function x(t,i){var n=[['allowMultiParagraphSelection','toolbar.allowMultiParagraphSelection']];if(i){n.forEach(function(t){if(i.hasOwnProperty(t[0])&&i[t[0]]!==undefined){e.util.deprecated(t[0],t[1],'v6.0.0')}})};return e.util.defaults({},i,t)};function s(t,i){var a=/^append-(.+)$/gi,l=/justify([A-Za-z]*)$/g,n;n=a.exec(t);if(n){return e.util.execFormatBlock(this.options.ownerDocument,n[1])};if(t==='fontSize'){return this.options.ownerDocument.execCommand('fontSize',!1,i.size)};if(t==='fontName'){return this.options.ownerDocument.execCommand('fontName',!1,i.name)};if(t==='createLink'){return this.createLink(i)};if(t==='image'){var r=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand('insertImage',!1,r)};if(l.exec(t)){var s=this.options.ownerDocument.execCommand(t,!1,null),o=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));if(o){T.call(this,e.util.getTopBlockContainer(o))};return s};return this.options.ownerDocument.execCommand(t,!1,null)};function T(t){if(!t){return};var i,n=Array.prototype.slice.call(t.childNodes).filter(function(e){var t=e.nodeName.toLowerCase()==='div';if(t&&!i){i=e.style.textAlign};return t});if(n.length){this.saveSelection();n.forEach(function(t){if(t.style.textAlign===i){var n=t.lastChild;if(n){e.util.unwrap(t,this.options.ownerDocument);var o=this.options.ownerDocument.createElement('BR');n.parentNode.insertBefore(o,n.nextSibling)}}},this);t.style.textAlign=i;this.restoreSelection()}};e.prototype={init:function(e,t){this.options=x.call(this,this.defaults,t);this.origElements=e;if(!this.options.elementsContainer){this.options.elementsContainer=this.options.ownerDocument.body};return this.setup()},setup:function(){if(this.isActive){return};d.call(this,this.origElements);if(this.elements.length===0){return};this.isActive=!0;c.call(this,this.options.contentWindow);this.events=new e.Events(this);y.call(this);w.call(this);E.call(this)},destroy:function(){if(!this.isActive){return};this.isActive=!1;this.extensions.forEach(function(e){if(typeof e.destroy==='function'){e.destroy()}},this);this.events.destroy();this.elements.forEach(function(e){if(this.options.spellcheck){e.innerHTML=e.innerHTML};e.removeAttribute('contentEditable');e.removeAttribute('spellcheck');e.removeAttribute('data-medium-editor-element');e.removeAttribute('role');e.removeAttribute('aria-multiline');e.removeAttribute('medium-editor-index');if(e.hasAttribute('medium-editor-textarea-id')){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute('medium-editor-textarea-id')+'"]');if(t){t.classList.remove('medium-editor-hidden')};if(e.parentNode){e.parentNode.removeChild(e)}}},this);this.elements=[];u.call(this,this.options.contentWindow)},on:function(e,t,i,n){this.events.attachDOMEvent(e,t,i,n);return this},off:function(e,t,i,n){this.events.detachDOMEvent(e,t,i,n);return this},subscribe:function(e,t){this.events.attachCustomEvent(e,t);return this},unsubscribe:function(e,t){this.events.detachCustomEvent(e,t);return this},trigger:function(e,t,i){this.events.triggerCustomEvent(e,t,i);return this},delay:function(e){var t=this;return setTimeout(function(){if(t.isActive){e()}},this.options.delay)},serialize:function(){var e,t,i={};for(e=0;e<this.elements.length;e+=1){t=(this.elements[e].id!=='')?this.elements[e].id:'element-'+e;i[t]={value:this.elements[e].innerHTML.trim()}};return i},getExtensionByName:function(e){var t;if(this.extensions&&this.extensions.length){this.extensions.some(function(i){if(i.name===e){t=i;return!0};return!1})};return t},addBuiltInExtension:function(i,n){var o=this.getExtensionByName(i),s;if(o){return o};switch(i){case'anchor':s=e.util.extend({},this.options.anchor,n);o=new e.extensions.anchor(s);break;case'anchor-preview':o=new e.extensions.anchorPreview(this.options.anchorPreview);break;case'autoLink':o=new e.extensions.autoLink();break;case'fileDragging':o=new e.extensions.fileDragging(n);break;case'fontname':o=new e.extensions.fontName(this.options.fontName);break;case'fontsize':o=new e.extensions.fontSize(n);break;case'keyboardCommands':o=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case'paste':o=new e.extensions.paste(this.options.paste);break;case'placeholder':o=new e.extensions.placeholder(this.options.placeholder);break;default:if(e.extensions.button.isBuiltInButton(i)){if(n){s=e.util.defaults({},n,e.extensions.button.prototype.defaults[i]);o=new e.extensions.button(s)}
else{o=new e.extensions.button(i)}}};if(o){this.extensions.push(t(o,i,this))};return o},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName('toolbar');if(e){e.checkState()};return this},queryCommandState:function(e){var o=/^full-(.+)$/gi,i,n=null;i=o.exec(e);if(i){e=i[1]};try{n=this.options.ownerDocument.queryCommandState(e)}catch(t){n=null};return n},execAction:function(t,i){var r=/^full-(.+)$/gi,n,o;n=r.exec(t);if(n){this.saveSelection();this.selectAllContents();o=s.call(this,n[1],i);this.restoreSelection()}
else{o=s.call(this,t,i)};if(t==='insertunorderedlist'||t==='insertorderedlist'){e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement())};this.checkSelection();return o},getSelectedParentElement:function(t){if(t===undefined){t=this.options.contentWindow.getSelection().getRangeAt(0)};return e.selection.getSelectedParentElement(t)},selectAllContents:function(){var t=e.selection.getSelectionElement(this.options.contentWindow);if(t){while(t.children.length===1){t=t.children[0]};this.selectElement(t)}},selectElement:function(t){e.selection.selectNode(t,this.options.ownerDocument);var i=e.selection.getSelectionElement(this.options.contentWindow);if(i){this.events.focusElement(i)}},getFocusedElement:function(){var e;this.elements.some(function(t){if(!e&&t.getAttribute('data-medium-focused')){e=t};return!!e},this);return e},exportSelection:function(){var n=e.selection.getSelectionElement(this.options.contentWindow),i=this.elements.indexOf(n),t=null;if(i>=0){t=e.selection.exportSelection(n,this.options.ownerDocument)};if(t!==null&&i!==0){t.editableElementIndex=i};return t},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(t,i){if(!t){return};var n=this.elements[t.editableElementIndex||0];e.selection.importSelection(t,n,this.options.ownerDocument,i)},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(t){var l=e.selection.getSelectionElement(this.options.contentWindow),c={};if(this.elements.indexOf(l)===-1){return};try{this.events.disableCustomEvent('editableInput');if(t.url&&t.url.trim().length>0){var p=this.options.contentWindow.getSelection();if(p){var n=p.getRangeAt(0),r=n.commonAncestorContainer,s,d,m,a;if(n.endContainer.nodeType===3&&n.startContainer.nodeType!==3&&n.startOffset===0&&n.startContainer.firstChild===n.endContainer){r=n.endContainer};d=e.util.getClosestBlockContainer(n.startContainer);m=e.util.getClosestBlockContainer(n.endContainer);if(r.nodeType!==3&&r.textContent.length!==0&&d===m){var i=(d||l),o=this.options.ownerDocument.createDocumentFragment();this.execAction('unlink');s=this.exportSelection();o.appendChild(i.cloneNode(!0));if(l===i){e.selection.select(this.options.ownerDocument,i.firstChild,0,i.lastChild,i.lastChild.nodeType===3?i.lastChild.nodeValue.length:i.lastChild.childNodes.length)}
else{e.selection.select(this.options.ownerDocument,i,0,i,i.childNodes.length)};var f=this.exportSelection();a=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,o,{start:s.start-f.start,end:s.end-f.start,editableElementIndex:s.editableElementIndex});if(a.length===0){o=this.options.ownerDocument.createDocumentFragment();o.appendChild(r.cloneNode(!0));a=[o.firstChild.firstChild,o.firstChild.lastChild]};e.util.createLink(this.options.ownerDocument,a,t.url.trim());var h=(o.firstChild.innerHTML.match(/^\s+/)||[''])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,o.firstChild.innerHTML.replace(/^\s+/,''));s.start-=h;s.end-=h;this.importSelection(s)}
else{this.options.ownerDocument.execCommand('createLink',!1,t.url)};if(this.options.targetBlank||t.target==='_blank'){e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),t.url)}
else{e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),t.url)};if(t.buttonClass){e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),t.buttonClass)}}};if(this.options.targetBlank||t.target==='_blank'||t.buttonClass){c=this.options.ownerDocument.createEvent('HTMLEvents');c.initEvent('input',!0,!0,this.options.contentWindow);for(var u=0;u<this.elements.length;u+=1){this.elements[u].dispatchEvent(c)}}}finally{this.events.enableCustomEvent('editableInput')};this.events.triggerCustomEvent('editableInput',c,l)},cleanPaste:function(e){this.getExtensionByName('paste').cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName('paste').pasteHTML(e,t)},setContent:function(e,t){t=t||0;if(this.elements[t]){var i=this.elements[t];i.innerHTML=e;this.events.updateInput(i,{target:i,currentTarget:i})}}}}());(function(){e.prototype.defaults={activeButtonClass:'medium-editor-button-active',buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}})();e.parseVersionString=function(e){var i=e.split('-'),t=i[0].split('.'),n=(i.length>1)?i[1]:'';return{major:parseInt(t[0],10),minor:parseInt(t[1],10),revision:parseInt(t[2],10),preRelease:n,toString:function(){return[t[0],t[1],t[2]].join('.')+(n?'-'+n:'')}}};e.version=e.parseVersionString.call(this,({'version':'5.16.1'}).version);return e}()));
/*!
 * medium-editor-insert-plugin v2.3.2 - jQuery insert plugin for MediumEditor
 *
 * http://linkesch.com/medium-editor-insert-plugin
 *
 * Copyright (c) 2014 Pavel Linkesch (http://linkesch.com)
 * Released under the MIT license
 */
(function(e){if(typeof define==='function'&&define.amd){define(['jquery','handlebars/runtime','medium-editor','blueimp-file-upload','jquery-sortable'],e)}
else if(typeof module==='object'&&module.exports){module.exports=function(t){if(typeof window==='undefined'){throw new Error('medium-editor-insert-plugin runs only in a browser.')};if(t===undefined){t=require('jquery')};window.jQuery=t;Handlebars=require('handlebars/runtime');MediumEditor=require('medium-editor');require('jquery-sortable');require('blueimp-file-upload');e(t,Handlebars,MediumEditor);return t}}
else{e(jQuery,Handlebars,MediumEditor)}}(function(e,t,i){this['MediumInsert']=this['MediumInsert']||{};this['MediumInsert']['Templates']=this['MediumInsert']['Templates']||{};this['MediumInsert']['Templates']['src/js/templates/core-buttons.hbs']=t.template({'1':function(e,t,i,o,s){var a,n,r=t!=null?t:{},l=i.helperMissing,d='function';return'            <li><a data-addon="'+e.escapeExpression(((n=(n=i.key||(s&&s.key))!=null?n:l),(typeof n===d?n.call(r,{'name':'key','hash':{},'data':s}):n)))+'" data-action="add" class="medium-insert-action">'+((a=((n=(n=i.label||(t!=null?t.label:t))!=null?n:l),(typeof n===d?n.call(r,{'name':'label','hash':{},'data':s}):n)))!=null?a:'')+'</a></li>\n'},'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,s,o){var n;return'<div class="medium-insert-buttons" contenteditable="false" style="display: none">\n    <a class="medium-insert-buttons-show">+</a>\n    <ul class="medium-insert-buttons-addons" style="display: none">\n'+((n=i.each.call(t!=null?t:{},(t!=null?t.addons:t),{'name':'each','hash':{},'fn':e.program(1,o,0),'inverse':e.noop,'data':o}))!=null?n:'')+'    </ul>\n</div>\n'},'useData':!0});this['MediumInsert']['Templates']['src/js/templates/core-caption.hbs']=t.template({'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,s,o){var n;return'<figcaption contenteditable="true" class="medium-insert-caption-placeholder" data-placeholder="'+e.escapeExpression(((n=(n=i.placeholder||(t!=null?t.placeholder:t))!=null?n:i.helperMissing),(typeof n==='function'?n.call(t!=null?t:{},{'name':'placeholder','hash':{},'data':o}):n)))+'"></figcaption>'},'useData':!0});this['MediumInsert']['Templates']['src/js/templates/core-empty-line.hbs']=t.template({'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,s,o){return'<p><br></p>\n'},'useData':!0});this['MediumInsert']['Templates']['src/js/templates/embeds-toolbar.hbs']=t.template({'1':function(e,t,i,s,o){var n;return'    <div class="medium-insert-embeds-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active">\n        <ul class="medium-editor-toolbar-actions clearfix">\n'+((n=i.each.call(t!=null?t:{},(t!=null?t.styles:t),{'name':'each','hash':{},'fn':e.program(2,o,0),'inverse':e.noop,'data':o}))!=null?n:'')+'        </ul>\n    </div>\n'},'2':function(e,t,i,s,o){var n;return((n=i['if'].call(t!=null?t:{},(t!=null?t.label:t),{'name':'if','hash':{},'fn':e.program(3,o,0),'inverse':e.noop,'data':o}))!=null?n:'')},'3':function(e,t,i,o,s){var a,n,r=t!=null?t:{},l=i.helperMissing,d='function';return'                    <li>\n                        <button class="medium-editor-action" data-action="'+e.escapeExpression(((n=(n=i.key||(s&&s.key))!=null?n:l),(typeof n===d?n.call(r,{'name':'key','hash':{},'data':s}):n)))+'">'+((a=((n=(n=i.label||(t!=null?t.label:t))!=null?n:l),(typeof n===d?n.call(r,{'name':'label','hash':{},'data':s}):n)))!=null?a:'')+'</button>\n                    </li>\n'},'5':function(e,t,i,s,o){var n;return'    <div class="medium-insert-embeds-toolbar2 medium-editor-toolbar medium-editor-toolbar-active">\n        <ul class="medium-editor-toolbar-actions clearfix">\n'+((n=i.each.call(t!=null?t:{},(t!=null?t.actions:t),{'name':'each','hash':{},'fn':e.program(2,o,0),'inverse':e.noop,'data':o}))!=null?n:'')+'        </ul>\n    </div>\n'},'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,o,s){var n,a=t!=null?t:{};return((n=i['if'].call(a,(t!=null?t.styles:t),{'name':'if','hash':{},'fn':e.program(1,s,0),'inverse':e.noop,'data':s}))!=null?n:'')+'\n'+((n=i['if'].call(a,(t!=null?t.actions:t),{'name':'if','hash':{},'fn':e.program(5,s,0),'inverse':e.noop,'data':s}))!=null?n:'')},'useData':!0});this['MediumInsert']['Templates']['src/js/templates/embeds-wrapper.hbs']=t.template({'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,s,o){var a,n;return'<div class="medium-insert-embeds" contenteditable="false">\n  <figure>\n      <div class="medium-insert-embed">\n           '+((a=((n=(n=i.html||(t!=null?t.html:t))!=null?n:i.helperMissing),(typeof n==='function'?n.call(t!=null?t:{},{'name':'html','hash':{},'data':o}):n)))!=null?a:'')+'\n       </div>\n    </figure>\n <div class="medium-insert-embeds-overlay"></div>\n</div>'},'useData':!0});this['MediumInsert']['Templates']['src/js/templates/images-fileupload.hbs']=t.template({'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,s,o){return'<input type="file" multiple>'},'useData':!0});this['MediumInsert']['Templates']['src/js/templates/images-image.hbs']=t.template({'1':function(e,t,i,s,o){return'        <div class="medium-insert-images-progress"></div>\n'},'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,o,s){var a,n,r=t!=null?t:{};return'<figure contenteditable="false">\n    <img src="'+e.escapeExpression(((n=(n=i.img||(t!=null?t.img:t))!=null?n:i.helperMissing),(typeof n==='function'?n.call(r,{'name':'img','hash':{},'data':s}):n)))+'" alt="" />\n'+((a=i['if'].call(r,(t!=null?t.progress:t),{'name':'if','hash':{},'fn':e.program(1,s,0),'inverse':e.noop,'data':s}))!=null?a:'')+'</figure>\n'},'useData':!0});this['MediumInsert']['Templates']['src/js/templates/images-progressbar.hbs']=t.template({'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,s,o){return'<progress min="0" max="100" value="0">0</progress>'},'useData':!0});this['MediumInsert']['Templates']['src/js/templates/images-toolbar.hbs']=t.template({'1':function(e,t,i,s,o){var n;return((n=i['if'].call(t!=null?t:{},(t!=null?t.label:t),{'name':'if','hash':{},'fn':e.program(2,o,0),'inverse':e.noop,'data':o}))!=null?n:'')},'2':function(e,t,i,o,s){var a,n,r=t!=null?t:{},l=i.helperMissing,d='function';return'                <li>\n                    <button class="medium-editor-action" data-action="'+e.escapeExpression(((n=(n=i.key||(s&&s.key))!=null?n:l),(typeof n===d?n.call(r,{'name':'key','hash':{},'data':s}):n)))+'">'+((a=((n=(n=i.label||(t!=null?t.label:t))!=null?n:l),(typeof n===d?n.call(r,{'name':'label','hash':{},'data':s}):n)))!=null?a:'')+'</button>\n                </li>\n'},'4':function(e,t,i,s,o){var n;return'  <div class="medium-insert-images-toolbar2 medium-editor-toolbar medium-editor-toolbar-active">\n      <ul class="medium-editor-toolbar-actions clearfix">\n'+((n=i.each.call(t!=null?t:{},(t!=null?t.actions:t),{'name':'each','hash':{},'fn':e.program(5,o,0),'inverse':e.noop,'data':o}))!=null?n:'')+'     </ul>\n    </div>\n'},'5':function(e,t,i,s,o){var n;return((n=i['if'].call(t!=null?t:{},(t!=null?t.label:t),{'name':'if','hash':{},'fn':e.program(6,o,0),'inverse':e.noop,'data':o}))!=null?n:'')},'6':function(e,t,i,o,s){var a,n,r=t!=null?t:{},l=i.helperMissing,d='function';return'                  <li>\n                      <button class="medium-editor-action" data-action="'+e.escapeExpression(((n=(n=i.key||(s&&s.key))!=null?n:l),(typeof n===d?n.call(r,{'name':'key','hash':{},'data':s}):n)))+'">'+((a=((n=(n=i.label||(t!=null?t.label:t))!=null?n:l),(typeof n===d?n.call(r,{'name':'label','hash':{},'data':s}):n)))!=null?a:'')+'</button>\n                  </li>\n'},'compiler':[7,'>= 4.0.0'],'main':function(e,t,i,o,s){var n,a=t!=null?t:{};return'<div class="medium-insert-images-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active">\n    <ul class="medium-editor-toolbar-actions clearfix">\n'+((n=i.each.call(a,(t!=null?t.styles:t),{'name':'each','hash':{},'fn':e.program(1,s,0),'inverse':e.noop,'data':s}))!=null?n:'')+'    </ul>\n</div>\n\n'+((n=i['if'].call(a,(t!=null?t.actions:t),{'name':'if','hash':{},'fn':e.program(4,s,0),'inverse':e.noop,'data':s}))!=null?n:'')},'useData':!0});(function(e,t,s,o){'use strict';var n='mediumInsert',a={editor:null,enabled:!0,addons:{images:!0,embeds:!0}};function r(e){return e.charAt(0).toUpperCase()+e.slice(1)};function i(i,s){var r;this.el=i;this.$el=e(i);this.templates=t.MediumInsert.Templates;if(s){r=s.editor;s.editor=null};this.options=e.extend(!0,{},a,s);this.options.editor=r;this._defaults=a;this._name=n;if(this.options&&this.options.editor){if(this.options.editor._serialize===o){this.options.editor._serialize=this.options.editor.serialize};if(this.options.editor._destroy===o){this.options.editor._destroy=this.options.editor.destroy};if(this.options.editor._setup===o){this.options.editor._setup=this.options.editor.setup};this.options.editor._hideInsertButtons=this.hideButtons;this.options.editor.serialize=this.editorSerialize;this.options.editor.destroy=this.editorDestroy;this.options.editor.setup=this.editorSetup;if(this.options.editor.getExtensionByName('placeholder')!==o){this.options.editor.getExtensionByName('placeholder').updatePlaceholder=this.editorUpdatePlaceholder}}};i.prototype.init=function(){this.$el.addClass('medium-editor-insert-plugin');if(typeof this.options.addons!=='object'||Object.keys(this.options.addons).length===0){this.disable()};this.initAddons();this.clean();this.events()};i.prototype.events=function(){var i=this;this.$el.on('dragover drop',function(e){e.preventDefault()}).on('keyup click',e.proxy(this,'toggleButtons')).on('selectstart mousedown','.medium-insert, .medium-insert-buttons',e.proxy(this,'disableSelection')).on('click','.medium-insert-buttons-show',e.proxy(this,'toggleAddons')).on('click','.medium-insert-action',e.proxy(this,'addonAction')).on('paste','.medium-insert-caption-placeholder',function(t){e.proxy(i,'removeCaptionPlaceholder')(e(t.target))});e(t).on('resize',e.proxy(this,'positionButtons',null))};i.prototype.getEditor=function(){return this.options.editor};i.prototype.editorSerialize=function(){var t=this._serialize();e.each(t,function(i){var s=e('<div />').html(t[i].value);s.find('.medium-insert-buttons').remove();s.find('[data-embed-code]').each(function(){var t=e(this);t.html(t.attr('data-embed-code'))});t[i].value=s.html()});return t};i.prototype.editorDestroy=function(){e.each(this.elements,function(t,s){if(e(s).data('plugin_'+n)instanceof i){e(s).data('plugin_'+n).disable()}});this._destroy()};i.prototype.editorSetup=function(){this._setup();e.each(this.elements,function(t,s){if(e(s).data('plugin_'+n)instanceof i){e(s).data('plugin_'+n).enable()}})};i.prototype.editorUpdatePlaceholder=function(t,i){var s=e(t).children().not('.medium-insert-buttons').contents();if(!i&&s.length===1&&s[0].nodeName.toLowerCase()==='br'){this.showPlaceholder(t);this.base._hideInsertButtons(e(t))}
else{this.hidePlaceholder(t)}};i.prototype.triggerInput=function(){if(this.getEditor()){this.getEditor().trigger('editableInput',null,this.el)}};i.prototype.deselect=function(){s.getSelection().removeAllRanges()};i.prototype.disable=function(){this.options.enabled=!1;this.$el.find('.medium-insert-buttons').addClass('hide')};i.prototype.enable=function(){this.options.enabled=!0;this.$el.find('.medium-insert-buttons').removeClass('hide')};i.prototype.disableSelection=function(t){var i=e(t.target);if(i.is('img')===!1||i.hasClass('medium-insert-buttons-show')){t.preventDefault()}};i.prototype.initAddons=function(){var t=this;if(!this.options.addons||this.options.addons.length===0){return};e.each(this.options.addons,function(e,i){var s=n+r(e);if(i===!1){delete t.options.addons[e];return};t.$el[s](i);t.options.addons[e]=t.$el.data('plugin_'+s).options})};i.prototype.clean=function(){var o=this,t,i,s;if(this.options.enabled===!1){return};if(this.$el.children().length===0){this.$el.html(this.templates['src/js/templates/core-empty-line.hbs']().trim())};s=this.$el.contents().filter(function(){return(this.nodeName==='#text'&&e.trim(e(this).text())!=='')||this.nodeName.toLowerCase()==='br'});s.each(function(){e(this).wrap('<p />');o.moveCaret(e(this).parent(),e(this).text().length)});this.addButtons();t=this.$el.find('.medium-insert-buttons');i=t.prev();if(i.attr('class')&&i.attr('class').match(/medium\-insert(?!\-active)/)){t.before(this.templates['src/js/templates/core-empty-line.hbs']().trim())}};i.prototype.getButtons=function(){if(this.options.enabled===!1){return};return this.templates['src/js/templates/core-buttons.hbs']({addons:this.options.addons}).trim()};i.prototype.addButtons=function(){if(this.$el.find('.medium-insert-buttons').length===0){this.$el.append(this.getButtons())}};i.prototype.toggleButtons=function(i){var n=e(i.target),r=t.getSelection(),l=this,d,s,a,o;if(this.options.enabled===!1){return};if(!r||r.rangeCount===0){s=n}
else{d=r.getRangeAt(0);s=e(d.commonAncestorContainer)};if(s.hasClass('medium-editor-insert-plugin')){s=s.find('p:first')};a=s.is('p')?s:s.closest('p');this.clean();if(n.hasClass('medium-editor-placeholder')===!1&&n.closest('.medium-insert-buttons').length===0&&s.closest('.medium-insert-buttons').length===0){this.$el.find('.medium-insert-active').removeClass('medium-insert-active');e.each(this.options.addons,function(e){if(n.closest('.medium-insert-'+e).length){s=n};if(s.closest('.medium-insert-'+e).length){a=s.closest('.medium-insert-'+e);o=e;return}});if(a.length&&((a.text().trim()===''&&!o)||o==='images')){a.addClass('medium-insert-active');setTimeout(function(){l.positionButtons(o);l.showButtons(o)},o?100:0)}
else{this.hideButtons()}}};i.prototype.showButtons=function(e){var t=this.$el.find('.medium-insert-buttons');t.show();t.find('li').show();if(e){t.find('li').hide();t.find('a[data-addon="'+e+'"]').parent().show()}};i.prototype.hideButtons=function(e){e=e||this.$el;e.find('.medium-insert-buttons').hide();e.find('.medium-insert-buttons-addons').hide();e.find('.medium-insert-buttons-show').removeClass('medium-insert-buttons-rotate')};i.prototype.positionButtons=function(e){var s=this.$el.find('.medium-insert-buttons'),t=this.$el.find('.medium-insert-active'),n=t.find('figure:first').length?t.find('figure:first'):t,i,o;if(t.length){i=t.position().left-parseInt(s.find('.medium-insert-buttons-addons').css('left'),10)-parseInt(s.find('.medium-insert-buttons-addons a:first').css('margin-left'),10);i=i<0?t.position().left:i;o=t.position().top+parseInt(t.css('margin-top'),10);if(e){if(t.position().left!==n.position().left){i=n.position().left};o+=t.height()+15};s.css({left:i,top:o})}};i.prototype.toggleAddons=function(){this.$el.find('.medium-insert-buttons-addons').fadeToggle();this.$el.find('.medium-insert-buttons-show').toggleClass('medium-insert-buttons-rotate')};i.prototype.hideAddons=function(){this.$el.find('.medium-insert-buttons-addons').hide();this.$el.find('.medium-insert-buttons-show').removeClass('medium-insert-buttons-rotate')};i.prototype.addonAction=function(t){var i=e(t.target).is('a')?e(t.target):e(t.target).closest('a'),s=i.data('addon'),o=i.data('action');this.$el.data('plugin_'+n+r(s))[o]()};i.prototype.moveCaret=function(e,i){var o,a,n,r;i=i||0;o=s.createRange();a=t.getSelection();n=e.get(0);if(!n.childNodes.length){r=s.createTextNode(' ');n.appendChild(r)};o.setStart(n.childNodes[0],i);o.collapse(!0);a.removeAllRanges();a.addRange(o)};i.prototype.addCaption=function(e,t){var i=e.find('figcaption');if(i.length===0){e.append(this.templates['src/js/templates/core-caption.hbs']({placeholder:t}))}};i.prototype.removeCaptions=function(t){var i=this.$el.find('figcaption');if(t){i=i.not(t)};i.each(function(){if(e(this).hasClass('medium-insert-caption-placeholder')||e(this).text().trim()===''){e(this).remove()}})};i.prototype.removeCaptionPlaceholder=function(e){var t=e.is('figcaption')?e:e.find('figcaption');if(t.length){t.removeClass('medium-insert-caption-placeholder').removeAttr('data-placeholder')}};e.fn[n]=function(t){return this.each(function(){var s=this,o;if(e(s).is('textarea')){o=e(s).attr('medium-editor-textarea-id');s=e(s).siblings('[medium-editor-textarea-id="'+o+'"]').get(0)};if(!e.data(s,'plugin_'+n)){e.data(s,'plugin_'+n,new i(s,t));e.data(s,'plugin_'+n).init()}
else if(typeof t==='string'&&e.data(s,'plugin_'+n)[t]){e.data(s,'plugin_'+n)[t]()}})}})(jQuery,window,document);(function(e,t,i,s){'use strict';var n='mediumInsert',a='Embeds',r={label:'<span class="fa fa-youtube-play"></span>',placeholder:'Paste a YouTube, Vimeo, Facebook, Twitter or Instagram link and press Enter',oembedProxy:'http://medium.iframe.ly/api/oembed?iframe=1',captions:!0,captionPlaceholder:'Type caption (optional)',styles:{wide:{label:'<span class="fa fa-align-justify"></span>'},left:{label:'<span class="fa fa-align-left"></span>'},right:{label:'<span class="fa fa-align-right"></span>'}},actions:{remove:{label:'<span class="fa fa-times"></span>',clicked:function(){var t=e.Event('keydown');t.which=8;e(i).trigger(t)}}},parseOnPaste:!1};function o(i,s){this.el=i;this.$el=e(i);this.templates=t.MediumInsert.Templates;this.core=this.$el.data('plugin_'+n);this.options=e.extend(!0,{},r,s);this._defaults=r;this._name=n;if(this.core.getEditor()){this.core.getEditor()._serializePreEmbeds=this.core.getEditor().serialize;this.core.getEditor().serialize=this.editorSerialize};this.init()};o.prototype.init=function(){var t=this.$el.find('.medium-insert-embeds');t.attr('contenteditable',!1);t.each(function(){if(e(this).find('.medium-insert-embeds-overlay').length===0){e(this).append(e('<div />').addClass('medium-insert-embeds-overlay'))}});this.events();this.backwardsCompatibility()};o.prototype.events=function(){e(i).on('click',e.proxy(this,'unselectEmbed')).on('keydown',e.proxy(this,'removeEmbed')).on('click','.medium-insert-embeds-toolbar .medium-editor-action',e.proxy(this,'toolbarAction')).on('click','.medium-insert-embeds-toolbar2 .medium-editor-action',e.proxy(this,'toolbar2Action'));this.$el.on('keyup click paste',e.proxy(this,'togglePlaceholder')).on('keydown',e.proxy(this,'processLink')).on('click','.medium-insert-embeds-overlay',e.proxy(this,'selectEmbed')).on('contextmenu','.medium-insert-embeds-placeholder',e.proxy(this,'fixRightClickOnPlaceholder'));if(this.options.parseOnPaste){this.$el.on('paste',e.proxy(this,'processPasted'))}};o.prototype.backwardsCompatibility=function(){var t=this;this.$el.find('.mediumInsert-embeds').removeClass('mediumInsert-embeds').addClass('medium-insert-embeds');this.$el.find('.medium-insert-embeds').each(function(){if(e(this).find('.medium-insert-embed').length===0){e(this).after(t.templates['src/js/templates/embeds-wrapper.hbs']({html:e(this).html()}));e(this).remove()}})};o.prototype.editorSerialize=function(){var t=this._serializePreEmbeds();e.each(t,function(i){var s=e('<div />').html(t[i].value);s.find('.medium-insert-embeds').removeAttr('contenteditable');s.find('.medium-insert-embeds-overlay').remove();t[i].value=s.html()});return t};o.prototype.add=function(){var e=this.$el.find('.medium-insert-active');e.html(this.templates['src/js/templates/core-empty-line.hbs']().trim());if(e.is('p')){e.replaceWith('<div class="medium-insert-active">'+e.html()+'</div>');e=this.$el.find('.medium-insert-active');this.core.moveCaret(e)};e.addClass('medium-insert-embeds medium-insert-embeds-input medium-insert-embeds-active');this.togglePlaceholder({target:e.get(0)});e.click();this.core.hideButtons()};o.prototype.togglePlaceholder=function(i){var s=e(i.target),n=t.getSelection(),r,o,a;if(!n||n.rangeCount===0){return};r=n.getRangeAt(0);o=e(r.commonAncestorContainer);if(o.hasClass('medium-insert-embeds-active')){s=o}
else if(o.closest('.medium-insert-embeds-active').length){s=o.closest('.medium-insert-embeds-active')};if(s.hasClass('medium-insert-embeds-active')){a=s.text().trim();if(a===''&&s.hasClass('medium-insert-embeds-placeholder')===!1){s.addClass('medium-insert-embeds-placeholder').attr('data-placeholder',this.options.placeholder)}
else if(a!==''&&s.hasClass('medium-insert-embeds-placeholder')){s.removeClass('medium-insert-embeds-placeholder').removeAttr('data-placeholder')}}
else{this.$el.find('.medium-insert-embeds-active').remove()}};o.prototype.fixRightClickOnPlaceholder=function(t){this.core.moveCaret(e(t.target))};o.prototype.processLink=function(e){var i=this.$el.find('.medium-insert-embeds-active'),t;if(!i.length){return};t=i.text().trim();if(t===''&&[8,46,13].indexOf(e.which)!==-1){i.remove();return};if(e.which===13){e.preventDefault();e.stopPropagation();if(this.options.oembedProxy){this.oembed(t)}
else{this.parseUrl(t)}}};o.prototype.processPasted=function(t){var i,s;if(e('.medium-insert-embeds-active').length){return};i=t.originalEvent.clipboardData.getData('text');s=new RegExp('^(http(s?):)?\/\/','i');if(s.test(i)){if(this.options.oembedProxy){this.oembed(i,!0)}
else{this.parseUrl(i,!0)}}};o.prototype.oembed=function(i,s){var o=this;e.support.cors=!0;e.ajax({crossDomain:!0,cache:!1,url:this.options.oembedProxy,dataType:'json',data:{url:i},success:function(t){var n=t&&t.html;if(t&&!n&&t.type==='photo'&&t.url){n='<img src="'+t.url+'" alt="">'};if(!n){e.proxy(o,'convertBadEmbed',i)();return};if(s){e.proxy(o,'embed',n,i)()}
else{e.proxy(o,'embed',n)()}},error:function(s,n,a){var r=(function(){try{return JSON.parse(s.responseText)}catch(e){}})();if(typeof t.console!=='undefined'){t.console.log((r&&r.error)||s.status||a.message)}
else{t.alert('Error requesting media from '+o.options.oembedProxy+' to insert: '+a+' (response status: '+s.status+')')};e.proxy(o,'convertBadEmbed',i)()}})};o.prototype.parseUrl=function(t,i){var s;if(!(new RegExp(['youtube','youtu.be','vimeo','instagram','twitter','facebook'].join('|')).test(t))){e.proxy(this,'convertBadEmbed',t)();return!1};s=t.replace(/\n?/g,'').replace(/^((http(s)?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|v\/)?)([a-zA-Z0-9\-_]+)(.*)?$/,'<div class="video video-youtube"><iframe width="420" height="315" src="//www.youtube.com/embed/$7" frameborder="0" allowfullscreen></iframe></div>').replace(/^https?:\/\/vimeo\.com(\/.+)?\/([0-9]+)$/,'<div class="video video-vimeo"><iframe src="//player.vimeo.com/video/$2" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>').replace(/^https:\/\/twitter\.com\/(\w+)\/status\/(\d+)\/?$/,'<blockquote class="twitter-tweet" align="center" lang="en"><a href="https://twitter.com/$1/statuses/$2"></a></blockquote><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>').replace(/^(https:\/\/www\.facebook\.com\/(.*))$/,'<script src="//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.2" async></script><div class="fb-post" data-href="$1"><div class="fb-xfbml-parse-ignore"><a href="$1">Loading Facebook post...</a></div></div>').replace(/^https?:\/\/instagram\.com\/p\/(.+)\/?$/,'<span class="instagram"><iframe src="//instagram.com/p/$1/embed/" width="612" height="710" frameborder="0" scrolling="no" allowtransparency="true"></iframe></span>');if((/<("[^"]*"|'[^']*'|[^'">])*>/).test(s)===!1){e.proxy(this,'convertBadEmbed',t)();return!1};if(i){this.embed(s,t)}
else{this.embed(s)}};o.prototype.embed=function(t,i){var s=this.$el.find('.medium-insert-embeds-active'),o;if(!t){alert('Incorrect URL format specified');return!1}
else{if(t.indexOf('</script>')>-1){o=e('<div>').attr('data-embed-code',t).html(t);t=e('<div>').append(o).html()};if(i){s=this.$el.find(':not(iframe, script, style)').contents().filter(function(){return this.nodeType===3&&this.textContent.indexOf(i)>-1}).parent();s.after(this.templates['src/js/templates/embeds-wrapper.hbs']({html:t}));s.text(s.text().replace(i,''))}
else{s.after(this.templates['src/js/templates/embeds-wrapper.hbs']({html:t}));s.remove()};this.core.triggerInput();if(t.indexOf('facebook')!==-1){if(typeof(FB)!=='undefined'){setTimeout(function(){FB.XFBML.parse()},2000)}}}};o.prototype.convertBadEmbed=function(t){var s,o,i,n=this.templates['src/js/templates/core-empty-line.hbs']().trim();s=this.$el.find('.medium-insert-embeds-active');i=e(n);s.before(i);s.remove();i.html(t);o=e(n);i.after(o);this.core.triggerInput();this.core.moveCaret(o)};o.prototype.selectEmbed=function(t){var i=this,s;if(this.core.options.enabled){s=e(t.target).hasClass('medium-insert-embeds')?e(t.target):e(t.target).closest('.medium-insert-embeds');s.addClass('medium-insert-embeds-selected');setTimeout(function(){i.addToolbar();if(i.options.captions){i.core.addCaption(s.find('figure'),i.options.captionPlaceholder)}},50)}};o.prototype.unselectEmbed=function(t){var i=e(t.target).hasClass('medium-insert-embeds')?e(t.target):e(t.target).closest('.medium-insert-embeds'),s=this.$el.find('.medium-insert-embeds-selected');if(i.hasClass('medium-insert-embeds-selected')){s.not(i).removeClass('medium-insert-embeds-selected');e('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();this.core.removeCaptions(i.find('figcaption'));if(e(t.target).is('.medium-insert-caption-placeholder')||e(t.target).is('figcaption')){i.removeClass('medium-insert-embeds-selected');this.core.removeCaptionPlaceholder(i.find('figure'))};return};s.removeClass('medium-insert-embeds-selected');e('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();if(e(t.target).is('.medium-insert-caption-placeholder')){this.core.removeCaptionPlaceholder(i.find('figure'))}
else if(e(t.target).is('figcaption')===!1){this.core.removeCaptions()}};o.prototype.removeEmbed=function(t){var i,s;if(t.which===8||t.which===46){i=this.$el.find('.medium-insert-embeds-selected');if(i.length){t.preventDefault();e('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();s=e(this.templates['src/js/templates/core-empty-line.hbs']().trim());i.before(s);i.remove();this.core.hideAddons();this.core.moveCaret(s);this.core.triggerInput()}}};o.prototype.addToolbar=function(){var t=this.$el.find('.medium-insert-embeds-selected'),n=!1,i,o,s,a,r;if(t.length===0){return};a=this.core.getEditor();r=a.options.elementsContainer||'body';e(r).append(this.templates['src/js/templates/embeds-toolbar.hbs']({styles:this.options.styles,actions:this.options.actions}).trim());i=e('.medium-insert-embeds-toolbar');o=e('.medium-insert-embeds-toolbar2');s=t.offset().top-i.height()-8-2-5;if(s<0){s=0};i.css({top:s,left:t.offset().left+t.width()/2-i.width()/2}).show();o .css({top:t.offset().top+2,left:t.offset().left+t.width()-o.width()-4}).show();i.find('button').each(function(){if(t.hasClass('medium-insert-embeds-'+e(this).data('action'))){e(this).addClass('medium-editor-button-active');n=!0}});if(n===!1){i.find('button').first().addClass('medium-editor-button-active')}};o.prototype.toolbarAction=function(t){var o=e(t.target).is('button')?e(t.target):e(t.target).closest('button'),n=o.closest('li'),a=n.closest('ul'),r=a.find('li'),i=this.$el.find('.medium-insert-embeds-selected'),s=this;o.addClass('medium-editor-button-active');n.siblings().find('.medium-editor-button-active').removeClass('medium-editor-button-active');r.find('button').each(function(){var t='medium-insert-embeds-'+e(this).data('action');if(e(this).hasClass('medium-editor-button-active')){i.addClass(t);if(s.options.styles[e(this).data('action')].added){s.options.styles[e(this).data('action')].added(i)}}
else{i.removeClass(t);if(s.options.styles[e(this).data('action')].removed){s.options.styles[e(this).data('action')].removed(i)}}});this.core.triggerInput()};o.prototype.toolbar2Action=function(t){var s=e(t.target).is('button')?e(t.target):e(t.target).closest('button'),i=this.options.actions[s.data('action')].clicked;if(i){i(this.$el.find('.medium-insert-embeds-selected'))};this.core.triggerInput()};e.fn[n+a]=function(t){return this.each(function(){if(!e.data(this,'plugin_'+n+a)){e.data(this,'plugin_'+n+a,new o(this,t))}})}})(jQuery,window,document);(function(e,t,s,o,n){'use strict';var r='mediumInsert',l='Images',d={label:'<span class="fa fa-camera"></span>',deleteMethod:'POST',deleteScript:'delete.php',preview:!0,captions:!0,captionPlaceholder:'Type caption for image (optional)',autoGrid:3,fileUploadOptions:{url:'upload.php',acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i},fileDeleteOptions:{},styles:{wide:{label:'<span class="fa fa-align-justify"></span>'},left:{label:'<span class="fa fa-align-left"></span>'},right:{label:'<span class="fa fa-align-right"></span>'},grid:{label:'<span class="fa fa-th"></span>'}},actions:{remove:{label:'<span class="fa fa-times"></span>',clicked:function(){var t=e.Event('keydown');t.which=8;e(s).trigger(t)}}},sorting:function(){var t=this;e('.medium-insert-images').sortable({group:'medium-insert-images',containerSelector:'.medium-insert-images',itemSelector:'figure',placeholder:'<figure class="placeholder">',handle:'img',nested:!1,vertical:!1,afterMove:function(){t.core.triggerInput()}})},messages:{acceptFileTypesError:'This file is not in a supported format: ',maxFileSizeError:'This file is too big: '}};function a(i,s){this.el=i;this.$el=e(i);this.$currentImage=null;this.templates=t.MediumInsert.Templates;this.core=this.$el.data('plugin_'+r);this.options=e.extend(!0,{},d,s);this._defaults=d;this._name=r;if(this.options.preview&&!t.FileReader){this.options.preview=!1};if(this.core.getEditor()){this.core.getEditor()._serializePreImages=this.core.getEditor().serialize;this.core.getEditor().serialize=this.editorSerialize};this.init()};a.prototype.init=function(){var e=this.$el.find('.medium-insert-images');e.find('figcaption').attr('contenteditable',!0);e.find('figure').attr('contenteditable',!1);this.events();this.backwardsCompatibility();this.sorting()};a.prototype.events=function(){e(s).on('click',e.proxy(this,'unselectImage')).on('keydown',e.proxy(this,'removeImage')).on('click','.medium-insert-images-toolbar .medium-editor-action',e.proxy(this,'toolbarAction')).on('click','.medium-insert-images-toolbar2 .medium-editor-action',e.proxy(this,'toolbar2Action'));this.$el.on('click','.medium-insert-images img',e.proxy(this,'selectImage'))};a.prototype.backwardsCompatibility=function(){this.$el.find('.mediumInsert').removeClass('mediumInsert').addClass('medium-insert-images');this.$el.find('.medium-insert-images.small').removeClass('small').addClass('medium-insert-images-left')};a.prototype.editorSerialize=function(){var t=this._serializePreImages();e.each(t,function(i){var s=e('<div />').html(t[i].value);s.find('.medium-insert-images').find('figcaption, figure').removeAttr('contenteditable');t[i].value=s.html()});return t};a.prototype.add=function(){var t=this,s=e(this.templates['src/js/templates/images-fileupload.hbs']()),i={dataType:'json',add:function(i,s){e.proxy(t,'uploadAdd',i,s)()},done:function(i,s){e.proxy(t,'uploadDone',i,s)()}};if(new XMLHttpRequest().upload){i.progress=function(i,s){e.proxy(t,'uploadProgress',i,s)()};i.progressall=function(i,s){e.proxy(t,'uploadProgressall',i,s)()}};s.fileupload(e.extend(!0,{},this.options.fileUploadOptions,i));s.click()};a.prototype.uploadAdd=function(t,i){var s=this.$el.find('.medium-insert-active'),r=this,o=[],n=i.files[0],l=this.options.fileUploadOptions.acceptFileTypes,d=this.options.fileUploadOptions.maxFileSize,a;if(l&&!l.test(n.type)){o.push(this.options.messages.acceptFileTypesError+n.name)}
else if(d&&n.size>d){o.push(this.options.messages.maxFileSizeError+n.name)};if(o.length>0){alert(o.join('\n'));return};this.core.hideButtons();if(s.is('p')){s.replaceWith('<div class="medium-insert-active">'+s.html()+'</div>');s=this.$el.find('.medium-insert-active');if(s.next().is('p')){this.core.moveCaret(s.next())}
else{s.after('<p><br></p>');this.core.moveCaret(s.next())}};s.addClass('medium-insert-images');if(this.options.preview===!1&&s.find('progress').length===0&&(new XMLHttpRequest().upload)){s.append(this.templates['src/js/templates/images-progressbar.hbs']())};if(i.autoUpload||(i.autoUpload!==!1&&e(t.target).fileupload('option','autoUpload'))){i.process().done(function(){if(r.options.preview){a=new FileReader();a.onload=function(t){e.proxy(r,'showImage',t.target.result,i)()};a.readAsDataURL(i.files[0])}
else{i.submit()}})}};a.prototype.uploadProgressall=function(e,t){var i,s;if(this.options.preview===!1){i=parseInt(t.loaded/t.total*100,10);s=this.$el.find('.medium-insert-active').find('progress');s.attr('value',i).text(i);if(i===100){s.remove()}}};a.prototype.uploadProgress=function(e,t){var i,s;if(this.options.preview){i=100-parseInt(t.loaded/t.total*100,10);s=t.context.find('.medium-insert-images-progress');s.css('width',i+'%');if(i===0){s.remove()}}};a.prototype.uploadDone=function(t,i){e.proxy(this,'showImage',i.result.files[0].url,i)();this.core.clean();this.sorting()};a.prototype.showImage=function(t,i){var s=this.$el.find('.medium-insert-active'),o,n;s.click();n=this;if(this.options.preview&&i.context){o=this.getDOMImage();o.onload=function(){i.context.find('img').attr('src',o.src);if(this.options.uploadCompleted){this.options.uploadCompleted(i.context,i)};n.core.triggerInput()}.bind(this);o.src=t}
else{i.context=e(this.templates['src/js/templates/images-image.hbs']({img:t,progress:this.options.preview})).appendTo(s);s.find('br').remove();if(this.options.autoGrid&&s.find('figure').length>=this.options.autoGrid){e.each(this.options.styles,function(e,t){var i='medium-insert-images-'+e;s.removeClass(i);if(t.removed){t.removed(s)}});s.addClass('medium-insert-images-grid');if(this.options.styles.grid.added){this.options.styles.grid.added(s)}};if(this.options.preview){i.submit()}
else if(this.options.uploadCompleted){this.options.uploadCompleted(i.context,i)}};this.core.triggerInput();return i.context};a.prototype.getDOMImage=function(){return new t.Image()};a.prototype.selectImage=function(t){var s=this,i;if(this.core.options.enabled){i=e(t.target);this.$currentImage=i;this.$el.blur();i.addClass('medium-insert-image-active');i.closest('.medium-insert-images').addClass('medium-insert-active');setTimeout(function(){s.addToolbar();if(s.options.captions){s.core.addCaption(i.closest('figure'),s.options.captionPlaceholder)}},50)}};a.prototype.unselectImage=function(t){var i=e(t.target),s=this.$el.find('.medium-insert-image-active');if(i.is('img')&&i.hasClass('medium-insert-image-active')){s.not(i).removeClass('medium-insert-image-active');e('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();this.core.removeCaptions(i);return};s.removeClass('medium-insert-image-active');e('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();if(i.is('.medium-insert-caption-placeholder')){this.core.removeCaptionPlaceholder(s.closest('figure'))}
else if(i.is('figcaption')===!1){this.core.removeCaptions()};this.$currentImage=null};a.prototype.removeImage=function(o){var n=[],f=this.$el.find('.medium-insert-image-active'),l,a,u,g,d,h,c,m,p,r;if(o.which===8||o.which===46){if(f.length){n.push(f)};u=t.getSelection();if(u&&u.rangeCount){g=u.getRangeAt(0);d=g.commonAncestorContainer;c=d.nodeName==='#text'?e(d).parent():e(d);h=i.selection.getCaretOffsets(d).left;if(o.which===8&&h===0){m=c.prev()}
else if(o.which===46&&h===c.text().length){m=c.next()};if(m&&m.hasClass('medium-insert-images')){n.push(m.find('img'))};p=i.selection.getSelectionHtml(s);if(p){e('<div></div>').html(p).find('.medium-insert-images img').each(function(){n.push(e(this))})}};if(n.length){for(r=0;r<n.length;r++){this.deleteFile(n[r].attr('src'));l=n[r].closest('.medium-insert-images');n[r].closest('figure').remove();if(l.find('figure').length===0){a=l.next();if(a.is('p')===!1||a.text()!==''){a=e(this.templates['src/js/templates/core-empty-line.hbs']().trim());l.before(a)};l.remove()}};this.core.hideAddons();if(!p&&a){o.preventDefault();this.core.moveCaret(a)};e('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();this.core.triggerInput()}}};a.prototype.deleteFile=function(t){if(this.options.deleteScript){e.ajax(e.extend(!0,{},{url:this.options.deleteScript,type:this.options.deleteMethod||'POST',data:{file:t}},this.options.fileDeleteOptions))}};a.prototype.addToolbar=function(){var t=this.$el.find('.medium-insert-image-active'),a=t.closest('.medium-insert-images'),n=!1,r=this.core.getEditor(),l=r.options.elementsContainer||'body',i,o,s;e(l).append(this.templates['src/js/templates/images-toolbar.hbs']({styles:this.options.styles,actions:this.options.actions}).trim());i=e('.medium-insert-images-toolbar');o=e('.medium-insert-images-toolbar2');s=t.offset().top-i.height()-8-2-5;if(s<0){s=0};i.css({top:s,left:t.offset().left+t.width()/2-i.width()/2}).show();o .css({top:t.offset().top+2,left:t.offset().left+t.width()-o.width()-4}).show();i.find('button').each(function(){if(a.hasClass('medium-insert-images-'+e(this).data('action'))){e(this).addClass('medium-editor-button-active');n=!0}});if(n===!1){i.find('button').first().addClass('medium-editor-button-active')}};a.prototype.toolbarAction=function(t){var s=this,o,n,a,r,i;if(this.$currentImage===null){return};o=e(t.target).is('button')?e(t.target):e(t.target).closest('button');n=o.closest('li');a=n.closest('ul');r=a.find('li');i=this.$el.find('.medium-insert-active');o.addClass('medium-editor-button-active');n.siblings().find('.medium-editor-button-active').removeClass('medium-editor-button-active');r.find('button').each(function(){var t='medium-insert-images-'+e(this).data('action');if(e(this).hasClass('medium-editor-button-active')){i.addClass(t);if(s.options.styles[e(this).data('action')].added){s.options.styles[e(this).data('action')].added(i)}}
else{i.removeClass(t);if(s.options.styles[e(this).data('action')].removed){s.options.styles[e(this).data('action')].removed(i)}}});this.core.hideButtons();this.core.triggerInput()};a.prototype.toolbar2Action=function(t){var s,i;if(this.$currentImage===null){return};s=e(t.target).is('button')?e(t.target):e(t.target).closest('button');i=this.options.actions[s.data('action')].clicked;if(i){i(this.$el.find('.medium-insert-image-active'))};this.core.hideButtons();this.core.triggerInput()};a.prototype.sorting=function(){e.proxy(this.options.sorting,this)()};e.fn[r+l]=function(t){return this.each(function(){if(!e.data(this,'plugin_'+r+l)){e.data(this,'plugin_'+r+l,new a(this,t))}})}})(jQuery,window,document,i.util)}));
/*! Lity - v1.6.6 - 2016-04-22
* http://sorgalla.com/lity/
* Copyright (c) 2016 Jan Sorgalla; Licensed MIT */
(function(e,t){if(typeof define==='function'&&define.amd){define(['jquery'],function(n){return t(e,n)})}
else if(typeof module==='object'&&typeof module.exports==='object'){module.exports=t(e,require('jquery'))}
else{e.lity=t(e,e.jQuery||e.Zepto)}}(typeof window!=='undefined'?window:this,function(t,e){'use strict';var i=t.document,r=e(t),p=e('html'),a=0,v=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,m=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,h=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,g=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,u={image:x,inline:b,iframe:C};var d={esc:!0,handler:null,template:'<div class="lity" tabindex="-1"><div class="lity-wrap" data-lity-close><div class="lity-loader">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" title="Close (Esc)" data-lity-close></button></div></div></div>'};function f(){p[a>0?'addClass':'removeClass']('lity-active')};var s=(function(){var n=i.createElement('div'),t={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'};for(var e in t){if(n.style[e]!==undefined){return t[e]}};return!1})();function c(t){var n=e.Deferred();if(!s){n.resolve()}
else{t.one(s,n.resolve);setTimeout(n.resolve,500)};return n.promise()};function o(t,n,i){if(arguments.length===1){return e.extend({},t)};if(typeof n==='string'){if(typeof i==='undefined'){return typeof t[n]==='undefined'?null:t[n]};t[n]=i}
else{e.extend(t,n)};return this};function y(e){var n=decodeURI(e).split('&'),r={},i;for(var t=0,o=n.length;t<o;t++){if(!n[t]){continue};i=n[t].split('=');r[i[0]]=i[1]};return r};function l(t,n){return t+(t.indexOf('?')>-1?'&':'?')+e.param(n)};function w(t){return e('<span class="lity-error"/>').append(t)};function x(t){if(!v.test(t)){return!1};var i=e('<img src="'+t+'">'),n=e.Deferred(),r=function(){n.reject(w('Failed loading image'))};i.on('load',function(){if(this.naturalWidth===0){return r()};n.resolve(i)}).on('error',r);return n.promise()};function b(t){var n;try{n=e(t)}catch(r){return!1};if(!n.length){return!1};var i=e('<span style="display:none !important" class="lity-inline-placeholder"/>');return n.after(i).on('lity:ready',function(e,t){t.one('lity:remove',function(){i.before(n.addClass('lity-hide')).remove()})})};function C(t){var n,i=t;n=m.exec(t);if(n){i=l('https://www.youtube'+(n[2]||'')+'.com/embed/'+n[4],e.extend({autoplay:1},y(n[5]||'')))};n=h.exec(t);if(n){i=l('https://player.vimeo.com/video/'+n[3],e.extend({autoplay:1},y(n[4]||'')))};n=g.exec(t);if(n){i=l('https://www.google.'+n[3]+'/maps?'+n[6],{output:n[6].indexOf('layer=c')>0?'svembed':'embed'})};return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+i+'"></iframe></div>'};function n(t){var m={},h={},n,s,p=e.Deferred().resolve();function g(e){if(e.keyCode===27){y()}};function v(){var e=i.documentElement.clientHeight?i.documentElement.clientHeight:Math.round(r.height());s.css('max-height',Math.floor(e)+'px').trigger('lity:resize',[n])};function x(t,i){if(!n){return};s=e(i);r.on('resize',v);v();n.find('.lity-loader').each(function(){var t=e(this);c(t).always(function(){t.remove()})});n.removeClass('lity-loading').find('.lity-content').empty().append(s);s.removeClass('lity-hide').trigger('lity:ready',[n,t]);p.resolve()};function b(t,i,o,l){p=e.Deferred();a++;f();n=e(o.template).addClass('lity-loading').appendTo('body');if(!!o.esc){r.on('keyup',g)};setTimeout(function(){n.addClass('lity-opened lity-'+t).on('click','[data-lity-close]',function(t){if(e(t.target).is('[data-lity-close]')){y()}}).trigger('lity:open',[n,l]);e.when(i).always(e.proxy(x,null,l))},0)};function w(t,n,o){var a,i,r=e.extend({},u,h);n=e.extend({},d,m,n);if(n.handler&&r[n.handler]){i=r[n.handler](t,l);a=n.handler}
else{var f={};e.each(['inline','iframe'],function(e,t){if(r[t]){f[t]=r[t]};delete r[t]});var s=function(e,n){if(!n){return!0};i=n(t,l);if(!!i){a=e;return!1}};e.each(r,s);if(!a){e.each(f,s)}};if(i){e.when(y()).done(e.proxy(b,null,a,i,n,o))};return!!i};function y(){if(!n){return};var t=e.Deferred();p.done(function(){a--;f();r.off('resize',v).off('keyup',g);s.trigger('lity:close',[n]);n.removeClass('lity-opened').addClass('lity-closed');var e=n,i=s;n=null;s=null;c(i.add(e)).always(function(){i.trigger('lity:remove',[e]);e.remove();t.resolve()})});return t.promise()};function l(t){if(!t.preventDefault){return l.open(t)};var n=e(this),i=n.data('lity-target')||n.attr('href')||n.attr('src');if(!i){return};var r=n.data('lity-options')||n.data('lity');if(w(i,r,n)){n.blur();t.preventDefault()}};l.handlers=e.proxy(o,l,h);l.options=e.proxy(o,l,m);l.open=function(e,t,n){w(e,t,n);return l};l.close=function(){y();return l};return l.options(t)};n.version='1.6.6';n.handlers=e.proxy(o,n,u);n.options=e.proxy(o,n,d);e(i).on('click','[data-lity]',n());return n}));
(function(e){e(['jquery'],function(e){return(function(){var n,a,c=0,o={error:'error',info:'info',success:'success',warning:'warning'};var d={clear:w,remove:C,error:p,getContainer:i,info:m,options:{},subscribe:g,success:h,version:'2.1.1',warning:v};var r;return d;function p(e,n,i){return s({type:o.error,iconClass:t().iconClasses.error,message:e,optionsOverride:i,title:n})};function i(i,o){if(!i){i=t()};n=e('#'+i.containerId);if(n.length){return n};if(o){n=O(i)};return n};function m(e,n,i){return s({type:o.info,iconClass:t().iconClasses.info,message:e,optionsOverride:i,title:n})};function g(e){a=e};function h(e,n,i){return s({type:o.success,iconClass:t().iconClasses.success,message:e,optionsOverride:i,title:n})};function v(e,n,i){return s({type:o.warning,iconClass:t().iconClasses.warning,message:e,optionsOverride:i,title:n})};function w(e,o){var s=t();if(!n){i(s)};if(!l(e,s,o)){T(s)}};function C(o){var s=t();if(!n){i(s)};if(o&&e(':focus',o).length===0){u(o);return};if(n.children().length){n.remove()}};function T(t){var o=n.children();for(var i=o.length-1;i>=0;i--){l(e(o[i]),t)}};function l(n,t,i){var o=i&&i.force?i.force:!1;if(n&&(o||e(':focus',n).length===0)){n[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){u(n)}});return!0};return!1};function O(t){n=e('<div/>').attr('id',t.containerId).addClass(t.positionClass).attr('aria-live','polite').attr('role','alert');n.appendTo(e(t.target));return n};function b(){return{tapToDismiss:!0,toastClass:'toast',containerId:'toast-container',debug:!1,showMethod:'fadeIn',showDuration:300,showEasing:'swing',onShown:undefined,hideMethod:'fadeOut',hideDuration:1000,hideEasing:'swing',onHidden:undefined,extendedTimeOut:1000,iconClasses:{error:'toast-error',info:'toast-info',success:'toast-success',warning:'toast-warning'},iconClass:'toast-info',positionClass:'toast-top-right',timeOut:5000,titleClass:'toast-title',messageClass:'toast-message',target:'body',closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}};function f(e){if(!a){return};a(e)};function s(s){var o=t(),v=s.iconClass||o.iconClass;if(typeof(s.optionsOverride)!=='undefined'){o=e.extend(o,s.optionsOverride);v=s.optionsOverride.iconClass||v};if(B(o,s)){return};c++;n=i(o,!0);var g=null,a=e('<div/>'),w=e('<div/>'),C=e('<div/>'),h=e('<div/>'),m=e(o.closeHtml),d={intervalId:null,hideEta:null,maxHideTime:null};var l={toastId:c,state:'visible',startTime:new Date(),options:o,map:s};T();b();O();f(l);if(o.debug&&console){console.log(l)};return a;function T(){D();y();E();H();I();x()};function O(){a.hover(k,M);if(!o.onclick&&o.tapToDismiss){a.click(p)};if(o.closeButton&&m){m.click(function(e){if(e.stopPropagation){e.stopPropagation()}
else if(e.cancelBubble!==undefined&&e.cancelBubble!==!0){e.cancelBubble=!0};p(!0)})};if(o.onclick){a.click(function(){o.onclick();p()})}};function b(){a.hide();a[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown});if(o.timeOut>0){g=setTimeout(p,o.timeOut);d.maxHideTime=parseFloat(o.timeOut);d.hideEta=new Date().getTime()+d.maxHideTime;if(o.progressBar){d.intervalId=setInterval(j,10)}}};function D(){if(s.iconClass){a.addClass(o.toastClass).addClass(v)}};function x(){if(o.newestOnTop){n.prepend(a)}
else{n.append(a)}};function y(){if(s.title){w.append(s.title).addClass(o.titleClass);a.append(w)}};function E(){if(s.message){C.append(s.message).addClass(o.messageClass);a.append(C)}};function H(){if(o.closeButton){m.addClass('toast-close-button').attr('role','button');a.prepend(m)}};function I(){if(o.progressBar){h.addClass('toast-progress');a.prepend(h)}};function B(e,n){if(e.preventDuplicates){if(n.message===r){return!0}
else{r=n.message}};return!1};function p(n){if(e(':focus',a).length&&!n){return};clearTimeout(d.intervalId);return a[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){u(a);if(o.onHidden&&l.state!=='hidden'){o.onHidden()};l.state='hidden';l.endTime=new Date();f(l)}})};function M(){if(o.timeOut>0||o.extendedTimeOut>0){g=setTimeout(p,o.extendedTimeOut);d.maxHideTime=parseFloat(o.extendedTimeOut);d.hideEta=new Date().getTime()+d.maxHideTime}};function k(){clearTimeout(g);d.hideEta=0;a.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})};function j(){var e=((d.hideEta-(new Date().getTime()))/d.maxHideTime)*100;h.width(e+'%')}};function t(){return e.extend({},b(),d.options)};function u(e){if(!n){n=i()};if(e.is(':visible')){return};e.remove();e=null;if(n.children().length===0){n.remove();r=undefined}}})()})}(typeof define==='function'&&define.amd?define:function(e,n){if(typeof module!=='undefined'&&module.exports){module.exports=n(require('jquery'))}
else{window['toastr']=n(window['jQuery'])}}));
!function(){var n={version:'3.5.17'};var Vr=[].slice,N=function(n){return Vr.call(n)},p=this.document;function Xr(n){return n&&(n.ownerDocument||n.document||n).documentElement};function Y(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)};if(p){try{N(p.documentElement.childNodes)[0].nodeType}catch(ta){N=function(n){var t=n.length,e=new Array(t);while(t--)e[t]=n[t];return e}}};if(!Date.now)Date.now=function(){return+new Date()};if(p){try{p.createElement('DIV').style.setProperty('opacity',0,'')}catch(ta){var ct=this.Element.prototype,Ca=ct.setAttribute,za=ct.setAttributeNS,Zr=this.CSSStyleDeclaration.prototype,La=Zr.setProperty;ct.setAttribute=function(n,t){Ca.call(this,n,t+'')};ct.setAttributeNS=function(n,t,e){za.call(this,n,t,e+'')};Zr.setProperty=function(n,t,e){La.call(this,n,t+'',e)}}};n.ascending=pn;function pn(n,t){return n<t?-1:n>t?1:n>=t?0:NaN};n.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN};n.min=function(n,t){var r=-1,u=n.length,i,e;if(arguments.length===1){while(++r<u)if((e=n[r])!=null&&e>=e){i=e;break}
while(++r<u)if((e=n[r])!=null&&i>e)i=e}
else{while(++r<u)if((e=t.call(n,n[r],r))!=null&&e>=e){i=e;break}
while(++r<u)if((e=t.call(n,n[r],r))!=null&&i>e)i=e};return i};n.max=function(n,t){var r=-1,u=n.length,i,e;if(arguments.length===1){while(++r<u)if((e=n[r])!=null&&e>=e){i=e;break}
while(++r<u)if((e=n[r])!=null&&e>i)i=e}
else{while(++r<u)if((e=t.call(n,n[r],r))!=null&&e>=e){i=e;break}
while(++r<u)if((e=t.call(n,n[r],r))!=null&&e>i)i=e};return i};n.extent=function(n,t){var r=-1,a=n.length,i,e,u;if(arguments.length===1){while(++r<a)if((e=n[r])!=null&&e>=e){i=u=e;break}
while(++r<a)if((e=n[r])!=null){if(i>e)i=e;if(u<e)u=e}}
else{while(++r<a)if((e=t.call(n,n[r],r))!=null&&e>=e){i=u=e;break}
while(++r<a)if((e=t.call(n,n[r],r))!=null){if(i>e)i=e;if(u<e)u=e}};return[i,u]};function tn(n){return n===null?NaN:+n};function q(n){return!isNaN(n)};n.sum=function(n,t){var i=0,u=n.length,r,e=-1;if(arguments.length===1){while(++e<u)if(q(r=+n[e]))i+=r}
else{while(++e<u)if(q(r=+t.call(n,n[e],e)))i+=r};return i};n.mean=function(n,t){var u=0,a=n.length,r,e=-1,i=a;if(arguments.length===1){while(++e<a)if(q(r=tn(n[e])))u+=r;else--i}
else{while(++e<a)if(q(r=tn(t.call(n,n[e],e))))u+=r;else--i};if(i)return u/i};n.quantile=function(n,t){var i=(n.length-1)*t+1,e=Math.floor(i),r=+n[e-1],u=i-e;return u?r+u*(n[e]-r):r};n.median=function(t,e){var i=[],a=t.length,u,r=-1;if(arguments.length===1){while(++r<a)if(q(u=tn(t[r])))i.push(u)}
else{while(++r<a)if(q(u=tn(e.call(t,t[r],r))))i.push(u)};if(i.length)return n.quantile(i.sort(pn),.5)};n.variance=function(n,t){var l=n.length,e=0,r,i,o=0,u=-1,a=0;if(arguments.length===1){while(++u<l){if(q(r=tn(n[u]))){i=r-e;e+=i/++a;o+=i*(r-e)}}}
else{while(++u<l){if(q(r=tn(t.call(n,n[u],u)))){i=r-e;e+=i/++a;o+=i*(r-e)}}};if(a>1)return o/(a-1)};n.deviation=function(){var t=n.variance.apply(this,arguments);return t?Math.sqrt(t):t};function Br(n){return{left:function(t,e,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var u=r+i>>>1;if(n(t[u],e)<0)r=u+1;else i=u};return r},right:function(t,e,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var u=r+i>>>1;if(n(t[u],e)>0)i=u;else r=u+1};return r}}};var Yr=Br(pn);n.bisectLeft=Yr.left;n.bisect=n.bisectRight=Yr.right;n.bisector=function(n){return Br(n.length===1?function(t,e){return pn(n(t),e)}:n)};n.shuffle=function(n,t,e){if((r=arguments.length)<3){e=n.length;if(r<2)t=0};var r=e-t,u,i;while(r){i=Math.random()*r--|0;u=n[r+t],n[r+t]=n[i+t],n[i+t]=u};return n};n.permute=function(n,t){var e=t.length,r=new Array(e);while(e--)r[e]=n[t[e]];return r};n.pairs=function(n){var t=0,e=n.length-1,u,r=n[0],i=new Array(e<0?0:e);while(t<e)i[t]=[u=r,r=n[++t]];return i};n.transpose=function(t){if(!(r=t.length))return[];for(var i=-1,u=n.min(t,qa),a=new Array(u);++i<u;){for(var e=-1,r,o=a[i]=new Array(r);++e<r;){o[e]=t[e][i]}};return a};function qa(n){return n.length};n.zip=function(){return n.transpose(arguments)};n.keys=function(n){var t=[];for(var e in n)t.push(e);return t};n.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t};n.entries=function(n){var e=[];for(var t in n)e.push({key:t,value:n[t]});return e};n.merge=function(n){var t=n.length,e,a=-1,r=0,i,u;while(++a<t)r+=n[a].length;i=new Array(r);while(--t>=0){u=n[t];e=u.length;while(--e>=0){i[--r]=u[e]}};return i};var r=Math.abs;n.range=function(n,t,e){if(arguments.length<3){e=1;if(arguments.length<2){t=n;n=0}};if((t-n)/e===Infinity)throw new Error('infinite range');var a=[],i=Ta(r(e)),o=-1,u;n*=i,t*=i,e*=i;if(e<0)while((u=n+e*++o)>t)a.push(u/i);else while((u=n+e*++o)<t)a.push(u/i);return a};function Ta(n){var t=1;while(n*t%1)t*=10;return t};function Wr(n,t){for(var e in t){Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}};n.map=function(n,t){var r=new T();if(n instanceof T){n.forEach(function(n,t){r.set(n,t)})}
else if(Array.isArray(n)){var e=-1,u=n.length,a;if(arguments.length===1)while(++e<u)r.set(e,n[e]);else while(++e<u)r.set(t.call(n,a=n[e],e),a)}
else{for(var i in n)r.set(i,n[i])};return r};function T(){this._=Object.create(null)};var Aa='__proto__',le='\x00';Wr(T,{has:Jr,get:function(n){return this._[Nn(n)]},set:function(n,t){return this._[Nn(n)]=t},remove:Gr,keys:Kr,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var t=[];for(var n in this._)t.push({key:ht(n),value:this._[n]});return t},size:Qr,empty:ni,forEach:function(n){for(var t in this._)n.call(this,ht(t),this._[t])}});function Nn(n){return(n+='')===Aa||n[0]===le?le+n:n};function ht(n){return(n+='')[0]===le?n.slice(1):n};function Jr(n){return Nn(n)in this._};function Gr(n){return(n=Nn(n))in this._&&delete this._[n]};function Kr(){var n=[];for(var t in this._)n.push(ht(t));return n};function Qr(){var n=0;for(var t in this._)++n;return n};function ni(){for(var n in this._)return!1;return!0};n.nest=function(){var t={},e=[],a=[],i,u;function r(n,a,o){if(o>=e.length)return u?u.call(t,a):i?a.sort(i):a;var c=-1,p=a.length,v=e[o++],h,l,f,s=new T(),g;while(++c<p){if(g=s.get(h=v(l=a[c]))){g.push(l)}
else{s.set(h,[l])}};if(n){l=n();f=function(t,e){l.set(t,r(n,e,o))}}
else{l={};f=function(t,e){l[t]=r(n,e,o)}};s.forEach(f);return l};function o(n,t){if(t>=e.length)return n;var r=[],i=a[t++];n.forEach(function(n,e){r.push({key:n,values:o(e,t)})});return i?r.sort(function(n,t){return i(n.key,t.key)}):r};t.map=function(n,t){return r(t,n,0)};t.entries=function(t){return o(r(n.map,t,0),0)};t.key=function(n){e.push(n);return t};t.sortKeys=function(n){a[e.length-1]=n;return t};t.sortValues=function(n){i=n;return t};t.rollup=function(n){u=n;return t};return t};n.set=function(n){var e=new fe();if(n)for(var t=0,r=n.length;t<r;++t)e.add(n[t]);return e};function fe(){this._=Object.create(null)};Wr(fe,{has:Jr,add:function(n){this._[Nn(n+='')]=!0;return n},remove:Gr,values:Kr,size:Qr,empty:ni,forEach:function(n){for(var t in this._)n.call(this,ht(t))}});n.behavior={};function h(n){return n};n.rebind=function(n,t){var e=1,i=arguments.length,r;while(++e<i)n[r=arguments[e]]=Ra(n,t,t[r]);return n};function Ra(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}};function se(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,i=Or.length;e<i;++e){var r=Or[e]+t;if(r in n)return r}};var Or=['webkit','ms','moz','Moz','o','O'];function s(){};n.dispatch=function(){var n=new ce(),t=-1,e=arguments.length;while(++t<e)n[arguments[t]]=ti(n);return n};function ce(){};ce.prototype.on=function(n,t){var r=n.indexOf('.'),e='';if(r>=0){e=n.slice(r+1);n=n.slice(0,r)};if(n)return arguments.length<2?this[n].on(e):this[n].on(e,t);if(arguments.length===2){if(t==null)for(n in this){if(this.hasOwnProperty(n))this[n].on(e,null)};return this}};function ti(n){var t=[],e=new T();function r(){var e=t,r=-1,u=e.length,i;while(++r<u)if(i=e[r].on)i.apply(this,arguments);return n};r.on=function(r,i){var u=e.get(r),a;if(arguments.length<2)return u&&u.on;if(u){u.on=null;t=t.slice(0,a=t.indexOf(u)).concat(t.slice(a+1));e.remove(r)};if(i)t.push(e.set(r,{on:i}));return n};return r};n.event=null;function Z(){n.event.preventDefault()};function he(){var t=n.event,e;while(e=t.sourceEvent)t=e;return t};function ge(t){var e=new ce(),r=0,i=arguments.length;while(++r<i)e[arguments[r]]=ti(e);e.of=function(r,i){return function(u){try{var a=u.sourceEvent=n.event;u.target=t;n.event=u;e[u.type].apply(r,i)}finally{n.event=a}}};return e};n.requote=function(n){return n.replace(Ea,'\\$&')};var Ea=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,st={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]};function V(n){st(n,u);return n};var ae=function(n,t){return t.querySelector(n)},oe=function(n,t){return t.querySelectorAll(n)},ft=function(n,t){var e=n.matches||n[se(n,'matchesSelector')];ft=function(n,t){return e.call(n,t)};return ft(n,t)};if(typeof Sizzle==='function'){ae=function(n,t){return Sizzle(n,t)[0]||null};oe=Sizzle;ft=Sizzle.matchesSelector};n.selection=function(){return n.select(p.documentElement)};var u=n.selection.prototype=[];u.select=function(n){var o=[],e,u,a,t;n=pe(n);for(var i=-1,f=this.length;++i<f;){o.push(e=[]);e.parentNode=(a=this[i]).parentNode;for(var r=-1,l=a.length;++r<l;){if(t=a[r]){e.push(u=n.call(t,t.__data__,r,i));if(u&&'__data__' in t)u.__data__=t.__data__}
else{e.push(null)}}};return V(o)};function pe(n){return typeof n==='function'?n:function(){return ae(n,this)}};u.selectAll=function(n){var u=[],a,t;n=ei(n);for(var r=-1,l=this.length;++r<l;){for(var i=this[r],e=-1,o=i.length;++e<o;){if(t=i[e]){u.push(a=N(n.call(t,t.__data__,e,r)));a.parentNode=t}}};return V(u)};function ei(n){return typeof n==='function'?n:function(){return oe(n,this)}};var ie='http://www.w3.org/1999/xhtml',ue={svg:'http://www.w3.org/2000/svg',xhtml:ie,xlink:'http://www.w3.org/1999/xlink',xml:'http://www.w3.org/XML/1998/namespace',xmlns:'http://www.w3.org/2000/xmlns/'};n.ns={prefix:ue,qualify:function(n){var t=n.indexOf(':'),e=n;if(t>=0&&(e=n.slice(0,t))!=='xmlns')n=n.slice(t+1);return ue.hasOwnProperty(e)?{space:ue[e],local:n}:n}};u.attr=function(t,e){if(arguments.length<2){if(typeof t==='string'){var r=this.node();t=n.ns.qualify(t);return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)};for(e in t)this.each(ri(e,t[e]));return this};return this.each(ri(t,e))};function ri(t,e){t=n.ns.qualify(t);function r(){this.removeAttribute(t)};function i(){this.removeAttributeNS(t.space,t.local)};function u(){this.setAttribute(t,e)};function a(){this.setAttributeNS(t.space,t.local,e)};function o(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)};function l(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)};return e==null?t.local?i:r:typeof e==='function'?t.local?l:o:t.local?a:u};function ii(n){return n.trim().replace(/\s+/g,' ')};u.classed=function(n,t){if(arguments.length<2){if(typeof n==='string'){var r=this.node(),i=(n=ai(n)).length,e=-1;if(t=r.classList){while(++e<i)if(!t.contains(n[e]))return!1}
else{t=r.getAttribute('class');while(++e<i)if(!ui(n[e]).test(t))return!1};return!0};for(t in n)this.each(oi(t,n[t]));return this};return this.each(oi(n,t))};function ui(t){return new RegExp('(?:^|\\s+)'+n.requote(t)+'(?:\\s+|$)','g')};function ai(n){return(n+'').trim().split(/^|\s+/)};function oi(n,t){n=ai(n).map(Da);var e=n.length;function r(){var r=-1;while(++r<e)n[r](this,t)};function i(){var r=-1,i=t.apply(this,arguments);while(++r<e)n[r](this,i)};return typeof t==='function'?i:r};function Da(n){var t=ui(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute('class')||'';if(r){t.lastIndex=0;if(!t.test(i))e.setAttribute('class',ii(i+' '+n))}
else{e.setAttribute('class',ii(i.replace(t,' ')))}}};u.style=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=='string'){if(r<2)t='';for(e in n)this.each(li(e,n[e],t));return this};if(r<2){var i=this.node();return Y(i).getComputedStyle(i,null).getPropertyValue(n)};e=''};return this.each(li(n,t,e))};function li(n,t,e){function r(){this.style.removeProperty(n)};function i(){this.style.setProperty(n,t,e)};function u(){var r=t.apply(this,arguments);if(r==null)this.style.removeProperty(n);else this.style.setProperty(n,r,e)};return t==null?r:typeof t==='function'?u:i};u.property=function(n,t){if(arguments.length<2){if(typeof n==='string')return this.node()[n];for(t in n)this.each(fi(t,n[t]));return this};return this.each(fi(n,t))};function fi(n,t){function e(){delete this[n]};function r(){this[n]=t};function i(){var e=t.apply(this,arguments);if(e==null)delete this[n];else this[n]=e};return t==null?e:typeof t==='function'?i:r};u.text=function(n){return arguments.length?this.each(typeof n==='function'?function(){var t=n.apply(this,arguments);this.textContent=t==null?'':t}:n==null?function(){this.textContent=''}:function(){this.textContent=n}):this.node().textContent};u.html=function(n){return arguments.length?this.each(typeof n==='function'?function(){var t=n.apply(this,arguments);this.innerHTML=t==null?'':t}:n==null?function(){this.innerHTML=''}:function(){this.innerHTML=n}):this.node().innerHTML};u.append=function(n){n=si(n);return this.select(function(){return this.appendChild(n.apply(this,arguments))})};function si(t){function e(){var n=this.ownerDocument,e=this.namespaceURI;return e===ie&&n.documentElement.namespaceURI===ie?n.createElement(t):n.createElementNS(e,t)};function r(){return this.ownerDocument.createElementNS(t.space,t.local)};return typeof t==='function'?t:(t=n.ns.qualify(t)).local?r:e};u.insert=function(n,t){n=si(n);t=pe(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})};u.remove=function(){return this.each(Ia)};function Ia(){var n=this.parentNode;if(n)n.removeChild(this)};u.data=function(n,t){var e=-1,u=this.length,r,l;if(!arguments.length){n=new Array(u=(r=this[0]).length);while(++e<u){if(l=r[e]){n[e]=l.__data__}};return n};function f(n,e){var r,l=n.length,g=e.length,m=Math.min(l,g),p=new Array(g),f=new Array(g),v=new Array(l),u,s;if(t){var c=new T(),d=new Array(l),h;for(r=-1;++r<l;){if(u=n[r]){if(c.has(h=t.call(u,u.__data__,r))){v[r]=u}
else{c.set(h,u)};d[r]=h}};for(r=-1;++r<g;){if(!(u=c.get(h=t.call(e,s=e[r],r)))){f[r]=ve(s)}
else if(u!==!0){p[r]=u;u.__data__=s};c.set(h,!0)};for(r=-1;++r<l;){if(r in d&&c.get(d[r])!==!0){v[r]=n[r]}}}
else{for(r=-1;++r<m;){u=n[r];s=e[r];if(u){u.__data__=s;p[r]=u}
else{f[r]=ve(s)}};for(;r<g;++r){f[r]=ve(e[r])};for(;r<l;++r){v[r]=n[r]}};f.update=p;f.parentNode=p.parentNode=v.parentNode=n.parentNode;a.push(f);i.push(p);o.push(v)};var a=hi([]),i=V([]),o=V([]);if(typeof n==='function'){while(++e<u){f(r=this[e],n.call(r,r.parentNode.__data__,e))}}
else{while(++e<u){f(r=this[e],n)}};i.enter=function(){return a};i.exit=function(){return o};return i};function ve(n){return{__data__:n}};u.datum=function(n){return arguments.length?this.property('__data__',n):this.property('__data__')};u.filter=function(n){var a=[],i,u,r;if(typeof n!=='function')n=ci(n);for(var e=0,l=this.length;e<l;e++){a.push(i=[]);i.parentNode=(u=this[e]).parentNode;for(var t=0,o=u.length;t<o;t++){if((r=u[t])&&n.call(r,r.__data__,t,e)){i.push(r)}}};return V(a)};function ci(n){return function(){return ft(this,n)}};u.order=function(){for(var i=-1,u=this.length;++i<u;){for(var e=this[i],r=e.length-1,n=e[r],t;--r>=0;){if(t=e[r]){if(n&&n!==t.nextSibling)n.parentNode.insertBefore(t,n);n=t}}};return this};u.sort=function(n){n=Pa.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()};function Pa(n){if(!arguments.length)n=pn;return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}};u.each=function(n){return R(this,function(t,e,r){n.call(t,t.__data__,e,r)})};function R(n,t){for(var r=0,o=n.length;r<o;r++){for(var i=n[r],e=0,a=i.length,u;e<a;e++){if(u=i[e])t(u,e,r)}};return n};u.call=function(n){var t=N(arguments);n.apply(t[0]=this,t);return this};u.empty=function(){return!this.node()};u.node=function(){for(var t=0,u=this.length;t<u;t++){for(var r=this[t],n=0,i=r.length;n<i;n++){var e=r[n];if(e)return e}};return null};u.size=function(){var n=0;R(this,function(){++n});return n};function hi(n){st(n,L);return n};var L=[];n.selection.enter=hi;n.selection.enter.prototype=L;L.append=u.append;L.empty=u.empty;L.node=u.node;L.call=u.call;L.size=u.size;L.select=function(n){var a=[],r,o,l,t,u;for(var i=-1,s=this.length;++i<s;){l=(t=this[i]).update;a.push(r=[]);r.parentNode=t.parentNode;for(var e=-1,f=t.length;++e<f;){if(u=t[e]){r.push(l[e]=o=n.call(t.parentNode,u.__data__,e,i));o.__data__=u.__data__}
else{r.push(null)}}};return V(a)};L.insert=function(n,t){if(arguments.length<2)t=Ua(this);return u.insert.call(this,n,t)};function Ua(n){var t,e;return function(r,i,u){var a=n[u].update,l=a.length,o;if(u!=e)e=u,t=0;if(i>=t)t=i+1;while(!(o=a[t])&&++t<l);return o}};n.select=function(n){var t;if(typeof n==='string'){t=[ae(n,p)];t.parentNode=p.documentElement}
else{t=[n];t.parentNode=Xr(n)};return V([t])};n.selectAll=function(n){var t;if(typeof n==='string'){t=N(oe(n,p));t.parentNode=p.documentElement}
else{t=N(n);t.parentNode=null};return V([t])};u.on=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=='string'){if(r<2)t=!1;for(e in n)this.each(gi(e,n[e],t));return this};if(r<2)return(r=this.node()['__on'+n])&&r._;e=!1};return this.each(gi(n,t,e))};function gi(t,e,r){var i='__on'+t,u=t.indexOf('.'),o=pi;if(u>0)t=t.slice(0,u);var a=re.get(t);if(a)t=a,o=ja;function l(){var n=this[i];if(n){this.removeEventListener(t,n,n.$);delete this[i]}};function f(){var n=o(e,N(arguments));l.call(this);this.addEventListener(t,this[i]=n,n.$=r);n._=e};function c(){var u=new RegExp('^__on([^.]+)'+n.requote(t)+'$'),i;for(var e in this){if(i=e.match(u)){var r=this[e];this.removeEventListener(i[1],r,r.$);delete this[e]}}};return u?e?f:l:e?s:c};var re=n.map({mouseenter:'mouseover',mouseleave:'mouseout'});if(p){re.forEach(function(n){if('on'+n in p)re.remove(n)})};function pi(t,e){return function(r){var i=n.event;n.event=r;e[0]=this.__data__;try{t.apply(this,e)}finally{n.event=i}}};function ja(n,t){var e=pi(n,t);return function(n){var t=this,r=n.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){e.call(t,n)}}};var nn,Na=0;function gt(t){var e='.dragsuppress-'+ ++Na,u='click'+e,i=n.select(Y(t)).on('touchmove'+e,Z).on('dragstart'+e,Z).on('selectstart'+e,Z);if(nn==null){nn='onselectstart' in t?!1:se(t.style,'userSelect')};if(nn){var r=Xr(t).style,a=r[nn];r[nn]='none'};return function(n){i.on(e,null);if(nn)r[nn]=a;if(n){var t=function(){i.on(u,null)};i.on(u,function(){Z();t()},!0);setTimeout(t,0)}}};n.mouse=function(n){return de(n,he())};var ee=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function de(t,e){if(e.changedTouches)e=e.changedTouches[0];var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(ee<0){var o=Y(t);if(o.scrollX||o.scrollY){i=n.select('body').append('svg').style({position:'absolute',top:0,left:0,margin:0,padding:0,border:'none'},'important');var a=i[0][0].getScreenCTM();ee=!(a.f||a.e);i.remove()}};if(ee)r.x=e.pageX,r.y=e.pageY;else r.x=e.clientX,r.y=e.clientY;r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]};var u=t.getBoundingClientRect();return[e.clientX-u.left-t.clientLeft,e.clientY-u.top-t.clientTop]};n.touch=function(n,t,e){if(arguments.length<3)e=t,t=he().changedTouches;if(t)for(var r=0,u=t.length,i;r<u;++r){if((i=t[r]).identifier===e){return de(n,i)}}};n.behavior.drag=function(){var r=ge(e,'drag','dragstart','dragend'),t=null,u=i(s,n.mouse,Y,'mousemove','mouseup'),a=i(Fa,n.touch,h,'touchmove','touchend');function e(){this.on('mousedown.drag',u).on('touchstart.drag',a)};function i(e,i,u,a,o){return function(){var h=this,v=n.event.target.correspondingElement||n.event.target,g=h.parentNode,p=r.of(h,arguments),d=0,f=e(),c='.drag'+(f==null?'':'-'+f),l,m=n.select(u(v)).on(a+c,M).on(o+c,x),y=gt(v),s=i(g,f);if(t){l=t.apply(h,arguments);l=[l.x-s[0],l.y-s[1]]}
else{l=[0,0]};p({type:'dragstart'});function M(){var n=i(g,f),t,e;if(!n)return;t=n[0]-s[0];e=n[1]-s[1];d|=t|e;s=n;p({type:'drag',x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e})};function x(){if(!i(g,f))return;m.on(a+c,null).on(o+c,null);y(d);p({type:'dragend'})}}};e.origin=function(n){if(!arguments.length)return t;t=n;return e};return n.rebind(e,r,'on')};function Fa(){return n.event.changedTouches[0].identifier};n.touches=function(n,t){if(arguments.length<2)t=he().touches;return t?N(t).map(function(t){var e=de(n,t);e.identifier=t.identifier;return e}):[]};var =1e-6,2=*,=Math.PI,=2*,=-,f=/2,e=/180,o=180/;function vi(n){return n>0?1:n<0?-1:0};function me(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])};function di(n){return n>1?0:n<-1?:Math.acos(n)};function X(n){return n>1?f:n<-1?-f:Math.asin(n)};function Ha(n){return((n=Math.exp(n))-1/n)/2};function mi(n){return((n=Math.exp(n))+1/n)/2};function Oa(n){return((n=Math.exp(2*n))-1)/(n+1)};function yi(n){return(n=Math.sin(n/2))*n};var =Math.SQRT2,2=2,4=4;n.interpolateZoom=function(n,t){var g=n[0],p=n[1],e=n[2],d=t[0],m=t[1],r=t[2],a=d-g,o=m-p,l=a*a+o*o,f,u;if(l<2){u=Math.log(r/e)/;f=function(n){return[g+n*a,p+n*o,e*Math.exp(*n*u)]}}
else{var s=Math.sqrt(l),c=(r*r-e*e+4*l)/(2*e*2*s),h=(r*r-e*e-4*l)/(2*r*2*s),i=Math.log(Math.sqrt(c*c+1)-c),v=Math.log(Math.sqrt(h*h+1)-h);u=(v-i)/;f=function(n){var t=n*u,r=mi(i),l=e/(2*s)*(r*Oa(*t+i)-Ha(i));return[g+l*a,p+l*o,e*r/mi(*t+i)]}};f.duration=u*1e3;return f};n.behavior.zoom=function(){var t={x:0,y:0,k:1},N,r,y,l=[960,500],f=Hr,s=250,E=0,M='mousedown.zoom',A='mousemove.zoom',C='mouseup.zoom',c,x='touchstart.zoom',w,u=ge(e,'zoomstart','zoom','zoomend'),b,h,S,g;if(!te){te='onwheel' in p?(lt=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},'wheel'):'onmousewheel' in p?(lt=function(){return n.event.wheelDelta},'mousewheel'):(lt=function(){return-n.event.detail},'MozMousePixelScroll')};function e(n){n.on(M,L).on(te+'.zoom',R).on('dblclick.zoom',D).on(x,q)};e.event=function(e){e.each(function(){var e=u.of(this,arguments),f=t;if(W){n.select(this).transition().each('start.zoom',function(){t=this.__chart__||{x:0,y:0,k:1};a(e)}).tween('zoom:zoom',function(){var i=l[0],s=l[1],u=r?r[0]:i/2,a=r?r[1]:s/2,c=n.interpolateZoom([(u-t.x)/t.k,(a-t.y)/t.k,i/t.k],[(u-f.x)/f.k,(a-f.y)/f.k,i/f.k]);return function(n){var r=c(n),l=i/r[2];this.__chart__=t={x:u-r[0]*l,y:a-r[1]*l,k:l};o(e)}}).each('interrupt.zoom',function(){i(e)}).each('end.zoom',function(){i(e)})}
else{this.__chart__=t;a(e);o(e);i(e)}})};e.translate=function(n){if(!arguments.length)return[t.x,t.y];t={x:+n[0],y:+n[1],k:t.k};k();return e};e.scale=function(n){if(!arguments.length)return t.k;t={x:t.x,y:t.y,k:null};d(+n);k();return e};e.scaleExtent=function(n){if(!arguments.length)return f;f=n==null?Hr:[+n[0],+n[1]];return e};e.center=function(n){if(!arguments.length)return y;y=n&&[+n[0],+n[1]];return e};e.size=function(n){if(!arguments.length)return l;l=n&&[+n[0],+n[1]];return e};e.duration=function(n){if(!arguments.length)return s;s=+n;return e};e.x=function(n){if(!arguments.length)return h;h=n;b=n.copy();t={x:0,y:0,k:1};return e};e.y=function(n){if(!arguments.length)return g;g=n;S=n.copy();t={x:0,y:0,k:1};return e};function v(n){return[(n[0]-t.x)/t.k,(n[1]-t.y)/t.k]};function T(n){return[n[0]*t.k+t.x,n[1]*t.k+t.y]};function d(n){t.k=Math.max(f[0],Math.min(f[1],n))};function m(n,e){e=T(e);t.x+=n[0]-e[0];t.y+=n[1]-e[1]};function z(i,u,a,o){i.__chart__={x:t.x,y:t.y,k:t.k};d(Math.pow(2,o));m(r=u,a);i=n.select(i);if(s>0)i=i.transition().duration(s);i.call(e.event)};function k(){if(h)h.domain(b.range().map(function(n){return(n-t.x)/t.k}).map(b.invert));if(g)g.domain(S.range().map(function(n){return(n-t.y)/t.k}).map(S.invert))};function a(n){if(!E++)n({type:'zoomstart'})};function o(n){k();n({type:'zoom',scale:t.k,translate:[t.x,t.y]})};function i(n){if(!--E)n({type:'zoomend'}),r=null};function L(){var t=this,e=u.of(t,arguments),r=0,l=n.select(Y(t)).on(A,c).on(C,h),f=v(n.mouse(t)),s=gt(t);Hn.call(t);a(e);function c(){r=1;m(n.mouse(t),f);o(e)};function h(){l.on(A,null).on(C,null);s(r);i(e)}};function q(){var e=this,l=u.of(e,arguments),r={},f=0,c,s='.zoom-'+n.event.changedTouches[0].identifier,b='touchmove'+s,S='touchend'+s,h=[],g=n.select(e),k=gt(e);y();a(l);g.on(M,null).on(x,y);function p(){var i=n.touches(e);c=t.k;i.forEach(function(n){if(n.identifier in r)r[n.identifier]=v(n)});return i};function y(){var v=n.event.target;n.select(v).on(b,N).on(S,E);h.push(v);var g=n.event.changedTouches;for(var a=0,d=g.length;a<d;++a){r[g[a].identifier]=null};var u=p(),c=Date.now();if(u.length===1){if(c-w<500){var i=u[0];z(e,i,r[i.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1);Z()};w=c}
else if(u.length>1){var i=u[0],o=u[1],l=i[0]-o[0],s=i[1]-o[1];f=l*l+s*s}};function N(){var g=n.touches(e),t,u,i,a;Hn.call(e);for(var h=0,v=g.length;h<v;++h,a=null){i=g[h];if(a=r[i.identifier]){if(u)break;t=i,u=a}};if(a){var s=(s=i[0]-t[0])*s+(s=i[1]-t[1])*s,p=f&&Math.sqrt(s/f);t=[(t[0]+i[0])/2,(t[1]+i[1])/2];u=[(u[0]+a[0])/2,(u[1]+a[1])/2];d(p*c)};w=null;m(t,u);o(l)};function E(){if(n.event.touches.length){var e=n.event.changedTouches;for(var t=0,u=e.length;t<u;++t){delete r[e[t].identifier]};for(var a in r){return void p()}};n.selectAll(h).on(s,null);g.on(M,L).on(x,q);k();i(l)}};function R(){var e=u.of(this,arguments);if(c)clearTimeout(c);else Hn.call(this),N=v(r=y||n.mouse(this)),a(e);c=setTimeout(function(){c=null;i(e)},50);Z();d(Math.pow(2,lt()*.002)*t.k);m(r,N);o(e)};function D(){var e=n.mouse(this),r=Math.log(t.k)/Math.LN2;z(this,e,v(e),n.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)};return n.rebind(e,u,'on')};var Hr=[0,Infinity],lt,te;n.color=en;function en(){};en.prototype.toString=function(){return this.rgb()+''};n.hsl=E;function E(n,t,e){return this instanceof E?void(this.h=+n,this.s=+t,this.l=+e):arguments.length<2?n instanceof E?new E(n.h,n.s,n.l):bi(''+n,Si,E):new E(n,t,e)};var ne=E.prototype=new en();ne.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);return new E(this.h,this.s,this.l/n)};ne.darker=function(n){n=Math.pow(.7,arguments.length?n:1);return new E(this.h,this.s,n*this.l)};ne.rgb=function(){return ye(this.h,this.s,this.l)};function ye(n,t,e){var r,i;n=isNaN(n)?0:(n%=360)<0?n+360:n;t=isNaN(t)?0:t<0?0:t>1?1:t;e=e<0?0:e>1?1:e;i=e<=.5?e*(1+t):e+t-e*t;r=2*e-i;function a(n){if(n>360)n-=360;else if(n<0)n+=360;if(n<60)return r+(i-r)*n/60;if(n<180)return i;if(n<240)return r+(i-r)*(240-n)/60;return r};function u(n){return Math.round(a(n)*255)};return new d(u(n+120),u(n),u(n-120))};n.hcl=w;function w(t,e,r){return this instanceof w?void(this.h=+t,this.c=+e,this.l=+r):arguments.length<2?t instanceof w?new w(t.h,t.c,t.l):t instanceof b?xi(t.l,t.a,t.b):xi((t=ki((t=n.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new w(t,e,r)};var Qt=w.prototype=new en();Qt.brighter=function(n){return new w(this.h,this.c,Math.min(100,this.l+ot*(arguments.length?n:1)))};Qt.darker=function(n){return new w(this.h,this.c,Math.max(0,this.l-ot*(arguments.length?n:1)))};Qt.rgb=function(){return Me(this.h,this.c,this.l).rgb()};function Me(n,t,r){if(isNaN(n))n=0;if(isNaN(t))t=0;return new b(r,Math.cos(n*=e)*t,Math.sin(n)*t)};n.lab=b;function b(n,t,e){return this instanceof b?void(this.l=+n,this.a=+t,this.b=+e):arguments.length<2?n instanceof b?new b(n.l,n.a,n.b):n instanceof w?Me(n.h,n.c,n.l):ki((n=d(n)).r,n.g,n.b):new b(n,t,e)};var ot=18,Ur=.95047,jr=1,Fr=1.08883,Kt=b.prototype=new en();Kt.brighter=function(n){return new b(Math.min(100,this.l+ot*(arguments.length?n:1)),this.a,this.b)};Kt.darker=function(n){return new b(Math.max(0,this.l-ot*(arguments.length?n:1)),this.a,this.b)};Kt.rgb=function(){return Mi(this.l,this.a,this.b)};function Mi(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;i=xe(i)*Ur;r=xe(r)*jr;u=xe(u)*Fr;return new d(be(3.2404542*i-1.5371385*r-.4985314*u),be(-.969266*i+1.8760108*r+.041556*u),be(.0556434*i-.2040259*r+1.0572252*u))};function xi(n,t,e){return n>0?new w(Math.atan2(e,t)*o,Math.sqrt(t*t+e*e),n):new w(NaN,NaN,n)};function xe(n){return n>.206893034?n*n*n:(n-4/29)/7.787037};function we(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29};function be(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))};n.rgb=d;function d(n,t,e){return this instanceof d?void(this.r=~~n,this.g=~~t,this.b=~~e):arguments.length<2?n instanceof d?new d(n.r,n.g,n.b):bi(''+n,d,ye):new d(n,t,e)};function wi(n){return new d(n>>16,n>>8&255,n&255)};function pt(n){return wi(n)+''};var at=d.prototype=new en();at.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var e=this.r,r=this.g,i=this.b,t=30;if(!e&&!r&&!i)return new d(t,t,t);if(e&&e<t)e=t;if(r&&r<t)r=t;if(i&&i<t)i=t;return new d(Math.min(255,e/n),Math.min(255,r/n),Math.min(255,i/n))};at.darker=function(n){n=Math.pow(.7,arguments.length?n:1);return new d(n*this.r,n*this.g,n*this.b)};at.hsl=function(){return Si(this.r,this.g,this.b)};at.toString=function(){return'#'+vn(this.r)+vn(this.g)+vn(this.b)};function vn(n){return n<16?'0'+Math.max(0,n).toString(16):Math.min(255,n).toString(16)};function bi(n,t,e){var u=0,a=0,o=0,l,i,r;l=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase());if(l){i=l[2].split(',');switch(l[1]){case'hsl':{return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100)};case'rgb':{return t(ke(i[0]),ke(i[1]),ke(i[2]))}}};if(r=ut.get(n)){return t(r.r,r.g,r.b)};if(n!=null&&n.charAt(0)==='#'&&!isNaN(r=parseInt(n.slice(1),16))){if(n.length===4){u=(r&3840)>>4;u=u>>4|u;a=r&240;a=a>>4|a;o=r&15;o=o<<4|o}
else if(n.length===7){u=(r&16711680)>>16;a=(r&65280)>>8;o=r&255}};return t(u,a,o)};function Si(n,t,e){var a=Math.min(n/=255,t/=255,e/=255),i=Math.max(n,t,e),u=i-a,r,l,o=(i+a)/2;if(u){l=o<.5?u/(i+a):u/(2-i-a);if(n==i)r=(t-e)/u+(t<e?6:0);else if(t==i)r=(e-n)/u+2;else r=(n-t)/u+4;r*=60}
else{r=NaN;l=o>0&&o<1?0:r};return new E(r,l,o)};function ki(n,t,e){n=Se(n);t=Se(t);e=Se(e);var i=we((.4124564*n+.3575761*t+.1804375*e)/Ur),r=we((.2126729*n+.7151522*t+.072175*e)/jr),u=we((.0193339*n+.119192*t+.9503041*e)/Fr);return b(116*r-16,500*(i-r),200*(r-u))};function Se(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)};function ke(n){var t=parseFloat(n);return n.charAt(n.length-1)==='%'?Math.round(t*2.55):t};var ut=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ut.forEach(function(n,t){ut.set(n,wi(t))});function a(n){return typeof n==='function'?n:function(){return n}};n.functor=a;n.xhr=Ne(h);function Ne(n){return function(t,e,r){if(arguments.length===2&&typeof e==='function')r=e,e=null;return vt(t,e,n,r)}};function vt(t,e,r,i){var u={},l=n.dispatch('beforesend','progress','load','error'),o={},a=new XMLHttpRequest(),f=null;if(this.XDomainRequest&&!('withCredentials' in a)&&/^(http(s)?:)?\/\//.test(t))a=new XDomainRequest();'onload' in a?a.onload=a.onerror=s:a.onreadystatechange=function(){a.readyState>3&&s()};function s(){var n=a.status,e;if(!n&&Za(a)||n>=200&&n<300||n===304){try{e=r.call(u,a)}catch(t){l.error.call(u,t);return};l.load.call(u,e)}
else{l.error.call(u,a)}};a.onprogress=function(t){var e=n.event;n.event=t;try{l.progress.call(u,a)}finally{n.event=e}};u.header=function(n,t){n=(n+'').toLowerCase();if(arguments.length<2)return o[n];if(t==null)delete o[n];else o[n]=t+'';return u};u.mimeType=function(n){if(!arguments.length)return e;e=n==null?null:n+'';return u};u.responseType=function(n){if(!arguments.length)return f;f=n;return u};u.response=function(n){r=n;return u};['get','post'].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(N(arguments)))}});u.send=function(n,r,i){if(arguments.length===2&&typeof r==='function')i=r,r=null;a.open(n,t,!0);if(e!=null&&!('accept' in o))o['accept']=e+',*/*';if(a.setRequestHeader)for(var s in o)a.setRequestHeader(s,o[s]);if(e!=null&&a.overrideMimeType)a.overrideMimeType(e);if(f!=null)a.responseType=f;if(i!=null)u.on('error',i).on('load',function(n){i(null,n)});l.beforesend.call(u,a);a.send(r==null?null:r);return u};u.abort=function(){a.abort();return u};n.rebind(u,l,'on');return i==null?u:u.get(Ya(i))};function Ya(n){return n.length===1?function(t,e){n(t==null?e:null)}:n};function Za(n){var t=n.responseType;return t&&t!=='text'?n.response:n.responseText};n.dsv=function(n,t){var a=new RegExp('["'+n+'\n]'),o=n.charCodeAt(0);function e(n,e,r){if(arguments.length<3)r=e,e=null;var a=vt(n,t,e==null?i:u(e),r);a.row=function(n){return arguments.length?a.response((e=n)==null?i:u(n)):e};return a};function i(n){return e.parse(n.responseText)};function u(n){return function(t){return e.parse(t.responseText,n)}};e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function('d','return {'+n.map(function(n,t){return JSON.stringify(n)+': d['+t+']'}).join(',')+'}');r=t?function(n,e){return t(i(n),e)}:i})};e.parseRows=function(n,t){var f={},a={},s=[],l=n.length,e=0,h=0,i,r;function c(){if(e>=l)return a;if(r)return r=!1,f;var u=e;if(n.charCodeAt(u)===34){var t=u;while(t++<l){if(n.charCodeAt(t)===34){if(n.charCodeAt(t+1)!==34)break;++t}};e=t+2;var i=n.charCodeAt(t+1);if(i===13){r=!0;if(n.charCodeAt(t+2)===10)++e}
else if(i===10){r=!0};return n.slice(u+1,t).replace(/""/g,'"')}
while(e<l){var i=n.charCodeAt(e++),s=1;if(i===10)r=!0;else if(i===13){r=!0;if(n.charCodeAt(e)===10)++e,++s}
else if(i!==o)continue;return n.slice(u,e-s)};return n.slice(u)}
while((i=c())!==a){var u=[];while(i!==f&&i!==a){u.push(i);i=c()};if(t&&(u=t(u,h++))==null)continue;s.push(u)};return s};e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var u=new fe(),i=[];t.forEach(function(n){for(var t in n){if(!u.has(t)){i.push(u.add(t))}}});return[i.map(r).join(n)].concat(t.map(function(t){return i.map(function(n){return r(t[n])}).join(n)})).join('\n')};e.formatRows=function(n){return n.map(l).join('\n')};function l(t){return t.map(r).join(n)};function r(n){return a.test(n)?'"'+n.replace(/"/g,'""')+'"':n};return e};n.csv=n.dsv(',','text/csv');n.tsv=n.dsv(' ','text/tab-separated-values');var tt,et,rt,it,Pr=this[se(this,'requestAnimationFrame')]||function(n){setTimeout(n,17)};n.timer=function(){dt.apply(this,arguments)};function dt(n,t,e){var i=arguments.length;if(i<2)t=0;if(i<3)e=Date.now();var u=e+t,r={c:n,t:u,n:null};if(et)et.n=r;else tt=r;et=r;if(!rt){it=clearTimeout(it);rt=1;Pr(Ee)};return r};function Ee(){var t=Ni(),n=Ei()-t;if(n>24){if(isFinite(n)){clearTimeout(it);it=setTimeout(Ee,n)};rt=0}
else{rt=1;Pr(Ee)}};n.timer.flush=function(){Ni();Ei()};function Ni(){var t=Date.now(),n=tt;while(n){if(t>=n.t&&n.c(t-n.t))n.c=null;n=n.n};return t};function Ei(){var t,n=tt,e=Infinity;while(n){if(n.c){if(n.t<e)e=n.t;n=(t=n).n}
else{n=t?t.n=n.n:tt=n.n}};et=t;return e};function Ae(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)};n.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var ka=['y','z','a','f','p','n','','m','','k','M','G','T','P','E','Z','Y'].map(Va);n.formatPrefix=function(t,e){var r=0;if(t=+t){if(t<0)t*=-1;if(e)t=n.round(t,Ae(t,e));r=1+Math.floor(1e-12+Math.log(t)/Math.LN10);r=Math.max(-24,Math.min(24,Math.floor((r-1)/3)*3))};return ka[8+r/3]};function Va(n,t){var e=Math.pow(10,r(8-t)*3);return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}};function Xa(t){var a=t.decimal,r=t.thousands,e=t.grouping,i=t.currency,u=e&&r?function(n,t){var u=n.length,o=[],l=0,i=e[0],a=0;while(u>0&&i>0){if(a+i+1>t)i=Math.max(1,t-a);o.push(n.substring(u-=i,u+i));if((a+=i+1)>t)break;i=e[l=(l+1)%e.length]};return o.reverse().join(r)}:h;return function(t){var o=Ir.exec(t),p=o[1]||' ',l=o[2]||'>',m=o[3]||'-',y=o[4]||'',c=o[5],v=+o[6],d=o[7],r=o[8],e=o[9],f=1,h='',s='',M=!1,x=!0;if(r)r=+r.substring(1);if(c||p==='0'&&l==='='){c=p='0';l='='};switch(e){case'n':d=!0;e='g';break;case'%':f=100;s='%';e='f';break;case'p':f=100;s='%';e='r';break;case'b':case'o':case'x':case'X':if(y==='#')h='0'+e.toLowerCase();case'c':x=!1;case'd':M=!0;r=0;break;case's':f=-1;e='r';break};if(y==='$')h=i[0],s=i[1];if(e=='r'&&!r)e='g';if(r!=null){if(e=='g')r=Math.max(1,Math.min(21,r));else if(e=='e'||e=='f')r=Math.max(0,Math.min(20,r))};e=Sa.get(e)||Ba;var g=c&&d;return function(t){var E=s;if(M&&t%1)return'';var w=t<0||t===0&&1/t<0?(t=-t,'-'):m==='-'?'':m;if(f<0){var N=n.formatPrefix(t,r);t=N.scale(t);E=N.symbol+s}
else{t*=f};t=e(t,r);var k=t.lastIndexOf('.'),i,y;if(k<0){var S=x?t.lastIndexOf('e'):-1;if(S<0)i=t,y='';else i=t.substring(0,S),y=t.substring(S)}
else{i=t.substring(0,k);y=a+t.substring(k+1)};if(!c&&d)i=u(i,Infinity);var b=h.length+i.length+y.length+(g?0:w.length),o=b<v?new Array(b=v-b+1).join(p):'';if(g)i=u(o+i,o.length?v-y.length:Infinity);w+=h;t=i+y;return(l==='<'?w+t+o:l==='>'?o+w+t:l==='^'?o.substring(0,b>>=1)+w+t+o.substring(b):w+(g?t:o+t))+E}}};var Ir=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Sa=n.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(t,e){return(t=n.round(t,Ae(t,e))).toFixed(Math.max(0,Math.min(20,Ae(t*(1+1e-15),e))))}});function Ba(n){return n+''};var t=n.time={},g=Date;function D(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])};D.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){z.setUTCDate.apply(this._,arguments)},setDay:function(){z.setUTCDay.apply(this._,arguments)},setFullYear:function(){z.setUTCFullYear.apply(this._,arguments)},setHours:function(){z.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){z.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){z.setUTCMinutes.apply(this._,arguments)},setMonth:function(){z.setUTCMonth.apply(this._,arguments)},setSeconds:function(){z.setUTCSeconds.apply(this._,arguments)},setTime:function(){z.setTime.apply(this._,arguments)}};var z=Date.prototype;function rn(n,t,e){function a(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r};function i(e){t(e=n(new g(e-1)),1);return e};function u(n,e){t(n=new g(+n),e);return n};function o(n,r,u){var a=i(n),o=[];if(u>1){while(a<r){if(!(e(a)%u))o.push(new Date(+a));t(a,1)}}
else{while(a<r)o.push(new Date(+a)),t(a,1)};return o};function l(n,t,e){try{g=D;var r=new D();r._=n;return o(r,t,e)}finally{g=Date}};n.floor=n;n.round=a;n.ceil=i;n.offset=u;n.range=o;var r=n.utc=mt(n);r.floor=r;r.round=mt(a);r.ceil=mt(i);r.offset=mt(u);r.range=l;return n};function mt(n){return function(t,e){try{g=D;var r=new D();r._=t;return n(r,e)._}finally{g=Date}}};t.year=rn(function(n){n=t.day(n);n.setMonth(0,1);return n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()});t.years=t.year.range;t.years.utc=t.year.utc.range;t.day=rn(function(n){var t=new g(2e3,0);t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());return t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1});t.days=t.day.range;t.days.utc=t.day.utc.range;t.dayOfYear=function(n){var e=t.year(n);return Math.floor((n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5)};['sunday','monday','tuesday','wednesday','thursday','friday','saturday'].forEach(function(n,e){e=7-e;var r=t[n]=rn(function(n){(n=t.day(n)).setDate(n.getDate()-(n.getDay()+e)%7);return n},function(n,t){n.setDate(n.getDate()+Math.floor(t)*7)},function(n){var r=t.year(n).getDay();return Math.floor((t.dayOfYear(n)+(r+e)%7)/7)-(r!==e)});t[n+'s']=r.range;t[n+'s'].utc=r.utc.range;t[n+'OfYear']=function(n){var r=t.year(n).getDay();return Math.floor((t.dayOfYear(n)+(r+e)%7)/7)}});t.week=t.sunday;t.weeks=t.sunday.range;t.weeks.utc=t.sunday.utc.range;t.weekOfYear=t.sundayOfYear;function Wa(e){var S=e.dateTime,k=e.date,N=e.time,m=e.periods,a=e.days,o=e.shortDays,l=e.months,f=e.shortMonths;function r(n){var e=n.length;function t(t){var a=[],r=-1,o=0,u,l,f;while(++r<e){if(n.charCodeAt(r)===37){a.push(n.slice(o,r));if((l=Rr[u=n.charAt(++r)])!=null)u=n.charAt(++r);if(f=i[u])u=f(t,l==null?u==='e'?' ':'0':l);a.push(u);o=r+1}};a.push(n.slice(o,r));return a.join('')};t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=u(e,n,t,0);if(a!=t.length)return null;if('p' in e)e.H=e.H%12+e.p*12;var i=e.Z!=null&&g!==D,r=new(i?D:g)();if('j' in e)r.setFullYear(e.y,0,e.j);else if('W' in e||'U' in e){if(!('w' in e))e.w='W' in e?1:0;r.setFullYear(e.y,0,1);r.setFullYear(e.y,0,'W' in e?(e.w+6)%7+e.W*7-(r.getDay()+5)%7:e.w+e.U*7-(r.getDay()+6)%7)}
else r.setFullYear(e.y,e.m,e.d);r.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L);return i?r._:r};t.toString=function(){return n};return t};function u(n,t,e,r){var u,a,o,i=0,l=t.length,f=e.length;while(i<l){if(r>=f)return-1;u=t.charCodeAt(i++);if(u===37){o=t.charAt(i++);a=y[o in Rr?t.charAt(i++):o];if(!a||(r=a(n,e,r))<0)return-1}
else if(u!=e.charCodeAt(r++)){return-1}};return r};r.utc=function(n){var t=r(n);function e(n){try{g=D;var e=new g();e._=n;return t(e)}finally{g=Date}};e.parse=function(n){try{g=D;var e=t.parse(n);return e&&e._}finally{g=Date}};e.toString=t.toString;return e};r.multi=r.utc.multi=so;var s=n.map(),c=yt(a),M=Mt(a),h=yt(o),x=Mt(o),p=yt(l),w=Mt(l),d=yt(f),b=Mt(f);m.forEach(function(n,t){s.set(n.toLowerCase(),t)});var i={a:function(n){return o[n.getDay()]},A:function(n){return a[n.getDay()]},b:function(n){return f[n.getMonth()]},B:function(n){return l[n.getMonth()]},c:r(S),d:function(n,t){return v(n.getDate(),t,2)},e:function(n,t){return v(n.getDate(),t,2)},H:function(n,t){return v(n.getHours(),t,2)},I:function(n,t){return v(n.getHours()%12||12,t,2)},j:function(n,e){return v(1+t.dayOfYear(n),e,3)},L:function(n,t){return v(n.getMilliseconds(),t,3)},m:function(n,t){return v(n.getMonth()+1,t,2)},M:function(n,t){return v(n.getMinutes(),t,2)},p:function(n){return m[+(n.getHours()>=12)]},S:function(n,t){return v(n.getSeconds(),t,2)},U:function(n,e){return v(t.sundayOfYear(n),e,2)},w:function(n){return n.getDay()},W:function(n,e){return v(t.mondayOfYear(n),e,2)},x:r(k),X:r(N),y:function(n,t){return v(n.getFullYear()%100,t,2)},Y:function(n,t){return v(n.getFullYear()%1e4,t,4)},Z:lo,'%':function(){return'%'}};var y={a:E,A:A,b:C,B:z,c:L,d:Ai,e:Ai,H:Ci,I:Ci,j:io,L:oo,m:ro,M:uo,p:R,S:ao,U:Ga,w:Ja,W:Ka,x:q,X:T,y:no,Y:Qa,Z:to,'%':fo};function E(n,t,e){h.lastIndex=0;var r=h.exec(t.slice(e));return r?(n.w=x.get(r[0].toLowerCase()),e+r[0].length):-1};function A(n,t,e){c.lastIndex=0;var r=c.exec(t.slice(e));return r?(n.w=M.get(r[0].toLowerCase()),e+r[0].length):-1};function C(n,t,e){d.lastIndex=0;var r=d.exec(t.slice(e));return r?(n.m=b.get(r[0].toLowerCase()),e+r[0].length):-1};function z(n,t,e){p.lastIndex=0;var r=p.exec(t.slice(e));return r?(n.m=w.get(r[0].toLowerCase()),e+r[0].length):-1};function L(n,t,e){return u(n,i.c.toString(),t,e)};function q(n,t,e){return u(n,i.x.toString(),t,e)};function T(n,t,e){return u(n,i.X.toString(),t,e)};function R(n,t,e){var r=s.get(t.slice(e,e+=2).toLowerCase());return r==null?-1:(n.p=r,e)};return r};var Rr={'-':'',_:' ','0':'0'},l=/^\s*\d+/,Dr=/^%/;function v(n,t,e){var i=n<0?'-':'',r=(i?-n:n)+'',u=r.length;return i+(u<e?new Array(e-u+1).join(t)+r:r)};function yt(t){return new RegExp('^(?:'+t.map(n.requote).join('|')+')','i')};function Mt(n){var e=new T(),t=-1,r=n.length;while(++t<r)e.set(n[t].toLowerCase(),t);return e};function Ja(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1};function Ga(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1};function Ka(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1};function Qa(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1};function no(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+2));return r?(n.y=eo(+r[0]),e+r[0].length):-1};function to(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1};function eo(n){return n+(n>68?1900:2e3)};function ro(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1};function Ai(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1};function io(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1};function Ci(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1};function uo(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1};function ao(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1};function oo(n,t,e){l.lastIndex=0;var r=l.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1};function lo(n){var t=n.getTimezoneOffset(),e=t>0?'-':'+',i=r(t)/60|0,u=r(t)%60;return e+v(i,'0',2)+v(u,'0',2)};function fo(n,t,e){Dr.lastIndex=0;var r=Dr.exec(t.slice(e,e+1));return r?e+r[0].length:-1};function so(n){var e=n.length,t=-1;while(++t<e)n[t][0]=this(n[t][0]);return function(t){var r=0,e=n[r];while(!e[1](t))e=n[++r];return e[0](t)}};n.locale=function(n){return{numberFormat:Xa(n),timeFormat:Wa(n)}};var Tr=n.locale({decimal:'.',thousands:',',grouping:[3],currency:['$',''],dateTime:'%a %b %e %X %Y',date:'%m/%d/%Y',time:'%H:%M:%S',periods:['AM','PM'],days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],shortDays:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']});n.format=Tr.numberFormat;n.geo={};function Ce(){};Ce.prototype={s:0,t:0,add:function(n){zi(n,this.t,nt);zi(nt.s,this.s,this);if(this.s)this.t+=nt.t;else this.s=nt.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var nt=new Ce();function zi(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)};n.geo.stream=function(n,t){if(n&&qr.hasOwnProperty(n.type)){qr[n.type](n,t)}
else{xt(n,t)}};function xt(n,t){if(n&&Lr.hasOwnProperty(n.type)){Lr[n.type](n,t)}};var qr={Feature:function(n,t){xt(n.geometry,t)},FeatureCollection:function(n,t){var e=n.features,r=-1,i=e.length;while(++r<i)xt(e[r].geometry,t)}};var Lr={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates;t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){ze(n.coordinates,t,0)},MultiLineString:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)ze(e[r],t,0)},Polygon:function(n,t){Li(n.coordinates,t)},MultiPolygon:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)Li(e[r],t)},GeometryCollection:function(n,t){var e=n.geometries,r=-1,i=e.length;while(++r<i)xt(e[r],t)}};function ze(n,t,e){var i=-1,u=n.length-e,r;t.lineStart();while(++i<u)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()};function Li(n,t){var e=-1,r=n.length;t.polygonStart();while(++e<r)ze(n[e],t,1);t.polygonEnd()};n.geo.area=function(t){Qn=0;n.geo.stream(t,m);return Qn};var Qn,Q=new Ce(),m={sphere:function(){Qn+=4*},point:s,lineStart:s,lineEnd:s,polygonStart:function(){Q.reset();m.lineStart=co},polygonEnd:function(){var n=2*Q;Qn+=n<0?4*+n:n;m.lineStart=m.lineEnd=m.point=s}};function co(){var 00,00,0,t0,r0;m.point=function(,){m.point=n;0=(00=)*e,t0=Math.cos(=(00=)*e/2+/4),r0=Math.sin()};function n(,){*=e;=*e/2+/4;var u=-0,a=u>=0?1:-1,o=a*u,r=Math.cos(),i=Math.sin(),l=i0*i,f=r0*r+l*Math.cos(o),s=l*a*Math.sin(o);Q.add(Math.atan2(s,f));0=,r0=r,i0=i};m.lineEnd=function(){n(00,00)}};function un(n){var =n[0],=n[1],t=Math.cos();return[t*Math.cos(),t*Math.sin(),Math.sin()]};function wt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]};function dn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]};function Le(n,t){n[0]+=t[0];n[1]+=t[1];n[2]+=t[2]};function bt(n,t){return[n[0]*t,n[1]*t,n[2]*t]};function St(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t;n[1]/=t;n[2]/=t};function kt(n){return[Math.atan2(n[1],n[0]),X(n[2])]};function Nt(n,t){return r(n[0]-t[0])<&&r(n[1]-t[1])<};n.geo.bounds=function(){var 0,0,1,1,_,__,__,f,sSum,l,a,u={point:c,lineStart:g,lineEnd:p,polygonStart:function(){u.point=v;u.lineStart=y;u.lineEnd=M;sSum=0;m.polygonStart()},polygonEnd:function(){m.polygonEnd();u.point=c;u.lineStart=g;u.lineEnd=p;if(Q<0)0=-(1=180),0=-(1=90);else if(sSum>)1=90;else if(sSum<-)0=-90;a[0]=0,a[1]=1}};function c(,){l.push(a=[0=,1=]);if(<0)0=;if(>1)1=};function h(,){var p=un([*e,*e]);if(f){var h=dn(f,p),v=[h[1],-h[0],0],a=dn(v,h);St(a);a=kt(a);var g=-_,l=g>0?1:-1,i=a[0]*o*l,s=r(g)>180;if(s^(l*_<i&&i<l*)){var i=a[1]*o;if(i>1)1=i}
else if(i=(i+360)%360-180,s^(l*_<i&&i<l*)){var i=-a[1]*o;if(i<0)0=i}
else{if(<0)0=;if(>1)1=};if(s){if(<_){if(t(0,)>t(0,1))1=}
else{if(t(,1)>t(0,1))0=}}
else{if(1>=0){if(<0)0=;if(>1)1=}
else{if(>_){if(t(0,)>t(0,1))1=}
else{if(t(,1)>t(0,1))0=}}}}
else{c(,)};f=p,_=};function g(){u.point=h};function p(){a[0]=0,a[1]=1;u.point=c;f=null};function v(,){if(f){var e=-_;eSum+=r(e)>180?e+(e>0?360:-360):e}
else __=,__=;m.point(,);h(,)};function y(){m.lineStart()};function M(){v(__,__);m.lineEnd();if(r(sSum)>)0=-(1=180);a[0]=0,a[1]=1;f=null};function t(0,1){return(1-=0)<0?1+360:1};function x(n,t){return n[0]-t[0]};function d(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n};return function(e){1=1=-(0=0=Infinity);l=[];n.geo.stream(e,u);var f=l.length;if(f){l.sort(x);for(var o=1,r=l[0],i,s=[r];o<f;++o){i=l[o];if(d(i[0],r)||d(i[1],r)){if(t(r[0],i[1])>t(r[0],r[1]))r[1]=i[1];if(t(i[0],r[1])>t(r[0],r[1]))r[0]=i[0]}
else{s.push(r=i)}};var c=-Infinity,h;for(var f=s.length-1,o=0,r=s[f],i;o<=f;r=i,++o){i=s[o];if((h=t(r[1],i[0]))>c)c=h,0=i[0],1=r[1]}};l=a=null;return 0===Infinity||0===Infinity?[[NaN,NaN],[NaN,NaN]]:[[0,0],[1,1]]}}();n.geo.centroid=function(t){kn=Kn=G=K=C=F=H=k=hn=gn=O=0;n.geo.stream(t,x);var e=hn,r=gn,i=O,u=e*e+r*r+i*i;if(u<2){e=F,r=H,i=k;if(Kn<)e=G,r=K,i=C;u=e*e+r*r+i*i;if(u<2)return[NaN,NaN]};return[Math.atan2(r,e)*o,X(i/Math.sqrt(u))*o]};var kn,Kn,G,K,C,F,H,k,hn,gn,O,x={sphere:s,point:qe,lineStart:qi,lineEnd:Ti,polygonStart:function(){x.lineStart=ho},polygonEnd:function(){x.lineStart=qi}};function qe(,){*=e;var r=Math.cos(*=e);En(r*Math.cos(),r*Math.sin(),Math.sin())};function En(n,t,e){++kn;G+=(n-G)/kn;K+=(t-K)/kn;C+=(e-C)/kn};function qi(){var n,t,r;x.point=function(,){*=e;var o=Math.cos(*=e);n=o*Math.cos();t=o*Math.sin();r=Math.sin();x.point=i;En(n,t,r)};function i(,){*=e;var s=Math.cos(*=e),o=s*Math.cos(),l=s*Math.sin(),f=Math.sin(),a=Math.atan2(Math.sqrt((a=t*f-r*l)*a+(a=r*o-n*f)*a+(a=n*l-t*o)*a),n*o+t*l+r*f);Kn+=a;F+=a*(n+(n=o));H+=a*(t+(t=l));k+=a*(r+(r=f));En(n,t,r)}};function Ti(){x.point=qe};function ho(){var 00,00,n,t,r;x.point=function(,){00=,00=;x.point=i;*=e;var o=Math.cos(*=e);n=o*Math.cos();t=o*Math.sin();r=Math.sin();En(n,t,r)};x.lineEnd=function(){i(00,00);x.lineEnd=Ti;x.point=qe};function i(,){*=e;var v=Math.cos(*=e),a=v*Math.cos(),o=v*Math.sin(),l=Math.sin(),s=t*l-r*o,c=r*a-n*l,h=n*o-t*a,g=Math.sqrt(s*s+c*c+h*h),d=n*a+t*o+r*l,p=g&&-di(d)/g,f=Math.atan2(g,d);hn+=p*s;gn+=p*c;O+=p*h;Kn+=f;F+=f*(n+(n=a));H+=f*(t+(t=o));k+=f*(r+(r=l));En(n,t,r)}};function Ri(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])};if(n.invert&&t.invert)e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])};return e};function An(){return!0};function Di(n,t,e,r,u){var f=[],l=[];n.forEach(function(n){if((a=n.length-1)<=0)return;var a,r=n[0],o=n[a];if(Nt(r,o)){u.lineStart();for(var i=0;i<a;++i)u.point((r=n[i])[0],r[1]);u.lineEnd();return};var t=new Et(r,n,null,!0),e=new Et(r,null,t,!1);t.o=e;f.push(t);l.push(e);t=new Et(o,n,null,!1);e=new Et(o,null,t,!0);t.o=e;f.push(t);l.push(e)});l.sort(t);Ii(f);Ii(l);if(!f.length)return;for(var a=0,p=e,h=l.length;a<h;++a){l[a].e=p=!p};var g=f[0],o,c;while(1){var i=g,s=!0;while(i.v)if((i=i.n)===g)return;o=i.z;u.lineStart();do{i.v=i.o.v=!0;if(i.e){if(s){for(var a=0,h=o.length;a<h;++a)u.point((c=o[a])[0],c[1])}
else{r(i.x,i.n.x,1,u)};i=i.n}
else{if(s){o=i.p.z;for(var a=o.length-1;a>=0;--a)u.point((c=o[a])[0],c[1])}
else{r(i.x,i.p.x,-1,u)};i=i.p};i=i.o;o=i.z;s=!s}
while(!i.v);u.lineEnd()}};function Ii(n){if(!(r=n.length))return;var r,i=0,t=n[0],e;while(++i<r){t.n=e=n[i];e.p=t;t=e};t.n=e=n[0];e.p=t};function Et(n,t,e,r){this.x=n;this.z=t;this.o=e;this.e=r;this.v=!1;this.n=this.p=null};function Pi(t,e,r,i){return function(u,a){var g=e(a),M=u.invert(i[0],i[1]),o={point:p,lineStart:d,lineEnd:m,polygonStart:function(){o.point=y;o.lineStart=w;o.lineEnd=b;f=[];h=[]},polygonEnd:function(){o.point=p;o.lineStart=d;o.lineEnd=m;f=n.merge(f);var t=Mo(M,h);if(f.length){if(!l)a.polygonStart(),l=!0;Di(f,po,t,r,a)}
else if(t){if(!l)a.polygonStart(),l=!0;a.lineStart();r(null,null,1,a);a.lineEnd()};if(l)a.polygonEnd(),l=!1;f=h=null},sphere:function(){a.polygonStart();a.lineStart();r(null,null,1,a);a.lineEnd();a.polygonEnd()}};function p(,){var r=u(,);if(t(=r[0],=r[1]))a.point(,)};function x(,){var e=u(,);g.point(e[0],e[1])};function d(){o.point=x;g.lineStart()};function m(){o.point=p;g.lineEnd()};var f,v=Ui(),c=e(v),l=!1,h,s;function y(,){s.push([,]);var e=u(,);c.point(e[0],e[1])};function w(){c.lineStart();s=[]};function b(){y(s[0][0],s[0][1]);c.lineEnd();var u=c.clean(),n=v.buffer(),e,t=n.length;s.pop();h.push(s);s=null;if(!t)return;if(u&1){e=n[0];var t=e.length-1,r=-1,i;if(t>0){if(!l)a.polygonStart(),l=!0;a.lineStart();while(++r<t)a.point((i=e[r])[0],i[1]);a.lineEnd()};return};if(t>1&&u&2)n.push(n.pop().concat(n.shift()));f.push(n.filter(go))};return o}};function go(n){return n.length>1};function Ui(){var n=[],t;return{lineStart:function(){n.push(t=[])},point:function(,){t.push([,])},lineEnd:s,buffer:function(){var e=n;n=[];t=null;return e},rejoin:function(){if(n.length>1)n.push(n.pop().concat(n.shift()))}}};function po(n,t){return((n=n.x)[0]<0?n[1]-f-:f-n[1])-((t=t.x)[0]<0?t[1]-f-:f-t[1])};var zr=Pi(An,vo,yo,[-,-/2]);function vo(n){var 0=NaN,0=NaN,e0=NaN,t;return{lineStart:function(){n.lineStart();t=1},point:function(1,1){var u1=1>0?:-,a=r(1-0);if(r(a-)<){n.point(0,0=(0+1)/2>0?f:-f);n.point(u0,0);n.lineEnd();n.lineStart();n.point(u1,0);n.point(1,0);t=0}
else if(u0!==u1&&a>=){if(r(0-u0)<)0-=u0*;if(r(1-u1)<)1-=u1*;0=mo(0,0,1,1);n.point(u0,0);n.lineEnd();n.lineStart();n.point(u1,0);t=0};n.point(0=1,0=1);u0=u1},lineEnd:function(){n.lineEnd();0=0=NaN},clean:function(){return 2-t}}};function mo(0,0,1,1){var u0,u1,a0_1=Math.sin(0-1);return r(a0_1)>?Math.atan((Math.sin(0)*(u1=Math.cos(1))*Math.sin(1)-Math.sin(1)*(u0=Math.cos(0))*Math.sin(0))/(u0*u1*a0_1)):(0+1)/2};function yo(n,t,e,i){var ;if(n==null){=e*f;i.point(-,);i.point(0,);i.point(,);i.point(,0);i.point(,-);i.point(0,-);i.point(-,-);i.point(-,0);i.point(-,)}
else if(r(n[0]-t[0])>){var u=n[0]<t[0]?:-;=e*u/2;i.point(-u,);i.point(0,);i.point(u,)}
else{i.point(t[0],t[1])}};function Mo(n,t){var f=n[0],y=n[1],w=[Math.sin(f),-Math.cos(f),0],p=0,M=0;Q.reset();for(var g=0,x=t.length;g<x;++g){var h=t[g],m=h.length;if(!m)continue;var o=h[0],0=o[0],0=o[1]/2+/4,i0=Math.sin(0),u0=Math.cos(0),l=1;while(!0){if(l===m)l=0;n=h[l];var =n[0],=n[1]/2+/4,i=Math.sin(),u=Math.cos(),r=-0,s=r>=0?1:-1,c=s*r,a=c>,d=i0*i;Q.add(Math.atan2(d*s*Math.sin(c),u0*u+d*Math.cos(c)));p+=a?r+s*:r;if(a^0>=f^>=f){var e=dn(un(o),un(n));St(e);var v=dn(w,e);St(v);var e=(a^r>=0?-1:1)*X(v[2]);if(y>e||y===e&&(e[0]||e[1])){M+=a^r>=0?1:-1}};if(!l++)break;0=,i0=i,u0=u,o=n}};return(p<-||p<&&Q<-)^M&1};function xo(n){var t=Math.cos(n),i=t>0,l=r(t)>,f=De(n,6*e);return Pi(a,s,f,i?[0,-n]:[-,n-]);function a(,){return Math.cos()*Math.cos()>t};function s(n){var t,s,e,f,r;return{lineStart:function(){f=e=!1;r=1},point:function(,){var g=[,],p,v=a(,),m=i?v?0:o(,):v?o(+(<0?:-),):0;if(!t&&(f=e=v))n.lineStart();if(v!==e){p=u(t,g);if(Nt(t,p)||Nt(g,p)){g[0]+=;g[1]+=;v=a(g[0],g[1])}};if(v!==e){r=0;if(v){n.lineStart();p=u(g,t);n.point(p[0],p[1])}
else{p=u(t,g);n.point(p[0],p[1]);n.lineEnd()};t=p}
else if(l&&t&&i^v){var d;if(!(m&s)&&(d=u(g,t,!0))){r=0;if(i){n.lineStart();n.point(d[0][0],d[0][1]);n.point(d[1][0],d[1][1]);n.lineEnd()}
else{n.point(d[1][0],d[1][1]);n.lineEnd();n.lineStart();n.point(d[0][0],d[0][1])}}};if(v&&(!t||!Nt(t,g))){n.point(g[0],g[1])};t=g,e=v,s=m},lineEnd:function(){if(e)n.lineEnd();t=null},clean:function(){return r|(f&&e)<<1}}};function u(n,e,i){var N=un(n),E=un(e),y=[1,0,0],l=dn(N,E),M=wt(l,l),g=l[0],p=M-g*g;if(!p)return!i&&n;var w=t*M/p,b=-t*g/p,S=dn(y,l),a=bt(y,w),k=bt(l,b);Le(a,k);var o=S,s=wt(a,o),h=wt(o,o),m=s*s-h*(wt(a,a)-1);if(m<0)return;var d=Math.sqrt(m),u=bt(o,(-s-d)/h);Le(u,a);u=kt(u);if(!i)return u;var 0=n[0],1=e[0],0=n[1],1=e[1],f;if(1<0)f=0,0=1,1=f;var =1-0,c=r(-)<,x=c||<;if(!c&&1<0)f=0,0=1,1=f;if(x?c?0+1>0^u[1]<(r(u[0]-0)<?0:1):0<=u[1]&&u[1]<=1:>^(0<=u[0]&&u[0]<=1)){var v=bt(o,(-s+d)/h);Le(v,a);return[u,kt(v)]}};function o(,){var u=i?n:-n,r=0;if(<-u)r|=1;else if(>u)r|=2;if(<-u)r|=4;else if(>u)r|=8;return r}};function ji(n,t,e,r){return function(i){var h=i.a,g=i.b,s=h.x,c=h.y,p=g.x,v=g.y,a=0,o=1,l=p-s,f=v-c,u;u=n-s;if(!l&&u>0)return;u/=l;if(l<0){if(u<a)return;if(u<o)o=u}
else if(l>0){if(u>o)return;if(u>a)a=u};u=e-s;if(!l&&u<0)return;u/=l;if(l<0){if(u>o)return;if(u>a)a=u}
else if(l>0){if(u<a)return;if(u<o)o=u};u=t-c;if(!f&&u>0)return;u/=f;if(f<0){if(u<a)return;if(u<o)o=u}
else if(f>0){if(u>o)return;if(u>a)a=u};u=r-c;if(!f&&u<0)return;u/=f;if(f<0){if(u>o)return;if(u>a)a=u}
else if(f>0){if(u<a)return;if(u<o)o=u};if(a>0)i.a={x:s+a*l,y:c+a*f};if(o<1)i.b={x:s+o*l,y:c+o*f};return i}};var Gn=1e9;n.geo.clipExtent=function(){var t,e,r,i,n,u,a={stream:function(t){if(n)n.valid=!1;n=u(t);n.valid=!0;return n},extent:function(o){if(!arguments.length)return[[t,e],[r,i]];u=Fi(t=+o[0][0],e=+o[0][1],r=+o[1][0],i=+o[1][1]);if(n)n.valid=!1,n=null;return a}};return a.extent([[0,0],[960,500]])};function Fi(t,e,i,u){return function(r){var E=r,d=Ui(),A=ji(t,e,i,u),f,s,m,y={point:k,lineStart:z,lineEnd:L,polygonStart:function(){r=d;f=[];s=[];h=!0},polygonEnd:function(){r=E;f=n.merge(f);var e=C([t,u]),i=h&&e,a=f.length;if(i||a){r.polygonStart();if(i){r.lineStart();b(null,null,1,r);r.lineEnd()};if(a){Di(f,l,e,b,r)};r.polygonEnd()};f=s=m=null}};function C(n){var a=0,f=s.length,o=n[1];for(var u=0;u<f;++u){for(var r=1,i=s[u],l=i.length,e=i[0],t;r<l;++r){t=i[r];if(e[1]<=o){if(t[1]>o&&me(e,t,n)>0)++a}
else{if(t[1]<=o&&me(e,t,n)<0)--a};e=t}};return a!==0};function b(n,r,l,f){var s=0,c=0;if(n==null||(s=a(n,l))!==(c=a(r,l))||o(n,r)<0^l>0){do{f.point(s===0||s===3?t:i,s>1?u:e)}
while((s=(s+l+4)%4)!==c);}
else{f.point(r[0],r[1])}};function S(n,r){return t<=n&&n<=i&&e<=r&&r<=u};function k(n,t){if(S(n,t))r.point(n,t)};var M,x,w,g,p,c,v,h;function z(){y.point=N;if(s)s.push(m=[]);v=!0;c=!1;g=p=NaN};function L(){if(f){N(M,x);if(w&&c)d.rejoin();f.push(d.buffer())};y.point=k;if(c)r.lineEnd()};function N(n,t){n=Math.max(-Gn,Math.min(Gn,n));t=Math.max(-Gn,Math.min(Gn,t));var e=S(n,t);if(s)m.push([n,t]);if(v){M=n,x=t,w=e;v=!1;if(e){r.lineStart();r.point(n,t)}}
else{if(e&&c)r.point(n,t);else{var i={a:{x:g,y:p},b:{x:n,y:t}};if(A(i)){if(!c){r.lineStart();r.point(i.a.x,i.a.y)};r.point(i.b.x,i.b.y);if(!e)r.lineEnd();h=!1}
else if(e){r.lineStart();r.point(n,t);h=!1}}};g=n,p=t,c=e};return y};function a(n,u){return r(n[0]-t)<?u>0?0:3:r(n[0]-i)<?u>0?2:1:r(n[1]-e)<?u>0?1:0:u>0?3:2};function l(n,t){return o(n.x,t.x)};function o(n,t){var e=a(n,1),r=a(t,1);return e!==r?e-r:e===0?t[1]-n[1]:e===1?n[0]-t[0]:e===2?n[1]-t[1]:t[0]-n[0]}};function Te(n){var 0=0,1=/3,t=Re(n),e=t(0,1);e.parallels=function(n){if(!arguments.length)return[0/*180,1/*180];return t(0=n[0]*/180,1=n[1]*/180)};return e};function Hi(0,1){var r0=Math.sin(0),e=(r0+Math.sin(1))/2,i=1+r0*(2*e-r0),0=Math.sqrt(i)/e;function u(,){var =Math.sqrt(i-2*e*Math.sin())/e;return[*Math.sin(*=e),0-*Math.cos()]};u.invert=function(n,t){var 0_y=0-t;return[Math.atan2(n,0_y)/e,X((i-(n*n+0_y*0_y)*e*e)/(2*e))]};return u}(n.geo.conicEqualArea=function(){return Te(Hi)}).raw=Hi;n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};n.geo.albersUsa=function(){var t=n.geo.albers(),r=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i=n.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,a={point:function(n,t){u=[n,t]}},o,l,f;function e(n){var t=n[0],e=n[1];u=null;(o(t,e),u)||(l(t,e),u)||f(t,e);return u};e.invert=function(n){var a=t.scale(),o=t.translate(),e=(n[0]-o[0])/a,u=(n[1]-o[1])/a;return(u>=.12&&u<.234&&e>=-.425&&e<-.214?r:u>=.166&&u<.234&&e>=-.214&&e<-.115?i:t).invert(n)};e.stream=function(n){var e=t.stream(n),u=r.stream(n),a=i.stream(n);return{point:function(n,t){e.point(n,t);u.point(n,t);a.point(n,t)},sphere:function(){e.sphere();u.sphere();a.sphere()},lineStart:function(){e.lineStart();u.lineStart();a.lineStart()},lineEnd:function(){e.lineEnd();u.lineEnd();a.lineEnd()},polygonStart:function(){e.polygonStart();u.polygonStart();a.polygonStart()},polygonEnd:function(){e.polygonEnd();u.polygonEnd();a.polygonEnd()}}};e.precision=function(n){if(!arguments.length)return t.precision();t.precision(n);r.precision(n);i.precision(n);return e};e.scale=function(n){if(!arguments.length)return t.scale();t.scale(n);r.scale(n*.35);i.scale(n);return e.translate(t.translate())};e.translate=function(n){if(!arguments.length)return t.translate();var u=t.scale(),s=+n[0],c=+n[1];o=t.translate(n).clipExtent([[s-.455*u,c-.238*u],[s+.455*u,c+.238*u]]).stream(a).point;l=r.translate([s-.307*u,c+.201*u]).clipExtent([[s-.425*u+,c+.12*u+],[s-.214*u-,c+.234*u-]]).stream(a).point;f=i.translate([s-.205*u,c+.212*u]).clipExtent([[s-.214*u+,c+.166*u+],[s-.115*u-,c+.234*u-]]).stream(a).point;return e};return e.scale(1070)};var Jt,Gt,j={point:s,lineStart:s,lineEnd:s,polygonStart:function(){Gt=0;j.lineStart=wo},polygonEnd:function(){j.lineStart=j.lineEnd=j.point=s;Jt+=r(Gt/2)}};function wo(){var e,r,n,t;j.point=function(u,a){j.point=i;e=n=u,r=t=a};function i(e,r){Gt+=t*e-n*r;n=e,t=r};j.lineEnd=function(){i(e,r)}};var Xn,Bn,Wn,Jn,ba={point:bo,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s};function bo(n,t){if(n<Xn)Xn=n;if(n>Wn)Wn=n;if(t<Bn)Bn=t;if(t>Jn)Jn=t};function So(){var r=Oi(4.5),t=[],n={point:e,lineStart:function(){n.point=u},lineEnd:i,polygonStart:function(){n.lineEnd=o},polygonEnd:function(){n.lineEnd=i;n.point=e},pointRadius:function(t){r=Oi(t);return n},result:function(){if(t.length){var n=t.join('');t=[];return n}}};function e(n,e){t.push('M',n,',',e,r)};function u(e,r){t.push('M',e,',',r);n.point=a};function a(n,e){t.push('L',n,',',e)};function i(){n.point=e};function o(){t.push('Z')};return n};function Oi(n){return'm0,'+n+'a'+n+','+n+' 0 1,1 0,'+-2*n+'a'+n+','+n+' 0 1,1 0,'+2*n+'z'};var M={point:an,lineStart:Yi,lineEnd:Zi,polygonStart:function(){M.lineStart=ko},polygonEnd:function(){M.point=an;M.lineStart=Yi;M.lineEnd=Zi}};function an(n,t){G+=n;K+=t;++C};function Yi(){var n,t;M.point=function(r,i){M.point=e;an(n=r,t=i)};function e(e,r){var u=e-n,a=r-t,i=Math.sqrt(u*u+a*a);F+=i*(n+e)/2;H+=i*(t+r)/2;k+=i;an(n=e,t=r)}};function Zi(){M.point=an};function ko(){var e,r,n,t;M.point=function(u,a){M.point=i;an(e=n=u,r=t=a)};function i(e,r){var u=e-n,a=r-t,i=Math.sqrt(u*u+a*a);F+=i*(n+e)/2;H+=i*(t+r)/2;k+=i;i=t*e-n*r;hn+=i*(n+e);gn+=i*(t+r);O+=i*3;an(n=e,t=r)};M.lineEnd=function(){i(e,r)}};function No(n){var e=4.5,t={point:r,lineStart:function(){t.point=u},lineEnd:i,polygonStart:function(){t.lineEnd=o},polygonEnd:function(){t.lineEnd=i;t.point=r},pointRadius:function(n){e=n;return t},result:s};function r(t,r){n.moveTo(t+e,r);n.arc(t,r,e,0,)};function u(e,r){n.moveTo(e,r);t.point=a};function a(t,e){n.lineTo(t,e)};function i(){t.point=r};function o(){n.closePath()};return t};function Vi(n){var 2=.5,a=Math.cos(30*e),t=16;function u(n){return(t?l:o)(n)};function o(t){return Bi(t,function(e,r){e=n(e,r);t.point(e[0],e[1])})};function l(e){var 00,00,g,p,v,d,m,0,u,a,o,l,f,r={point:y,lineStart:s,lineEnd:h,polygonStart:function(){e.polygonStart();r.lineStart=M},polygonEnd:function(){e.polygonEnd();r.lineStart=s}};function y(t,r){t=n(t,r);e.point(t[0],t[1])};function s(){u=NaN;r.point=c;e.lineStart()};function c(,){var c=un([,]),h=n(,);i(u,a,0,o,l,f,u=h[0],a=h[1],0=,o=c[0],l=c[1],f=c[2],t,e);e.point(u,a)};function h(){r.point=y;e.lineEnd()};function M(){s();r.point=x;r.lineEnd=w};function x(,){c(00=,00=),g=u,p=a,v=o,d=l,m=f;r.point=c};function w(){i(u,a,0,o,l,f,g,p,00,v,d,m,t,e);r.lineEnd=h;h()};return r};function i(t,e,0,o,l,f,c,p,1,M,x,w,b,S){var m=c-t,y=p-e,N=m*m+y*y;if(N>4*2&&b--){var h=o+M,g=l+x,s=f+w,k=Math.sqrt(h*h+g*g+s*s),2=Math.asin(s/=k),2=r(r(s)-1)<||r(0-1)<?(0+1)/2:Math.atan2(g,h),E=n(2,2),v=E[0],d=E[1],A=v-t,C=d-e,z=y*A-m*C;if(z*z/N>2||r((m*A+y*C)/N-.5)>.3||o*M+l*x+f*w<a){i(t,e,0,o,l,f,v,d,2,h/=k,g/=k,s,b,S);S.point(v,d);i(v,d,2,h,g,s,c,p,1,M,x,w,b,S)}}};u.precision=function(n){if(!arguments.length)return Math.sqrt(2);t=(2=n*n)>0&&16;return u};return u};n.geo.path=function(){var e=4.5,a,o,i,r,u;function t(t){if(t){if(typeof e==='function')r.pointRadius(+e.apply(this,arguments));if(!u||!u.valid)u=i(r);n.geo.stream(t,u)};return r.result()};t.area=function(t){Jt=0;n.geo.stream(t,i(j));return Jt};t.centroid=function(t){G=K=C=F=H=k=hn=gn=O=0;n.geo.stream(t,i(M));return O?[hn/O,gn/O]:k?[F/k,H/k]:C?[G/C,K/C]:[NaN,NaN]};t.bounds=function(t){Wn=Jn=-(Xn=Bn=Infinity);n.geo.stream(t,i(ba));return[[Xn,Bn],[Wn,Jn]]};t.projection=function(n){if(!arguments.length)return a;i=(a=n)?n.stream||Eo(n):h;return l()};t.context=function(n){if(!arguments.length)return o;r=(o=n)==null?new So():new No(n);if(typeof e!=='function')r.pointRadius(e);return l()};t.pointRadius=function(n){if(!arguments.length)return e;e=typeof n==='function'?n:(r.pointRadius(+n),+n);return t};function l(){u=null;return t};return t.projection(n.geo.albersUsa()).context(null)};function Eo(n){var t=Vi(function(t,e){return n([t*o,e*o])});return function(n){return Wi(t(n))}};n.geo.transform=function(n){return{stream:function(t){var r=new Xi(t);for(var e in n)r[e]=n[e];return r}}};function Xi(n){this.stream=n};Xi.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Bi(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}};n.geo.projection=B;n.geo.projectionMutator=Re;function B(n){return Re(function(){return n})()};function Re(t){var f,v,c,d=Vi(function(n,t){n=f(n,t);return[n[0]*r+n,t-n[1]*r]}),r=150,a=480,l=250,=0,=0,=0,=0,=0,a,l,m=zr,y=h,g=null,M=null,u;function i(n){n=c(n[0]*e,n[1]*e);return[n[0]*r+a,l-n[1]*r]};function x(n){n=c.invert((n[0]-a)/r,(l-n[1])/r);return n&&[n[0]*o,n[1]*o]};i.stream=function(n){if(u)u.valid=!1;u=Wi(m(v,d(y(n))));u.valid=!0;return u};i.clipAngle=function(n){if(!arguments.length)return g;m=n==null?(g=n,zr):xo((g=+n)*e);return p()};i.clipExtent=function(n){if(!arguments.length)return M;M=n;y=n?Fi(n[0][0],n[0][1],n[1][0],n[1][1]):h;return p()};i.scale=function(n){if(!arguments.length)return r;r=+n;return s()};i.translate=function(n){if(!arguments.length)return[a,l];a=+n[0];l=+n[1];return s()};i.center=function(n){if(!arguments.length)return[*o,*o];=n[0]%360*e;=n[1]%360*e;return s()};i.rotate=function(n){if(!arguments.length)return[*o,*o,*o];=n[0]%360*e;=n[1]%360*e;=n.length>2?n[2]%360*e:0;return s()};n.rebind(i,d,'precision');function s(){c=Ri(v=I(,,),f);var n=f(,);a=a-n[0]*r;l=l+n[1]*r;return p()};function p(){if(u)u.valid=!1,u=null;return i};return function(){f=t.apply(this,arguments);i.invert=f.invert&&x;return s()}};function Wi(n){return Bi(n,function(t,r){n.point(t*e,r*e)})};function Cn(,){return[,]}(n.geo.equirectangular=function(){return B(Cn)}).raw=Cn.invert=Cn;n.geo.rotation=function(n){n=I(n[0]%360*e,n[1]*e,n.length>2?n[2]*e:0);function t(t){t=n(t[0]*e,t[1]*e);return t[0]*=o,t[1]*=o,t};t.invert=function(t){t=n.invert(t[0]*e,t[1]*e);return t[0]*=o,t[1]*=o,t};return t};function Ji(,){return[>?-:<-?+:,]};Ji.invert=Cn;function I(,,){return ?||?Ri(I(),I(,)):I():||?I(,):Ji};function d3_geo_forwardRotation(){return function(,){return +=,[>?-:<-?+:,]}};function I(){var t=d3_geo_forwardRotation();t.invert=d3_geo_forwardRotation(-);return t};function I(,){var i=Math.cos(),e=Math.sin(),i=Math.cos(),e=Math.sin();function r(,){var r=Math.cos(),i=Math.cos()*r,u=Math.sin()*r,a=Math.sin(),o=a*r+i*e;return[Math.atan2(u*r-o*e,i*r-a*e),X(o*r+u*e)]};r.invert=function(,){var r=Math.cos(),i=Math.cos()*r,u=Math.sin()*r,a=Math.sin(),o=a*r-u*e;return[Math.atan2(u*r+a*e,i*r+o*e),X(o*r-i*e)]};return r};n.geo.circle=function(){var t=[0,0],r,i=6,u;function n(){var n=typeof t==='function'?t.apply(this,arguments):t,i=I(-n[0]*e,-n[1]*e,0).invert,r=[];u(null,null,1,{point:function(n,t){r.push(n=i(n,t));n[0]*=o,n[1]*=o}});return{type:'Polygon',coordinates:[r]}};n.origin=function(e){if(!arguments.length)return t;t=e;return n};n.angle=function(t){if(!arguments.length)return r;u=De((r=+t)*e,i*e);return n};n.precision=function(t){if(!arguments.length)return i;u=De(r*e,(i=+t)*e);return n};return n.angle(90)};function De(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,a,o){var s=a*t;if(i!=null){i=Gi(e,i);u=Gi(e,u);if(a>0?i<u:i>u)i+=a*}
else{i=n+a*;u=n-.5*s};for(var f,l=i;a>0?l>u:l<u;l-=s){o.point((f=kt([e,-r*Math.cos(l),-r*Math.sin(l)]))[0],f[1])}}};function Gi(n,t){var e=un(t);e[0]-=n;St(e);var r=di(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-)%(2*Math.PI)};n.geo.distance=function(n,t){var =(t[0]-n[0])*e,0=n[1]*e,1=t[1]*e,i=Math.sin(),r=Math.cos(),i0=Math.sin(0),r0=Math.cos(0),i1=Math.sin(1),r1=Math.cos(1),u;return Math.atan2(Math.sqrt((u=r1*i)*u+(u=r0*i1-i0*r1*r)*u),i0*i1+r0*r1*r)};n.geo.graticule=function(){var o,l,e,i,f,s,u,a,c=10,v=c,h=90,g=360,y,M,d,m,p=2.5;function t(){return{type:'MultiLineString',coordinates:x()}};function x(){return n.range(Math.ceil(i/h)*h,e,h).map(d).concat(n.range(Math.ceil(a/g)*g,u,g).map(m)).concat(n.range(Math.ceil(l/c)*c,o,c).filter(function(n){return r(n%h)>}).map(y)).concat(n.range(Math.ceil(s/v)*v,f,v).filter(function(n){return r(n%g)>}).map(M))};t.lines=function(){return x().map(function(n){return{type:'LineString',coordinates:n}})};t.outline=function(){return{type:'Polygon',coordinates:[d(i).concat(m(u).slice(1),d(e).reverse().slice(1),m(a).reverse().slice(1))]}};t.extent=function(n){if(!arguments.length)return t.minorExtent();return t.majorExtent(n).minorExtent(n)};t.majorExtent=function(n){if(!arguments.length)return[[i,a],[e,u]];i=+n[0][0],e=+n[1][0];a=+n[0][1],u=+n[1][1];if(i>e)n=i,i=e,e=n;if(a>u)n=a,a=u,u=n;return t.precision(p)};t.minorExtent=function(n){if(!arguments.length)return[[l,s],[o,f]];l=+n[0][0],o=+n[1][0];s=+n[0][1],f=+n[1][1];if(l>o)n=l,l=o,o=n;if(s>f)n=s,s=f,f=n;return t.precision(p)};t.step=function(n){if(!arguments.length)return t.minorStep();return t.majorStep(n).minorStep(n)};t.majorStep=function(n){if(!arguments.length)return[h,g];h=+n[0],g=+n[1];return t};t.minorStep=function(n){if(!arguments.length)return[c,v];c=+n[0],v=+n[1];return t};t.precision=function(n){if(!arguments.length)return p;p=+n;y=Ki(s,f,90);M=Qi(l,o,p);d=Ki(a,u,90);m=Qi(i,e,p);return t};return t.majorExtent([[-180,-90+],[180,90-]]).minorExtent([[-180,-80-],[180,80+]])};function Ki(t,e,r){var i=n.range(t,e-,r).concat(e);return function(n){return i.map(function(t){return[n,t]})}};function Qi(t,e,r){var i=n.range(t,e-,r).concat(e);return function(n){return i.map(function(t){return[t,n]})}};function Ie(n){return n.source};function Pe(n){return n.target};n.geo.greatArc=function(){var e=Ie,i,r=Pe,u;function t(){return{type:'LineString',coordinates:[i||e.apply(this,arguments),u||r.apply(this,arguments)]}};t.distance=function(){return n.geo.distance(i||e.apply(this,arguments),u||r.apply(this,arguments))};t.source=function(n){if(!arguments.length)return e;e=n,i=typeof n==='function'?null:n;return t};t.target=function(n){if(!arguments.length)return r;r=n,u=typeof n==='function'?null:n;return t};t.precision=function(){return arguments.length?t:0};return t};n.geo.interpolate=function(n,t){return Ao(n[0]*e,n[1]*e,t[0]*e,t[1]*e)};function Ao(n,t,e,r){var u=Math.cos(t),s=Math.sin(t),a=Math.cos(r),c=Math.sin(r),h=u*Math.cos(n),g=u*Math.sin(n),p=a*Math.cos(e),v=a*Math.sin(e),i=2*Math.asin(Math.sqrt(yi(r-t)+u*a*yi(e-n))),l=1/Math.sin(i),f=i?function(n){var t=Math.sin(n*=i)*l,e=Math.sin(i-n)*l,r=e*h+t*p,u=e*g+t*v,a=e*s+t*c;return[Math.atan2(u,r)*o,Math.atan2(a,Math.sqrt(r*r+u*u))*o]}:function(){return[n*o,t*o]};f.distance=i;return f};n.geo.length=function(t){Wt=0;n.geo.stream(t,cn);return Wt};var Wt,cn={sphere:s,point:s,lineStart:Co,lineEnd:s,polygonStart:s,polygonEnd:s};function Co(){var 0,n0,t0;cn.point=function(,){0=*e,n0=Math.sin(*=e),t0=Math.cos();cn.point=i};cn.lineEnd=function(){cn.point=cn.lineEnd=s};function i(,){var u=Math.sin(*=e),i=Math.cos(),a=r((*=e)-0),i=Math.cos(a);Wt+=Math.atan2(Math.sqrt((a=i*Math.sin(a))*a+(a=i0*u-u0*i*i)*a),u0*u+i0*i*i);0=,u0=u,i0=i}};function zn(n,t){function e(,){var r=Math.cos(),r=Math.cos(),i=n(r*r);return[i*r*Math.sin(),i*Math.sin()]};e.invert=function(n,e){var =Math.sqrt(n*n+e*e),r=t(),i=Math.sin(r),u=Math.cos(r);return[Math.atan2(n*i,*u),Math.asin(&&e*i/)]};return e};var Cr=zn(function(coscos){return Math.sqrt(2/(1+coscos))},function(){return 2*Math.asin(/2)});(n.geo.azimuthalEqualArea=function(){return B(Cr)}).raw=Cr;var Ar=zn(function(coscos){var t=Math.acos(coscos);return t&&t/Math.sin(t)},h);(n.geo.azimuthalEquidistant=function(){return B(Ar)}).raw=Ar;function nu(0,1){var u0=Math.cos(0),i=function(){return Math.tan(/4+/2)},e=0===1?Math.sin(0):Math.log(u0/Math.cos(1))/Math.log(i(1)/i(0)),r=u0*Math.pow(i(0),e)/e;if(!e)return At;function a(,){if(r>0){if(<-f+)=-f+}
else{if(>f-)=f-};var =r/Math.pow(i(),e);return[*Math.sin(e*),r-*Math.cos(e*)]};a.invert=function(n,t){var 0_y=r-t,=vi(e)*Math.sqrt(n*n+0_y*0_y);return[Math.atan2(n,0_y)/e,2*Math.atan(Math.pow(r/,1/e))-f]};return a}(n.geo.conicConformal=function(){return Te(nu)}).raw=nu;function tu(0,1){var u0=Math.cos(0),e=0===1?Math.sin(0):(u0-Math.cos(1))/(1-0),i=u0/e+0;if(r(e)<)return Cn;function a(,){var =i-;return[*Math.sin(e*),i-*Math.cos(e*)]};a.invert=function(n,t){var 0_y=i-t;return[Math.atan2(n,0_y)/e,i-vi(e)*Math.sqrt(n*n+0_y*0_y)]};return a}(n.geo.conicEquidistant=function(){return Te(tu)}).raw=tu;var Er=zn(function(coscos){return 1/coscos},Math.atan);(n.geo.gnomonic=function(){return B(Er)}).raw=Er;function At(,){return[,Math.log(Math.tan(/4+/2))]};At.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-f]};function eu(n){var t=B(n),r=t.scale,i=t.translate,u=t.clipExtent,e;t.scale=function(){var n=r.apply(t,arguments);return n===t?e?t.clipExtent(null):t:n};t.translate=function(){var n=i.apply(t,arguments);return n===t?e?t.clipExtent(null):t:n};t.clipExtent=function(n){var l=u.apply(t,arguments);if(l===t){if(e=n==null){var a=*r(),o=i();u([[o[0]-a,o[1]-a],[o[0]+a,o[1]+a]])}}
else if(e){l=null};return l};return t.clipExtent(null)}(n.geo.mercator=function(){return eu(At)}).raw=At;var Nr=zn(function(){return 1},Math.asin);(n.geo.orthographic=function(){return B(Nr)}).raw=Nr;var kr=zn(function(coscos){return 1/(1+coscos)},function(){return 2*Math.atan()});(n.geo.stereographic=function(){return B(kr)}).raw=kr;function Ue(,){return[Math.log(Math.tan(/4+/2)),-]};Ue.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-f]};(n.geo.transverseMercator=function(){var n=eu(Ue),e=n.center,t=n.rotate;n.center=function(n){return n?e([-n[1],n[0]]):(n=e(),[n[1],-n[0]])};n.rotate=function(n){return n?t([n[0],n[1],n.length>2?n[2]+90:90]):(n=t(),[n[0],n[1],n[2]-90])};return t([0,0,90])}).raw=Ue;n.geom={};function mn(n){return n[0]};function Ln(n){return n[1]};n.geom.hull=function(n){var e=mn,r=Ln;if(arguments.length)return t(n);function t(n){if(n.length<3)return[];var g=a(e),p=a(r),t,f=n.length,i=[],s=[];for(t=0;t<f;t++){i.push([+g.call(this,n[t],t),+p.call(this,n[t],t),t])};i.sort(zo);for(t=0;t<f;t++)s.push([i[t][0],-i[t][1]]);var u=ru(i),o=ru(s),c=o[0]===u[0],h=o[o.length-1]===u[u.length-1],l=[];for(t=u.length-1;t>=0;--t)l.push(n[i[u[t]][2]]);for(t=+c;t<o.length-h;++t)l.push(n[i[o[t]][2]]);return l};t.x=function(n){return arguments.length?(e=n,t):e};t.y=function(n){return arguments.length?(r=n,t):r};return t};function ru(n){var i=n.length,r=[0,1],t=2;for(var e=2;e<i;e++){while(t>1&&me(n[r[t-2]],n[r[t-1]],n[e])<=0)--t;r[t++]=e};return r.slice(0,t)};function zo(n,t){return n[0]-t[0]||n[1]-t[1]};n.geom.polygon=function(n){st(n,Vn);return n};var Vn=n.geom.polygon.prototype=[];Vn.area=function(){var e=-1,r=this.length,t,n=this[r-1],i=0;while(++e<r){t=n;n=this[e];i+=t[1]*n[0]-t[0]*n[1]};return i*.5};Vn.centroid=function(n){var i=-1,u=this.length,a=0,o=0,e,t=this[u-1],r;if(!arguments.length)n=-1/(6*this.area());while(++i<u){e=t;t=this[i];r=e[0]*t[1]-t[0]*e[1];a+=(e[0]+t[0])*r;o+=(e[1]+t[1])*r};return[a*n,o*n]};Vn.clip=function(n){var u,o=iu(n),l=-1,f=this.length-iu(this),a,s,e=this[f-1],t,r,i;while(++l<f){u=n.slice();n.length=0;t=this[l];r=u[(s=u.length-o)-1];a=-1;while(++a<s){i=u[a];if(je(i,e,t)){if(!je(r,e,t)){n.push(Fe(r,i,e,t))};n.push(i)}
else if(je(r,e,t)){n.push(Fe(r,i,e,t))};r=i};if(o)n.push(n[0]);e=t};return n};function je(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])};function Fe(n,t,e,r){var i=n[0],a=e[0],o=t[0]-i,l=r[0]-a,u=n[1],f=e[1],s=t[1]-u,c=r[1]-f,h=(l*(u-f)-c*(i-a))/(c*o-l*s);return[i+h*o,u+h*s]};function iu(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])};var fn,J,sn,br=[],Bt,Sn,Sr=[];function Lo(){Lt(this);this.edge=this.site=this.circle=null};function uu(n){var t=br.pop()||new Lo();t.site=n;return t};function He(n){Mn(n);sn.remove(n);br.push(n);Lt(n)};function qo(n){var c=n.circle,a=c.x,o=c.cy,h={x:a,y:o},l=n.P,f=n.N,i=[n];He(n);var e=l;while(e.circle&&r(a-e.circle.x)<&&r(o-e.circle.cy)<){l=e.P;i.unshift(e);He(e);e=l};i.unshift(e);Mn(e);var t=f;while(t.circle&&r(a-t.circle.x)<&&r(o-t.circle.cy)<){f=t.N;i.push(t);He(t);t=f};i.push(t);Mn(t);var s=i.length,u;for(u=1;u<s;++u){t=i[u];e=i[u-1];Ct(t.edge,e.site,t.site,h)};e=i[0];t=i[s-1];t.edge=qn(e.site,t.site,null,h);yn(e);yn(t)};function To(n){var M=n.x,x=n.y,t,e,p,v,r=sn._;while(r){p=au(r,x)-M;if(p>)r=r.L;else{v=M-Ro(r,x);if(v>){if(!r.R){t=r;break};r=r.R}
else{if(p>-){t=r.P;e=r}
else if(v>-){t=r;e=r.N}
else{t=e=r};break}}};var i=uu(n);sn.insert(t,i);if(!t&&!e)return;if(t===e){Mn(t);e=uu(t.site);sn.insert(i,e);i.edge=e.edge=qn(t.site,i.site);yn(t);yn(e);return};if(!e){i.edge=qn(t.site,i.site);return};Mn(t);Mn(e);var u=t.site,c=u.x,h=u.y,a=n.x-c,o=n.y-h,l=e.site,f=l.x-c,s=l.y-h,d=2*(a*s-o*f),m=a*a+o*o,y=f*f+s*s,g={x:(s*m-o*y)/d+c,y:(a*y-f*m)/d+h};Ct(e.edge,u,l,g);i.edge=qn(u,n,null,g);e.edge=qn(n,l,null,g);yn(t);yn(e)};function au(n,t){var r=n.site,i=r.x,h=r.y,f=h-t;if(!f)return i;var c=n.P;if(!c)return-Infinity;r=c.site;var l=r.x,s=r.y,e=s-t;if(!e)return l;var u=l-i,a=1/f-1/e,o=u/e;if(a)return(-o+Math.sqrt(o*o-2*a*(u*u/(-2*e)-s+e/2+h-f/2)))/a+i;return(i+l)/2};function Ro(n,t){var r=n.N;if(r)return au(r,t);var e=n.site;return e.y===t?e.x:Infinity};function ou(n){this.site=n;this.edges=[]};ou.prototype.prepare=function(){var n=this.edges,t=n.length,e;while(t--){e=n[t].edge;if(!e.b||!e.a)n.splice(t,1)};n.sort(lu);return n.length};function Do(n){var o=n[0][0],l=n[1][0],f=n[0][1],s=n[1][1],t,e,i,u,d=J,m=d.length,a,c,h,g,v,p;while(m--){a=d[m];if(!a||!a.prepare())continue;h=a.edges;g=h.length;c=0;while(c<g){p=h[c].end(),i=p.x,u=p.y;v=h[++c%g].start(),t=v.x,e=v.y;if(r(i-t)>||r(u-e)>){h.splice(c,0,new zt(jo(a.site,p,r(i-o)<&&s-u>?{x:o,y:r(t-o)<?e:s}:r(u-s)<&&l-i>?{x:r(e-s)<?t:l,y:s}:r(i-l)<&&u-f>?{x:l,y:r(t-l)<?e:f}:r(u-f)<&&i-o>?{x:r(e-f)<?t:o,y:f}:null),a.site,null));++g}}}};function lu(n,t){return t.angle-n.angle};function Io(){Lt(this);this.x=this.y=this.arc=this.site=this.cy=null};function yn(n){var y=n.P,M=n.N;if(!y||!M)return;var g=y.site,p=n.site,v=M.site;if(g===v)return;var s=p.x,c=p.y,u=g.x-s,a=g.y-c,o=v.x-s,r=v.y-c,h=2*(u*r-a*o);if(h>=-2)return;var d=u*u+a*a,m=o*o+r*r,l=(r*d-a*m)/h,f=(u*m-o*d)/h,r=f+c,e=Sr.pop()||new Io();e.arc=n;e.site=p;e.x=l+s;e.y=r+Math.sqrt(l*l+f*f);e.cy=r;n.circle=e;var i=null,t=Sn._;while(t){if(e.y<t.y||e.y===t.y&&e.x<=t.x){if(t.L)t=t.L;else{i=t.P;break}}
else{if(t.R)t=t.R;else{i=t;break}}};Sn.insert(i,e);if(!i)Bt=e};function Mn(n){var t=n.circle;if(t){if(!t.P)Bt=t.N;Sn.remove(t);Sr.push(t);Lt(t);n.circle=null}};function Po(n){var e=fn,u=ji(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length,t;while(i--){t=e[i];if(!Uo(t,n)||!u(t)||r(t.a.x-t.b.x)<&&r(t.a.y-t.b.y)<){t.a=t.b=null;e.splice(i,1)}}};function Uo(n,t){var o=n.b;if(o)return!0;var e=n.a,f=t[0][0],s=t[1][0],u=t[0][1],a=t[1][1],v=n.l,d=n.r,c=v.x,h=v.y,g=d.x,p=d.y,l=(c+g)/2,m=(h+p)/2,r,i;if(p===h){if(l<f||l>=s)return;if(c>g){if(!e)e={x:l,y:u};else if(e.y>=a)return;o={x:l,y:a}}
else{if(!e)e={x:l,y:a};else if(e.y<u)return;o={x:l,y:u}}}
else{r=(c-g)/(p-h);i=m-r*l;if(r<-1||r>1){if(c>g){if(!e)e={x:(u-i)/r,y:u};else if(e.y>=a)return;o={x:(a-i)/r,y:a}}
else{if(!e)e={x:(a-i)/r,y:a};else if(e.y<u)return;o={x:(u-i)/r,y:u}}}
else{if(h<p){if(!e)e={x:f,y:r*f+i};else if(e.x>=s)return;o={x:s,y:r*s+i}}
else{if(!e)e={x:s,y:r*s+i};else if(e.x<f)return;o={x:f,y:r*f+i}}}};n.a=e;n.b=o;return!0};function fu(n,t){this.l=n;this.r=t;this.a=this.b=null};function qn(n,t,e,r){var i=new fu(n,t);fn.push(i);if(e)Ct(i,n,t,e);if(r)Ct(i,t,n,r);J[n.i].edges.push(new zt(i,n,t));J[t.i].edges.push(new zt(i,t,n));return i};function jo(n,t,e){var r=new fu(n,null);r.a=t;r.b=e;fn.push(r);return r};function Ct(n,t,e,r){if(!n.a&&!n.b){n.a=r;n.l=t;n.r=e}
else if(n.l===e){n.b=r}
else{n.a=r}};function zt(n,t,e){var r=n.a,i=n.b;this.edge=n;this.site=t;this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)};zt.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Oe(){this._=null};function Lt(n){n.U=n.C=n.L=n.R=n.P=n.N=null};Oe.prototype={insert:function(n,t){var e,r,i;if(n){t.P=n;t.N=n.N;if(n.N)n.N.P=t;n.N=t;if(n.R){n=n.R;while(n.L)n=n.L;n.L=t}
else{n.R=t};e=n}
else if(this._){n=su(this._);t.P=null;t.N=n;n.P=n.L=t;e=n}
else{t.P=t.N=null;this._=t;e=null};t.L=t.R=null;t.U=e;t.C=!0;n=t;while(e&&e.C){r=e.U;if(e===r.L){i=r.R;if(i&&i.C){e.C=i.C=!1;r.C=!0;n=r}
else{if(n===e.R){Tn(this,e);n=e;e=n.U};e.C=!1;r.C=!0;Rn(this,r)}}
else{i=r.L;if(i&&i.C){e.C=i.C=!1;r.C=!0;n=r}
else{if(n===e.L){Rn(this,e);n=e;e=n.U};e.C=!1;r.C=!0;Tn(this,r)}};e=n.U};this._.C=!1},remove:function(n){if(n.N)n.N.P=n.P;if(n.P)n.P.N=n.N;n.N=n.P=null;var e=n.U,t,u=n.L,i=n.R,r,a;if(!u)r=i;else if(!i)r=u;else r=su(i);if(e){if(e.L===n)e.L=r;else e.R=r}
else{this._=r};if(u&&i){a=r.C;r.C=n.C;r.L=u;u.U=r;if(r!==i){e=r.U;r.U=n.U;n=r.R;e.L=n;r.R=i;i.U=r}
else{r.U=e;e=r;n=r.R}}
else{a=n.C;n=r};if(n)n.U=e;if(a)return;if(n&&n.C){n.C=!1;return};do{if(n===this._)break;if(n===e.L){t=e.R;if(t.C){t.C=!1;e.C=!0;Tn(this,e);t=e.R};if(t.L&&t.L.C||t.R&&t.R.C){if(!t.R||!t.R.C){t.L.C=!1;t.C=!0;Rn(this,t);t=e.R};t.C=e.C;e.C=t.R.C=!1;Tn(this,e);n=this._;break}}
else{t=e.L;if(t.C){t.C=!1;e.C=!0;Rn(this,e);t=e.L};if(t.L&&t.L.C||t.R&&t.R.C){if(!t.L||!t.L.C){t.R.C=!1;t.C=!0;Tn(this,t);t=e.L};t.C=e.C;e.C=t.L.C=!1;Rn(this,e);n=this._;break}};t.C=!0;n=e;e=e.U}
while(!n.C);if(n)n.C=!1}};function Tn(n,t){var e=t,r=t.R,i=e.U;if(i){if(i.L===e)i.L=r;else i.R=r}
else{n._=r};r.U=i;e.U=r;e.R=r.L;if(e.R)e.R.U=e;r.L=e};function Rn(n,t){var e=t,r=t.L,i=e.U;if(i){if(i.L===e)i.L=r;else i.R=r}
else{n._=r};r.U=i;e.U=r;e.L=r.R;if(e.L)e.L.U=e;r.R=e};function su(n){while(n.L)n=n.L;return n};function Ye(n,t){var e=n.sort(Fo).pop(),i,u,r;fn=[];J=new Array(n.length);sn=new Oe();Sn=new Oe();while(!0){r=Bt;if(e&&(!r||e.y<r.y||e.y===r.y&&e.x<r.x)){if(e.x!==i||e.y!==u){J[e.i]=new ou(e);To(e);i=e.x,u=e.y};e=n.pop()}
else if(r){qo(r.arc)}
else{break}};if(t)Po(t),Do(t);var a={cells:J,edges:fn};sn=Sn=fn=J=null;return a};function Fo(n,t){return t.y-n.y||t.x-n.x};n.geom.voronoi=function(n){var r=mn,i=Ln,o=r,l=i,e=Zn;if(n)return t(n);function t(n){var o=new Array(n.length),t=e[0][0],r=e[0][1],i=e[1][0],a=e[1][1];Ye(u(n),e).cells.forEach(function(e,u){var f=e.edges,l=e.site,s=o[u]=f.length?f.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=t&&l.x<=i&&l.y>=r&&l.y<=a?[[t,a],[i,a],[i,r],[t,r]]:[];s.point=n[u]});return o};function u(n){return n.map(function(n,t){return{x:Math.round(o(n,t)/)*,y:Math.round(l(n,t)/)*,i:t}})};t.links=function(n){return Ye(u(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})};t.triangles=function(n){var t=[];Ye(u(n)).cells.forEach(function(e,r){var o=e.site,l=e.edges.sort(lu),f=-1,s=l.length,c,a,i=l[s-1].edge,u=i.l===o?i.r:i.l;while(++f<s){c=i;a=u;i=l[f].edge;u=i.l===o?i.r:i.l;if(r<a.i&&r<u.i&&Ho(o,a,u)<0){t.push([n[r],n[a.i],n[u.i]])}}});return t};t.x=function(n){return arguments.length?(o=a(r=n),t):r};t.y=function(n){return arguments.length?(l=a(i=n),t):i};t.clipExtent=function(n){if(!arguments.length)return e===Zn?null:e;e=n==null?Zn:n;return t};t.size=function(n){if(!arguments.length)return e===Zn?null:e&&e[1];return t.clipExtent(n&&[[0,0],n])};return t};var Zn=[[-1e6,-1e6],[1e6,1e6]];function Ho(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)};n.geom.delaunay=function(t){return n.geom.voronoi().triangles(t)};n.geom.quadtree=function(n,t,e,i,u){var l=mn,f=Ln,s;if(s=arguments.length){l=Oo;f=Yo;if(s===3){u=e;i=t;e=t=0};return o(n)};function o(n){var c,E=a(l),A=a(f),M,x,o,w,h,g,p,v;if(t!=null){h=t,g=e,p=i,v=u}
else{p=v=-(h=g=Infinity);M=[],x=[];w=n.length;if(s)for(o=0;o<w;++o){c=n[o];if(c.x<h)h=c.x;if(c.y<g)g=c.y;if(c.x>p)p=c.x;if(c.y>v)v=c.y;M.push(c.x);x.push(c.y)}
else for(o=0;o<w;++o){var m=+E(c=n[o],o),y=+A(c,o);if(m<h)h=m;if(y<g)g=y;if(m>p)p=m;if(y>v)v=y;M.push(m);x.push(y)}};var k=p-h,N=v-g;if(k>N)v=g+k;else p=h+N;function S(n,t,e,i,u,a,o,l){if(isNaN(e)||isNaN(i))return;if(n.leaf){var f=n.x,s=n.y;if(f!=null){if(r(f-e)+r(s-i)<.01){b(n,t,e,i,u,a,o,l)}
else{var c=n.point;n.x=n.y=n.point=null;b(n,c,f,s,u,a,o,l);b(n,t,e,i,u,a,o,l)}}
else{n.x=e,n.y=i,n.point=t}}
else{b(n,t,e,i,u,a,o,l)}};function b(n,t,e,r,i,u,a,o){var l=(i+a)*.5,f=(u+o)*.5,s=e>=l,c=r>=f,h=c<<1|s;n.leaf=!1;n=n.nodes[h]||(n.nodes[h]=cu());if(s)i=l;else a=l;if(c)u=f;else o=f;S(n,t,e,r,i,u,a,o)};var d=cu();d.add=function(n){S(d,n,+E(n,++o),+A(n,o),h,g,p,v)};d.visit=function(n){Dn(n,d,h,g,p,v)};d.find=function(n){return Zo(d,n[0],n[1],h,g,p,v)};o=-1;if(t==null){while(++o<w){S(d,n[o],M[o],x[o],h,g,p,v)};--o}
else n.forEach(d.add);M=x=n=c=null;return d};o.x=function(n){return arguments.length?(l=n,o):l};o.y=function(n){return arguments.length?(f=n,o):f};o.extent=function(n){if(!arguments.length)return t==null?null:[[t,e],[i,u]];if(n==null)t=e=i=u=null;else t=+n[0][0],e=+n[0][1],i=+n[1][0],u=+n[1][1];return o};o.size=function(n){if(!arguments.length)return t==null?null:[i-t,u-e];if(n==null)t=e=i=u=null;else t=e=0,i=+n[0],u=+n[1];return o};return o};function Oo(n){return n.x};function Yo(n){return n.y};function cu(){return{leaf:!0,nodes:[],point:null,x:null,y:null}};function Dn(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=(e+i)*.5,l=(r+u)*.5,a=t.nodes;if(a[0])Dn(n,a[0],e,r,o,l);if(a[1])Dn(n,a[1],o,r,i,l);if(a[2])Dn(n,a[2],e,l,o,u);if(a[3])Dn(n,a[3],o,l,i,u)}};function Zo(n,t,e,r,i,u,a){var l=Infinity,f;(function o(n,s,c,h,g){if(s>u||c>a||h<r||g<i)return;if(y=n.point){var y,M=t-n.x,x=e-n.y,w=M*M+x*x;if(w<l){var m=Math.sqrt(l=w);r=t-m,i=e-m;u=t+m,a=e+m;f=y}};var S=n.nodes,v=(s+h)*.5,d=(c+g)*.5,k=t>=v,N=e>=d;for(var p=N<<1|k,b=p+4;p<b;++p){if(n=S[p&3])switch(p&3){case 0:o(n,s,c,v,d);break;case 1:o(n,v,c,h,d);break;case 2:o(n,s,d,v,g);break;case 3:o(n,v,d,h,g);break}}})(n,r,i,u,a);return f};n.interpolateRgb=Ze;function Ze(t,e){t=n.rgb(t);e=n.rgb(e);var r=t.r,i=t.g,u=t.b,a=e.r-r,o=e.g-i,l=e.b-u;return function(n){return'#'+vn(Math.round(r+a*n))+vn(Math.round(i+o*n))+vn(Math.round(u+l*n))}};n.interpolateObject=hu;function hu(n,t){var i={},r={},e;for(e in n){if(e in t){i[e]=on(n[e],t[e])}
else{r[e]=n[e]}};for(e in t){if(!(e in n)){r[e]=t[e]}};return function(n){for(e in i)r[e]=i[e](n);return r}};n.interpolateNumber=P;function P(n,t){n=+n,t=+t;return function(e){return n*(1-e)+t*e}};n.interpolateString=gu;function gu(n,t){var a=Vt.lastIndex=Xt.lastIndex=0,l,u,i,r=-1,e=[],o=[];n=n+'',t=t+'';while((l=Vt.exec(n))&&(u=Xt.exec(t))){if((i=u.index)>a){i=t.slice(a,i);if(e[r])e[r]+=i;else e[++r]=i};if((l=l[0])===(u=u[0])){if(e[r])e[r]+=u;else e[++r]=u}
else{e[++r]=null;o.push({i:r,x:P(l,u)})};a=Xt.lastIndex};if(a<t.length){i=t.slice(a);if(e[r])e[r]+=i;else e[++r]=i};return e.length<2?o[0]?(t=o[0].x,function(n){return t(n)+''}):function(){return t}:(t=o.length,function(n){for(var r=0,i;r<t;++r)e[(i=o[r]).i]=i.x(n);return e.join('')})};var Vt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xt=new RegExp(Vt.source,'g');n.interpolate=on;function on(t,e){var r=n.interpolators.length,i;while(--r>=0&&!(i=n.interpolators[r](t,e)));return i};n.interpolators=[function(n,t){var e=typeof t;return(e==='string'?ut.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Ze:gu:t instanceof en?Ze:Array.isArray(t)?qt:e==='object'&&isNaN(t)?hu:P)(n,t)}];n.interpolateArray=qt;function qt(n,t){var i=[],r=[],a=n.length,o=t.length,u=Math.min(n.length,t.length),e;for(e=0;e<u;++e)i.push(on(n[e],t[e]));for(;e<a;++e)r[e]=n[e];for(;e<o;++e)r[e]=t[e];return function(n){for(e=0;e<u;++e)r[e]=i[e](n);return r}};var wr=function(){return h},wa=n.map({linear:wr,poly:Jo,quad:function(){return Xo},cubic:function(){return Bo},sin:function(){return Go},exp:function(){return Ko},circle:function(){return Qo},elastic:nl,back:tl,bounce:function(){return el}});var xa=n.map({'in':h,out:pu,'in-out':vu,'out-in':function(n){return vu(pu(n))}});n.ease=function(n){var t=n.indexOf('-'),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):'in';e=wa.get(e)||wr;r=xa.get(r)||h;return Vo(r(e.apply(null,Vr.call(arguments,1))))};function Vo(n){return function(t){return t<=0?0:t>=1?1:n(t)}};function pu(n){return function(t){return 1-n(1-t)}};function vu(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}};function Xo(n){return n*n};function Bo(n){return n*n*n};function Wo(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)};function Jo(n){return function(t){return Math.pow(t,n)}};function Go(n){return 1-Math.cos(n*f)};function Ko(n){return Math.pow(2,10*(n-1))};function Qo(n){return 1-Math.sqrt(1-n*n)};function nl(n,t){var e;if(arguments.length<2)t=.45;if(arguments.length)e=t/*Math.asin(1/n);else n=1,e=t/4;return function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*/t)}};function tl(n){if(!n)n=1.70158;return function(t){return t*t*((n+1)*t-n)}};function el(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375};n.interpolateHcl=rl;function rl(t,e){t=n.hcl(t);e=n.hcl(e);var i=t.h,u=t.c,o=t.l,r=e.h-i,a=e.c-u,l=e.l-o;if(isNaN(a))a=0,u=isNaN(u)?e.c:u;if(isNaN(r))r=0,i=isNaN(i)?e.h:i;else if(r>180)r-=360;else if(r<-180)r+=360;return function(n){return Me(i+r*n,u+a*n,o+l*n)+''}};n.interpolateHsl=il;function il(t,e){t=n.hsl(t);e=n.hsl(e);var i=t.h,u=t.s,o=t.l,r=e.h-i,a=e.s-u,l=e.l-o;if(isNaN(a))a=0,u=isNaN(u)?e.s:u;if(isNaN(r))r=0,i=isNaN(i)?e.h:i;else if(r>180)r-=360;else if(r<-180)r+=360;return function(n){return ye(i+r*n,u+a*n,o+l*n)+''}};n.interpolateLab=ul;function ul(t,e){t=n.lab(t);e=n.lab(e);var r=t.l,i=t.a,u=t.b,a=e.l-r,o=e.a-i,l=e.b-u;return function(n){return Mi(r+a*n,i+o*n,u+l*n)+''}};n.interpolateRound=du;function du(n,t){t-=n;return function(e){return Math.round(n+t*e)}};n.transform=function(t){var e=p.createElementNS(n.ns.prefix.svg,'g');return(n.transform=function(n){if(n!=null){e.setAttribute('transform',n);var t=e.transform.baseVal.consolidate()};return new mu(t?t.matrix:Ma)})(t)};function mu(n){var t=[n.a,n.b],e=[n.c,n.d],r=Mu(t),i=yu(t,e),u=Mu(al(e,t,-i))||0;if(t[0]*e[1]<e[0]*t[1]){t[0]*=-1;t[1]*=-1;r*=-1;i*=-1};this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*o;this.translate=[n.e,n.f];this.scale=[r,u];this.skew=u?Math.atan2(i,u)*o:0};mu.prototype.toString=function(){return'translate('+this.translate+')rotate('+this.rotate+')skewX('+this.skew+')scale('+this.scale+')'};function yu(n,t){return n[0]*t[0]+n[1]*t[1]};function Mu(n){var t=Math.sqrt(yu(n,n));if(t){n[0]/=t;n[1]/=t};return t};function al(n,t,e){n[0]+=e*t[0];n[1]+=e*t[1];return n};var Ma={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=xu;function xn(n){return n.length?n.pop()+',':''};function ol(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push('translate(',null,',',null,')');r.push({i:i-4,x:P(n[0],t[0])},{i:i-2,x:P(n[1],t[1])})}
else if(t[0]||t[1]){e.push('translate('+t+')')}};function ll(n,t,e,r){if(n!==t){if(n-t>180)t+=360;else if(t-n>180)n+=360;r.push({i:e.push(xn(e)+'rotate(',null,')')-2,x:P(n,t)})}
else if(t){e.push(xn(e)+'rotate('+t+')')}};function fl(n,t,e,r){if(n!==t){r.push({i:e.push(xn(e)+'skewX(',null,')')-2,x:P(n,t)})}
else if(t){e.push(xn(e)+'skewX('+t+')')}};function sl(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push(xn(e)+'scale(',null,',',null,')');r.push({i:i-4,x:P(n[0],t[0])},{i:i-2,x:P(n[1],t[1])})}
else if(t[0]!==1||t[1]!==1){e.push(xn(e)+'scale('+t+')')}};function xu(t,e){var r=[],i=[];t=n.transform(t),e=n.transform(e);ol(t.translate,e.translate,r,i);ll(t.rotate,e.rotate,r,i);fl(t.skew,e.skew,r,i);sl(t.scale,e.scale,r,i);t=e=null;return function(n){var t=-1,u=i.length,e;while(++t<u)r[(e=i[t]).i]=e.x(n);return r.join('')}};function cl(n,t){t=(t-=n=+n)||1/t;return function(e){return(e-n)/t}};function hl(n,t){t=(t-=n=+n)||1/t;return function(e){return Math.max(0,Math.min(1,(e-n)/t))}};n.layout={};n.layout.bundle=function(){return function(n){var t=[],e=-1,r=n.length;while(++e<r)t.push(gl(n[e]));return t}};function gl(n){var t=n.source,e=n.target,i=pl(t,e),r=[t];while(t!==i){t=t.parent;r.push(t)};var u=r.length;while(e!==i){r.splice(u,0,e);e=e.parent};return r};function wu(n){var e=[],t=n.parent;while(t!=null){e.push(n);n=t;t=t.parent};e.push(n);return e};function pl(n,t){if(n===t)return n;var r=wu(n),i=wu(t),e=r.pop(),u=i.pop(),a=null;while(e===u){a=e;e=r.pop();u=i.pop()};return a};n.layout.chord=function(){var t={},e,i,u,r,a=0,o,l,f;function s(){var M={},m=[],b=n.range(r),x=[],p,s,S,t,h;e=[];i=[];p=0,t=-1;while(++t<r){s=0,h=-1;while(++h<r){s+=u[t][h]};m.push(s);x.push(n.range(r));p+=s};if(o){b.sort(function(n,t){return o(m[n],m[t])})};if(l){x.forEach(function(n,t){n.sort(function(n,e){return l(u[t][n],u[t][e])})})};p=(-a*r)/p;s=0,t=-1;while(++t<r){S=s,h=-1;while(++h<r){var g=b[t],y=x[g][h],w=u[g][y],k=s,N=s+=w*p;M[g+'-'+y]={index:g,subindex:y,startAngle:k,endAngle:N,value:w}};i[g]={index:g,startAngle:S,endAngle:s,value:m[g]};s+=a};t=-1;while(++t<r){h=t-1;while(++h<r){var v=M[t+'-'+h],d=M[h+'-'+t];if(v.value||d.value){e.push(v.value<d.value?{source:d,target:v}:{source:v,target:d})}}};if(f)c()};function c(){e.sort(function(n,t){return f((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})};t.matrix=function(n){if(!arguments.length)return u;r=(u=n)&&u.length;e=i=null;return t};t.padding=function(n){if(!arguments.length)return a;a=n;e=i=null;return t};t.sortGroups=function(n){if(!arguments.length)return o;o=n;e=i=null;return t};t.sortSubgroups=function(n){if(!arguments.length)return l;l=n;e=null;return t};t.sortChords=function(n){if(!arguments.length)return f;f=n;if(e)c();return t};t.chords=function(){if(!e)s();return e};t.groups=function(){if(!i)s();return i};return t};n.layout.force=function(){var t={},o=n.dispatch('start','tick','end'),l,u=[1,1],c,r,g=.9,f=da,s=ma,a=-30,p=ya,y=.1,M=.64,e=[],i=[],v,d,m;function x(n){return function(t,e,r,i){if(t.point!==n){var o=t.cx-n.x,l=t.cy-n.y,f=i-e,u=o*o+l*l;if(f*f/M<u){if(u<p){var a=t.charge/u;n.px-=o*a;n.py-=l*a};return!0};if(t.point&&u&&u<p){var a=t.pointCharge/u;n.px-=o*a;n.py-=l*a}};return!t.charge}};t.tick=function(){if((r*=.99)<.005){l=null;o.end({type:'end',alpha:r=0});return!0};var b=e.length,k=i.length,S,f,t,c,M,w,s,h,p;for(f=0;f<k;++f){t=i[f];c=t.source;M=t.target;h=M.x-c.x;p=M.y-c.y;if(w=h*h+p*p){w=r*d[f]*((w=Math.sqrt(w))-v[f])/w;h*=w;p*=w;M.x-=h*(s=c.weight+M.weight?c.weight/(c.weight+M.weight):.5);M.y-=p*s;c.x+=h*(s=1-s);c.y+=p*s}};if(s=r*y){h=u[0]/2;p=u[1]/2;f=-1;if(s)while(++f<b){t=e[f];t.x+=(h-t.x)*s;t.y+=(p-t.y)*s}};if(a){bu(S=n.geom.quadtree(e),r,m);f=-1;while(++f<b){if(!(t=e[f]).fixed){S.visit(x(t))}}};f=-1;while(++f<b){t=e[f];if(t.fixed){t.x=t.px;t.y=t.py}
else{t.x-=(t.px-(t.px=t.x))*g;t.y-=(t.py-(t.py=t.y))*g}};o.tick({type:'tick',alpha:r})};t.nodes=function(n){if(!arguments.length)return e;e=n;return t};t.links=function(n){if(!arguments.length)return i;i=n;return t};t.size=function(n){if(!arguments.length)return u;u=n;return t};t.linkDistance=function(n){if(!arguments.length)return f;f=typeof n==='function'?n:+n;return t};t.distance=t.linkDistance;t.linkStrength=function(n){if(!arguments.length)return s;s=typeof n==='function'?n:+n;return t};t.friction=function(n){if(!arguments.length)return g;g=+n;return t};t.charge=function(n){if(!arguments.length)return a;a=typeof n==='function'?n:+n;return t};t.chargeDistance=function(n){if(!arguments.length)return Math.sqrt(p);p=n*n;return t};t.gravity=function(n){if(!arguments.length)return y;y=+n;return t};t.theta=function(n){if(!arguments.length)return Math.sqrt(M);M=n*n;return t};t.alpha=function(n){if(!arguments.length)return r;n=+n;if(r){if(n>0){r=n}
else{l.c=null,l.t=NaN,l=null;o.end({type:'end',alpha:r=0})}}
else if(n>0){o.start({type:'start',alpha:r=n});l=dt(t.tick)};return t};t.start=function(){var n,o=e.length,l=i.length,g=u[0],p=u[1],c,r;for(n=0;n<o;++n){(r=e[n]).index=n;r.weight=0};for(n=0;n<l;++n){r=i[n];if(typeof r.source=='number')r.source=e[r.source];if(typeof r.target=='number')r.target=e[r.target];++r.source.weight;++r.target.weight};for(n=0;n<o;++n){r=e[n];if(isNaN(r.x))r.x=h('x',g);if(isNaN(r.y))r.y=h('y',p);if(isNaN(r.px))r.px=r.x;if(isNaN(r.py))r.py=r.y};v=[];if(typeof f==='function')for(n=0;n<l;++n)v[n]=+f.call(this,i[n],n);else for(n=0;n<l;++n)v[n]=f;d=[];if(typeof s==='function')for(n=0;n<l;++n)d[n]=+s.call(this,i[n],n);else for(n=0;n<l;++n)d[n]=s;m=[];if(typeof a==='function')for(n=0;n<o;++n)m[n]=+a.call(this,e[n],n);else for(n=0;n<o;++n)m[n]=a;function h(t,e){if(!c){c=new Array(o);for(r=0;r<o;++r){c[r]=[]};for(r=0;r<l;++r){var u=i[r];c[u.source.index].push(u.target);c[u.target.index].push(u.source)}};var a=c[n],r=-1,s=a.length,f;while(++r<s)if(!isNaN(f=a[r][t]))return f;return Math.random()*e};return t.resume()};t.resume=function(){return t.alpha(.1)};t.stop=function(){return t.alpha(0)};t.drag=function(){if(!c)c=n.behavior.drag().origin(h).on('dragstart.force',vl).on('drag.force',w).on('dragend.force',dl);if(!arguments.length)return c;this.on('mouseover.force',ml).on('mouseout.force',yl).call(c)};function w(e){e.px=n.event.x,e.py=n.event.y;t.resume()};return n.rebind(t,o,'on')};function vl(n){n.fixed|=2};function dl(n){n.fixed&=~6};function ml(n){n.fixed|=4;n.px=n.x,n.py=n.y};function yl(n){n.fixed&=~4};function bu(n,t,e){var u=0,a=0;n.charge=0;if(!n.leaf){var o=n.nodes,f=o.length,l=-1,r;while(++l<f){r=o[l];if(r==null)continue;bu(r,t,e);n.charge+=r.charge;u+=r.charge*r.cx;a+=r.charge*r.cy}};if(n.point){if(!n.leaf){n.point.x+=Math.random()-.5;n.point.y+=Math.random()-.5};var i=t*e[n.point.index];n.charge+=n.pointCharge=i;u+=i*n.point.x;a+=i*n.point.y};n.cx=u/n.charge;n.cy=a/n.charge};var da=20,ma=1,ya=Infinity;n.layout.hierarchy=function(){var e=wl,r=Ml,t=xl;function n(i){var f=[i],s=[],u;i.depth=0;while((u=f.pop())!=null){s.push(u);if((a=r.call(n,u,u.depth))&&(o=a.length)){var o,a,l;while(--o>=0){f.push(l=a[o]);l.parent=u;l.depth=u.depth+1};if(t)u.value=0;u.children=a}
else{if(t)u.value=+t.call(n,u,u.depth)||0;delete u.children}};A(i,function(n){var r,i;if(e&&(r=n.children))r.sort(e);if(t&&(i=n.parent))i.value+=n.value});return s};n.sort=function(t){if(!arguments.length)return e;e=t;return n};n.children=function(t){if(!arguments.length)return r;r=t;return n};n.value=function(e){if(!arguments.length)return t;t=e;return n};n.revalue=function(e){if(t){Pn(e,function(n){if(n.children)n.value=0});A(e,function(e){var r;if(!e.children)e.value=+t.call(n,e,e.depth)||0;if(r=e.parent)r.value+=e.value})};return e};return n};function In(t,e){n.rebind(t,e,'sort','children','value');t.nodes=t;t.links=bl;return t};function Pn(n,t){var i=[n];while((n=i.pop())!=null){t(n);if((r=n.children)&&(e=r.length)){var e,r;while(--e>=0)i.push(r[e])}}};function A(n,t){var u=[n],a=[];while((n=u.pop())!=null){a.push(n);if((e=n.children)&&(i=e.length)){var r=-1,i,e;while(++r<i)u.push(e[r])}}
while((n=a.pop())!=null){t(n)}};function Ml(n){return n.children};function xl(n){return n.value};function wl(n,t){return t.value-n.value};function bl(t){return n.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))};n.layout.partition=function(){var r=n.layout.hierarchy(),t=[1,1];function i(n,t,e,r){var u=n.children;n.x=t;n.y=n.depth*r;n.dx=e;n.dy=r;if(u&&(o=u.length)){var a=-1,o,l,f;e=n.value?e/n.value:0;while(++a<o){i(l=u[a],t,f=l.value*e,r);t+=f}}};function u(n){var t=n.children,e=0;if(t&&(i=t.length)){var r=-1,i;while(++r<i)e=Math.max(e,u(t[r]))};return 1+e};function e(n,e){var a=r.call(this,n,e);i(a[0],0,t[0],t[1]/u(a[0]));return a};e.size=function(n){if(!arguments.length)return t;t=n;return e};return In(e,r)};n.layout.pie=function(){var a=Number,e=xr,r=0,i=,u=0;function t(o){var f=o.length,l=o.map(function(n,e){return+a.call(t,n,e)}),s=+(typeof r==='function'?r.apply(this,arguments):r),c=(typeof i==='function'?i.apply(this,arguments):i)-s,h=Math.min(Math.abs(c)/f,+(typeof u==='function'?u.apply(this,arguments):u)),g=h*(c<0?-1:1),p=n.sum(l),y=p?(c-f*g)/p:0,v=n.range(f),d=[],m;if(e!=null)v.sort(e===xr?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])});v.forEach(function(n){d[n]={data:o[n],value:m=l[n],startAngle:s,endAngle:s+=m*y+g,padAngle:h}});return d};t.value=function(n){if(!arguments.length)return a;a=n;return t};t.sort=function(n){if(!arguments.length)return e;e=n;return t};t.startAngle=function(n){if(!arguments.length)return r;r=n;return t};t.endAngle=function(n){if(!arguments.length)return i;i=n;return t};t.padAngle=function(n){if(!arguments.length)return u;u=n;return t};return t};var xr={};n.layout.stack=function(){var r=h,i=Ve,u=Xe,e=Nl,a=Sl,o=kl;function t(l,f){if(!(p=l.length))return l;var g=l.map(function(n,e){return r.call(t,n,e)}),c=g.map(function(n){return n.map(function(n,e){return[a.call(t,n,e),o.call(t,n,e)]})}),d=i.call(t,c,f);g=n.permute(g,d);c=n.permute(c,d);var m=u.call(t,c,f),y=g[0].length,p,h,s,v;for(s=0;s<y;++s){e.call(t,g[0][s],v=m[s],c[0][s][1]);for(h=1;h<p;++h){e.call(t,g[h][s],v+=c[h-1][s][1],c[h][s][1])}};return l};t.values=function(n){if(!arguments.length)return r;r=n;return t};t.order=function(n){if(!arguments.length)return i;i=typeof n==='function'?n:va.get(n)||Ve;return t};t.offset=function(n){if(!arguments.length)return u;u=typeof n==='function'?n:pa.get(n)||Xe;return t};t.x=function(n){if(!arguments.length)return a;a=n;return t};t.y=function(n){if(!arguments.length)return o;o=n;return t};t.out=function(n){if(!arguments.length)return e;e=n;return t};return t};function Sl(n){return n.x};function kl(n){return n.y};function Nl(n,t,e){n.y0=t;n.y=e};var va=n.map({'inside-out':function(t){var i=t.length,r,e,u=t.map(El),a=t.map(Al),c=n.range(i).sort(function(n,t){return u[n]-u[t]}),o=0,l=0,f=[],s=[];for(r=0;r<i;++r){e=c[r];if(o<l){o+=a[e];f.push(e)}
else{l+=a[e];s.push(e)}};return s.reverse().concat(f)},reverse:function(t){return n.range(t.length).reverse()},'default':Ve});var pa=n.map({silhouette:function(n){var l=n.length,u=n[0].length,a=[],i=0,r,t,e,o=[];for(t=0;t<u;++t){for(r=0,e=0;r<l;r++)e+=n[r][t][1];if(e>i)i=e;a.push(e)};for(t=0;t<u;++t){o[t]=(i-a[t])/2};return o},wiggle:function(n){var h=n.length,f=n[0],g=f.length,e,t,r,i,s,c,u,a,o,l=[];l[0]=a=o=0;for(t=1;t<g;++t){for(e=0,i=0;e<h;++e)i+=n[e][t][1];for(e=0,s=0,u=f[t][0]-f[t-1][0];e<h;++e){for(r=0,c=(n[e][t][1]-n[e][t-1][1])/(2*u);r<e;++r){c+=(n[r][t][1]-n[r][t-1][1])/u};s+=c*n[e][t][1]};l[t]=a-=i?s/i*u:0;if(a<o)o=a};for(t=0;t<g;++t)l[t]-=o;return l},expand:function(n){var r=n.length,u=n[0].length,o=1/r,t,e,i,a=[];for(e=0;e<u;++e){for(t=0,i=0;t<r;t++)i+=n[t][e][1];if(i)for(t=0;t<r;t++)n[t][e][1]/=i;else for(t=0;t<r;t++)n[t][e][1]=o};for(e=0;e<u;++e)a[e]=0;return a},zero:Xe});function Ve(t){return n.range(t.length)};function Xe(n){var t=-1,r=n[0].length,e=[];while(++t<r)e[t]=0;return e};function El(n){var t=1,e=0,r=n[0][1],i,u=n.length;for(;t<u;++t){if((i=n[t][1])>r){e=t;r=i}};return e};function Al(n){return n.reduce(Cl,0)};function Cl(n,t){return n+t[1]};n.layout.histogram=function(){var e=!0,r=Number,i=Ll,u=zl;function t(t,a){var c=[],l=t.map(r,this),h=i.call(this,l,a),f=u.call(this,h,l,a),o,a=-1,p=l.length,g=f.length-1,v=e?1:1/p,s;while(++a<g){o=c[a]=[];o.dx=f[a+1]-(o.x=f[a]);o.y=0};if(g>0){a=-1;while(++a<p){s=l[a];if(s>=h[0]&&s<=h[1]){o=c[n.bisect(f,s,1,g)-1];o.y+=v;o.push(t[a])}}};return c};t.value=function(n){if(!arguments.length)return r;r=n;return t};t.range=function(n){if(!arguments.length)return i;i=a(n);return t};t.bins=function(n){if(!arguments.length)return u;u=typeof n==='number'?function(t){return Su(t,n)}:a(n);return t};t.frequency=function(n){if(!arguments.length)return e;e=!!n;return t};return t};function zl(n,t){return Su(n,Math.ceil(Math.log(t.length)/Math.LN2+1))};function Su(n,t){var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];while(++e<=t)i[e]=u*e+r;return i};function Ll(t){return[n.min(t),n.max(t)]};n.layout.pack=function(){var u=n.layout.hierarchy().sort(ql),r=0,i=[1,1],t;function e(n,e){var s=u.call(this,n,e),a=s[0],o=i[0],l=i[1],c=t==null?Math.sqrt:typeof t==='function'?t:function(){return t};a.x=a.y=0;A(a,function(n){n.r=+c(n.value)});A(a,Eu);if(r){var f=r*(t?1:Math.max(2*a.r/o,2*a.r/l))/2;A(a,function(n){n.r+=f});A(a,Eu);A(a,function(n){n.r-=f})};Au(a,o/2,l/2,t?1:1/Math.max(2*a.r/o,2*a.r/l));return s};e.size=function(n){if(!arguments.length)return i;i=n;return e};e.radius=function(n){if(!arguments.length)return t;t=n==null||typeof n==='function'?n:+n;return e};e.padding=function(n){if(!arguments.length)return r;r=+n;return e};return In(e,u)};function ql(n,t){return n.value-t.value};function Be(n,t){var e=n._pack_next;n._pack_next=t;t._pack_prev=n;t._pack_next=e;e._pack_prev=t};function ku(n,t){n._pack_next=t;t._pack_prev=n};function Nu(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r};function Eu(n){if(!(i=n.children)||!(l=i.length))return;var i,p=Infinity,v=-Infinity,d=Infinity,m=-Infinity,e,r,t,u,a,o,l;function f(n){p=Math.min(n.x-n.r,p);v=Math.max(n.x+n.r,v);d=Math.min(n.y-n.r,d);m=Math.max(n.y+n.r,m)};i.forEach(Tl);e=i[0];e.x=-e.r;e.y=0;f(e);if(l>1){r=i[1];r.x=r.r;r.y=0;f(r);if(l>2){t=i[2];Cu(e,r,t);f(t);Be(e,t);e._pack_prev=t;Be(t,r);r=e._pack_next;for(u=3;u<l;u++){Cu(e,r,t=i[u]);var c=0,h=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,h++){if(Nu(a,t)){c=1;break}};if(c==1){for(o=e._pack_prev;o!==a._pack_prev;o=o._pack_prev,g++){if(Nu(o,t)){break}}};if(c){if(h<g||h==g&&r.r<e.r)ku(e,r=a);else ku(e=o,r);u--}
else{Be(e,t);r=t;f(t)}}}};var y=(p+v)/2,M=(d+m)/2,s=0;for(u=0;u<l;u++){t=i[u];t.x-=y;t.y-=M;s=Math.max(s,t.r+Math.sqrt(t.x*t.x+t.y*t.y))};n.r=s;i.forEach(Rl)};function Tl(n){n._pack_next=n._pack_prev=n};function Rl(n){delete n._pack_next;delete n._pack_prev};function Au(n,t,e,r){var i=n.children;n.x=t+=r*n.x;n.y=e+=r*n.y;n.r*=r;if(i){var u=-1,a=i.length;while(++u<a)Au(i[u],t,e,r)}};function Cu(n,t,e){var r=n.r+e.r,u=t.x-n.x,a=t.y-n.y;if(r&&(u||a)){var i=t.r+e.r,o=u*u+a*a;i*=i;r*=r;var l=.5+(r-i)/(2*o),f=Math.sqrt(Math.max(0,2*i*(r+o)-(r-=o)*r-i*i))/(2*o);e.x=n.x+l*u+f*a;e.y=n.y+l*a-f*u}
else{e.x=n.x+r;e.y=n.y}};n.layout.tree=function(){var a=n.layout.hierarchy().sort(null).value(null),e=zu,t=[1,1],i=null;function r(n,r){var d=a.call(this,n,r),s=d[0],g=o(s);A(g,l),g.parent.m=-g.z;Pn(g,f);if(i)Pn(s,u);else{var c=s,h=s,p=s;Pn(s,function(n){if(n.x<c.x)c=n;if(n.x>h.x)h=n;if(n.depth>p.depth)p=n});var v=e(c,h)/2-c.x,m=t[0]/(h.x+e(h,c)/2+v),y=t[1]/(p.depth||1);Pn(s,function(n){n.x=(n.x+v)*m;n.y=n.depth*y})};return d};function o(n){var u={A:null,children:[n]},a=[u],i;while((i=a.pop())!=null){for(var e=i.children,r,t=0,o=e.length;t<o;++t){a.push((e[t]=r={_:e[t],parent:i,children:(r=e[t].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:t}).a=r)}};return u.children[0]};function l(n){var r=n.children,u=n.parent.children,t=n.i?u[n.i-1]:null;if(r.length){Il(n);var i=(r[0].z+r[r.length-1].z)/2;if(t){n.z=t.z+e(n._,t._);n.m=n.z-i}
else{n.z=i}}
else if(t){n.z=t.z+e(n._,t._)};n.parent.A=s(n,t,n.parent.A||u[0])};function f(n){n._.x=n.z+n.parent.m;n.m+=n.parent.m};function s(n,t,r){if(t){var i=n,a=n,u=t,o=i.parent.children[0],f=i.m,s=a.m,c=u.m,h=o.m,l;while(u=Je(u),i=We(i),u&&i){o=We(o);a=Je(a);a.a=n;l=u.z+c-i.z-f+e(u._,i._);if(l>0){Dl(Pl(u,n,r),n,l);f+=l;s+=l};c+=u.m;f+=i.m;h+=o.m;s+=a.m};if(u&&!Je(a)){a.t=u;a.m+=c-s};if(i&&!We(o)){o.t=i;o.m+=f-h;r=n}};return r};function u(n){n.x*=t[0];n.y=n.depth*t[1]};r.separation=function(n){if(!arguments.length)return e;e=n;return r};r.size=function(n){if(!arguments.length)return i?null:t;i=(t=n)==null?u:null;return r};r.nodeSize=function(n){if(!arguments.length)return i?t:null;i=(t=n)==null?null:u;return r};return In(r,a)};function zu(n,t){return n.parent==t.parent?1:2};function We(n){var t=n.children;return t.length?t[0]:n.t};function Je(n){var t=n.children,e;return(e=t.length)?t[e-1]:n.t};function Dl(n,t,e){var r=e/(t.i-n.i);t.c-=r;t.s+=e;n.c+=r;t.z+=e;t.m+=e};function Il(n){var e=0,u=0,r=n.children,i=r.length,t;while(--i>=0){t=r[i];t.z+=e;t.m+=e;e+=t.s+(u+=t.c)}};function Pl(n,t,e){return n.a.parent===t.parent?n.a:e};n.layout.cluster=function(){var u=n.layout.hierarchy().sort(null).value(null),r=zu,t=[1,1],i=!1;function e(n,e){var c=u.call(this,n,e),a=c[0],f,g=0;A(a,function(n){var t=n.children;if(t&&t.length){n.x=jl(t);n.y=Ul(t)}
else{n.x=f?g+=r(n,f):0;n.y=0;f=n}});var o=Lu(a),l=qu(a),s=o.x-r(o,l)/2,h=l.x+r(l,o)/2;A(a,i?function(n){n.x=(n.x-a.x)*t[0];n.y=(a.y-n.y)*t[1]}:function(n){n.x=(n.x-s)/(h-s)*t[0];n.y=(1-(a.y?n.y/a.y:1))*t[1]});return c};e.separation=function(n){if(!arguments.length)return r;r=n;return e};e.size=function(n){if(!arguments.length)return i?null:t;i=(t=n)==null;return e};e.nodeSize=function(n){if(!arguments.length)return i?t:null;i=(t=n)!=null;return e};return In(e,u)};function Ul(t){return 1+n.max(t,function(n){return n.y})};function jl(n){return n.reduce(function(n,t){return n+t.x},0)/n.length};function Lu(n){var t=n.children;return t&&t.length?Lu(t[0]):n};function qu(n){var t=n.children,e;return t&&(e=t.length)?qu(t[e-1]):n};n.layout.treemap=function(){var o=n.layout.hierarchy(),r=Math.round,u=[1,1],h=null,l=Ge,f=!1,i,e='squarify',a=.5*(1+Math.sqrt(5));function s(n,t){var r=-1,u=n.length,i,e;while(++r<u){e=(i=n[r]).value*(t<0?0:t);i.area=isNaN(e)||e<=0?0:e}};function g(n){var a=n.children;if(a&&a.length){var r=l(n),t=[],i=a.slice(),f,o=Infinity,h,u=e==='slice'?r.dx:e==='dice'?r.dy:e==='slice-dice'?n.depth&1?r.dy:r.dx:Math.min(r.dx,r.dy),p;s(i,r.dx*r.dy/n.value);t.area=0;while((p=i.length)>0){t.push(f=i[p-1]);t.area+=f.area;if(e!=='squarify'||(h=v(t,u))<=o){i.pop();o=h}
else{t.area-=t.pop().area;c(t,u,r,!1);u=Math.min(r.dx,r.dy);t.length=t.area=0;o=Infinity}};if(t.length){c(t,u,r,!0);t.length=t.area=0};a.forEach(g)}};function p(n){var i=n.children;if(i&&i.length){var e=l(n),u=i.slice(),r,t=[];s(u,e.dx*e.dy/n.value);t.area=0;while(r=u.pop()){t.push(r);t.area+=r.area;if(r.z!=null){c(t,r.z?e.dx:e.dy,e,!u.length);t.length=t.area=0}};i.forEach(p)}};function v(n,t){var e=n.area,r,i=0,u=Infinity,o=-1,l=n.length;while(++o<l){if(!(r=n[o].area))continue;if(r<u)u=r;if(r>i)i=r};e*=e;t*=t;return e?Math.max(t*i*a/e,e/(t*u*a)):Infinity};function c(n,t,e,i){var f=-1,s=n.length,o=e.x,l=e.y,a=t?r(n.area/t):0,u;if(t==e.dx){if(i||a>e.dy)a=e.dy;while(++f<s){u=n[f];u.x=o;u.y=l;u.dy=a;o+=u.dx=Math.min(e.x+e.dx-o,a?r(u.area/a):0)};u.z=!0;u.dx+=e.x+e.dx-o;e.y+=a;e.dy-=a}
else{if(i||a>e.dx)a=e.dx;while(++f<s){u=n[f];u.x=o;u.y=l;u.dx=a;l+=u.dy=Math.min(e.y+e.dy-l,a?r(u.area/a):0)};u.z=!1;u.dy+=e.y+e.dy-l;e.x+=a;e.dx-=a}};function t(n){var e=i||o(n),t=e[0];t.x=t.y=0;if(t.value)t.dx=u[0],t.dy=u[1];else t.dx=t.dy=0;if(i)o.revalue(t);s([t],t.dx*t.dy/t.value);(i?p:g)(t);if(f)i=e;return e};t.size=function(n){if(!arguments.length)return u;u=n;return t};t.padding=function(n){if(!arguments.length)return h;function i(e){var r=n.call(t,e,e.depth);return r==null?Ge(e):Tu(e,typeof r==='number'?[r,r,r,r]:r)};function r(t){return Tu(t,n)};var e;l=(h=n)==null?Ge:(e=typeof n)==='function'?i:e==='number'?(n=[n,n,n,n],r):r;return t};t.round=function(n){if(!arguments.length)return r!=Number;r=n?Math.round:Number;return t};t.sticky=function(n){if(!arguments.length)return f;f=n;i=null;return t};t.ratio=function(n){if(!arguments.length)return a;a=n;return t};t.mode=function(n){if(!arguments.length)return e;e=n+'';return t};return In(t,o)};function Ge(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}};function Tu(n,t){var i=n.x+t[3],u=n.y+t[0],e=n.dx-t[1]-t[3],r=n.dy-t[0]-t[2];if(e<0){i+=e/2;e=0};if(r<0){u+=r/2;r=0};return{x:i,y:u,dx:e,dy:r}};n.random={normal:function(,){var e=arguments.length;if(e<2)=1;if(e<1)=0;return function(){var t,e,n;do{t=Math.random()*2-1;e=Math.random()*2-1;n=t*t+e*e}
while(!n||n>1);return +*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=n.random.normal.apply(n,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=n.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}};n.scale={};function wn(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]};function Tt(n){return n.rangeExtent?n.rangeExtent():wn(n.range())};function Fl(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}};function Rt(n,t){var e=0,r=n.length-1,i=n[e],u=n[r],a;if(u<i){a=e,e=r,r=a;a=i,i=u,u=a};n[e]=t.floor(i);n[r]=t.ceil(u);return n};function Ru(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ga};var ga={floor:h,ceil:h};function Hl(t,e,r,i){var o=[],l=[],u=0,a=Math.min(t.length,e.length)-1;if(t[a]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}
while(++u<=a){o.push(r(t[u-1],t[u]));l.push(i(e[u-1],e[u]))};return function(e){var r=n.bisect(t,e,1,a)-1;return l[r](o[r](e))}};n.scale.linear=function(){return Du([0,1],[0,1],on,!1)};function Du(n,t,e,r){var a,o;function u(){var u=Math.min(n.length,t.length)>2?Hl:Fl,l=r?hl:cl;a=u(n,t,l,e);o=u(t,n,l,on);return i};function i(n){return a(n)};i.invert=function(n){return o(n)};i.domain=function(t){if(!arguments.length)return n;n=t.map(Number);return u()};i.range=function(n){if(!arguments.length)return t;t=n;return u()};i.rangeRound=function(n){return i.range(n).interpolate(du)};i.clamp=function(n){if(!arguments.length)return r;r=n;return u()};i.interpolate=function(n){if(!arguments.length)return e;e=n;return u()};i.ticks=function(t){return Qe(n,t)};i.tickFormat=function(t,e){return nr(n,t,e)};i.nice=function(t){Iu(n,t);return u()};i.copy=function(){return Du(n,t,e,r)};return u()};function Ke(t,e){return n.rebind(t,e,'range','rangeRound','interpolate','clamp')};function Iu(n,t){Rt(n,Ru(bn(n,t)[2]));Rt(n,Ru(bn(n,t)[2]));return n};function bn(n,t){if(t==null)t=10;var r=wn(n),u=r[1]-r[0],e=Math.pow(10,Math.floor(Math.log(u/t)/Math.LN10)),i=t/u*e;if(i<=.15)e*=10;else if(i<=.35)e*=5;else if(i<=.75)e*=2;r[0]=Math.ceil(r[0]/e)*e;r[1]=Math.floor(r[1]/e)*e+e*.5;r[2]=e;return r};function Qe(t,e){return n.range.apply(n,bn(t,e))};function nr(t,e,i){var a=bn(t,e);if(i){var u=Ir.exec(i);u.shift();if(u[8]==='s'){var o=n.formatPrefix(Math.max(r(a[0]),r(a[1])));if(!u[7])u[7]='.'+Dt(o.scale(a[2]));u[8]='f';i=n.format(u.join(''));return function(n){return i(o.scale(n))+o.symbol}};if(!u[7])u[7]='.'+Ol(u[8],a);i=u.join('')}
else{i=',.'+Dt(a[2])+'f'};return n.format(i)};var ha={s:1,g:1,p:1,r:1,e:1};function Dt(n){return-Math.floor(Math.log(n)/Math.LN10+.01)};function Ol(n,t){var e=Dt(t[2]);return n in ha?Math.abs(e-Dt(Math.max(r(t[0]),r(t[1]))))+ +(n!=='e'):e-(n==='%')*2};n.scale.log=function(){return Pu(n.scale.linear().domain([0,1]),10,!0,[1,10])};function Pu(t,e,r,i){function a(n){return(r?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(e)};function o(n){return r?Math.pow(e,n):-Math.pow(e,-n)};function u(n){return t(a(n))};u.invert=function(n){return o(t.invert(n))};u.domain=function(n){if(!arguments.length)return i;r=n[0]>=0;t.domain((i=n.map(Number)).map(a));return u};u.base=function(n){if(!arguments.length)return e;e=+n;t.domain(i.map(a));return u};u.nice=function(){var n=Rt(i.map(a),r?Math:ca);t.domain(n);i=n.map(o);return u};u.ticks=function(){var f=wn(i),t=[],s=f[0],c=f[1],n=Math.floor(a(s)),l=Math.ceil(a(c)),h=e%1?2:e;if(isFinite(l-n)){if(r){for(;n<l;n++)for(var u=1;u<h;u++)t.push(o(n)*u);t.push(o(n))}
else{t.push(o(n));for(;n++<l;)for(var u=h-1;u>0;u--)t.push(o(n)*u)};for(n=0;t[n]<s;n++){};for(l=t.length;t[l-1]>c;l--){};t=t.slice(n,l)};return t};u.tickFormat=function(t,r){if(!arguments.length)return Mr;if(arguments.length<2)r=Mr;else if(typeof r!=='function')r=n.format(r);var i=Math.max(1,e*t/u.ticks().length);return function(n){var t=n/o(Math.round(a(n)));if(t*e<e-.5)t*=e;return t<=i?r(n):''}};u.copy=function(){return Pu(t.copy(),e,r,i)};return Ke(u,t)};var Mr=n.format('.0e'),ca={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};n.scale.pow=function(){return Uu(n.scale.linear(),1,[0,1])};function Uu(n,t,e){var i=It(t),u=It(1/t);function r(t){return n(i(t))};r.invert=function(t){return u(n.invert(t))};r.domain=function(t){if(!arguments.length)return e;n.domain((e=t.map(Number)).map(i));return r};r.ticks=function(n){return Qe(e,n)};r.tickFormat=function(n,t){return nr(e,n,t)};r.nice=function(n){return r.domain(Iu(e,n))};r.exponent=function(a){if(!arguments.length)return t;i=It(t=a);u=It(1/t);n.domain(e.map(i));return r};r.copy=function(){return Uu(n.copy(),t,e)};return Ke(r,n)};function It(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}};n.scale.sqrt=function(){return n.scale.pow().exponent(.5)};n.scale.ordinal=function(){return ju([],{t:'range',a:[[]]})};function ju(t,e){var a,i,u;function r(n){return i[((a.get(n)||(e.t==='range'?a.set(n,t.push(n)):NaN))-1)%i.length]};function o(e,r){return n.range(t.length).map(function(n){return e+r*n})};r.domain=function(n){if(!arguments.length)return t;t=[];a=new T();var u=-1,o=n.length,i;while(++u<o)if(!a.has(i=n[u]))a.set(i,t.push(i));return r[e.t].apply(r,e.a)};r.range=function(n){if(!arguments.length)return i;i=n;u=0;e={t:'range',a:arguments};return r};r.rangePoints=function(n,a){if(arguments.length<2)a=0;var l=n[0],f=n[1],s=t.length<2?(l=(l+f)/2,0):(f-l)/(t.length-1+a);i=o(l+s*a/2,s);u=0;e={t:'rangePoints',a:arguments};return r};r.rangeRoundPoints=function(n,a){if(arguments.length<2)a=0;var l=n[0],f=n[1],s=t.length<2?(l=f=Math.round((l+f)/2),0):(f-l)/(t.length-1+a)|0;i=o(l+Math.round(s*a/2+(f-l-(t.length-1+a)*s)/2),s);u=0;e={t:'rangeRoundPoints',a:arguments};return r};r.rangeBands=function(n,a,l){if(arguments.length<2)a=0;if(arguments.length<3)l=a;var f=n[1]<n[0],c=n[f-0],h=n[1-f],s=(h-c)/(t.length-a+2*l);i=o(c+s*l,s);if(f)i.reverse();u=s*(1-a);e={t:'rangeBands',a:arguments};return r};r.rangeRoundBands=function(n,a,l){if(arguments.length<2)a=0;if(arguments.length<3)l=a;var f=n[1]<n[0],s=n[f-0],h=n[1-f],c=Math.floor((h-s)/(t.length-a+2*l));i=o(s+Math.round((h-s-(t.length-a)*c)/2),c);if(f)i.reverse();u=Math.round(c*(1-a));e={t:'rangeRoundBands',a:arguments};return r};r.rangeBand=function(){return u};r.rangeExtent=function(){return wn(e.a[0])};r.copy=function(){return ju(t,e)};return r.domain(t)};n.scale.category10=function(){return n.scale.ordinal().range(oa)};n.scale.category20=function(){return n.scale.ordinal().range(la)};n.scale.category20b=function(){return n.scale.ordinal().range(fa)};n.scale.category20c=function(){return n.scale.ordinal().range(sa)};var oa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(pt),la=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(pt),fa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(pt),sa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(pt);n.scale.quantile=function(){return Fu([],[])};function Fu(t,e){var r;function u(){var u=0,a=e.length;r=[];while(++u<a)r[u-1]=n.quantile(t,u/a);return i};function i(t){if(!isNaN(t=+t))return e[n.bisect(r,t)]};i.domain=function(n){if(!arguments.length)return t;t=n.map(tn).filter(q).sort(pn);return u()};i.range=function(n){if(!arguments.length)return e;e=n;return u()};i.quantiles=function(){return r};i.invertExtent=function(n){n=e.indexOf(n);return n<0?[NaN,NaN]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]};i.copy=function(){return Fu(t,e)};return u()};n.scale.quantize=function(){return Hu(0,1,[0,1])};function Hu(n,t,e){var i,a;function r(t){return e[Math.max(0,Math.min(a,Math.floor(i*(t-n))))]};function u(){i=e.length/(t-n);a=e.length-1;return r};r.domain=function(e){if(!arguments.length)return[n,t];n=+e[0];t=+e[e.length-1];return u()};r.range=function(n){if(!arguments.length)return e;e=n;return u()};r.invertExtent=function(t){t=e.indexOf(t);t=t<0?NaN:t/i+n;return[t,t+1/i]};r.copy=function(){return Hu(n,t,e)};return u()};n.scale.threshold=function(){return Ou([.5],[0,1])};function Ou(t,e){function r(r){if(r<=r)return e[n.bisect(t,r)]};r.domain=function(n){if(!arguments.length)return t;t=n;return r};r.range=function(n){if(!arguments.length)return e;e=n;return r};r.invertExtent=function(n){n=e.indexOf(n);return[t[n-1],t[n]]};r.copy=function(){return Ou(t,e)};return r};n.scale.identity=function(){return Yu([0,1])};function Yu(n){function t(n){return+n};t.invert=t;t.domain=t.range=function(e){if(!arguments.length)return n;n=e.map(t);return t};t.ticks=function(t){return Qe(n,t)};t.tickFormat=function(t,e){return nr(n,t,e)};t.copy=function(){return Yu(n)};return t};n.svg={};function Yl(){return 0};n.svg.arc=function(){var t=Zl,e=Vl,o=Yl,r=Yn,i=Zu,u=Vu,l=Xl;function n(){var n=Math.max(0,+t.apply(this,arguments)),a=Math.max(0,+e.apply(this,arguments)),w=i.apply(this,arguments)-f,b=u.apply(this,arguments)-f,H=Math.abs(b-w),c=w>b?0:1;if(a<n)S=a,a=n,n=S;if(H>=)return s(a,c)+(n?s(n,1-c):'')+'Z';var S,A,j,F,C=0,N=0,h,g,p,E,d,m,y,z,v=[];if(F=(+l.apply(this,arguments)||0)/2){j=r===Yn?Math.sqrt(n*n+a*a):+r.apply(this,arguments);if(!c)N*=-1;if(a)N=X(j/a*Math.sin(F));if(n)C=X(j/n*Math.sin(F))};if(a){h=a*Math.cos(w+N);g=a*Math.sin(w+N);p=a*Math.cos(b-N);E=a*Math.sin(b-N);var W=Math.abs(b-w-2*N)<=?0:1;if(N&&Pt(h,g,p,E)===c^W){var B=(w+b)/2;h=a*Math.cos(B);g=a*Math.sin(B);p=E=null}}
else{h=g=0};if(n){d=n*Math.cos(b-C);m=n*Math.sin(b-C);y=n*Math.cos(w+C);z=n*Math.sin(w+C);var V=Math.abs(w-b+2*C)<=?0:1;if(C&&Pt(d,m,y,z)===1-c^V){var Z=(w+b)/2;d=n*Math.cos(Z);m=n*Math.sin(Z);y=z=null}}
else{d=m=0};if(H>&&(S=Math.min(Math.abs(a-n)/2,+o.apply(this,arguments)))>.001){A=n<a^c?0:1;var M=S,x=S;if(H<){var k=y==null?[d,m]:p==null?[h,g]:Fe([h,g],[y,z],[p,E],[d,m]),D=h-k[0],I=g-k[1],P=p-k[0],U=E-k[1],O=1/Math.sin(Math.acos((D*P+I*U)/(Math.sqrt(D*D+I*I)*Math.sqrt(P*P+U*U)))/2),Y=Math.sqrt(k[0]*k[0]+k[1]*k[1]);x=Math.min(S,(n-Y)/(O-1));M=Math.min(S,(a-Y)/(O+1))};if(p!=null){var T=Ut(y==null?[d,m]:[y,z],[h,g],a,M,c),R=Ut([p,E],[d,m],a,M,c);if(S===M){v.push('M',T[0],'A',M,',',M,' 0 0,',A,' ',T[1],'A',a,',',a,' 0 ',1-c^Pt(T[1][0],T[1][1],R[1][0],R[1][1]),',',c,' ',R[1],'A',M,',',M,' 0 0,',A,' ',R[0])}
else{v.push('M',T[0],'A',M,',',M,' 0 1,',A,' ',R[0])}}
else{v.push('M',h,',',g)};if(y!=null){var L=Ut([h,g],[y,z],n,-x,c),q=Ut([d,m],p==null?[h,g]:[p,E],n,-x,c);if(S===x){v.push('L',q[0],'A',x,',',x,' 0 0,',A,' ',q[1],'A',n,',',n,' 0 ',c^Pt(q[1][0],q[1][1],L[1][0],L[1][1]),',',1-c,' ',L[1],'A',x,',',x,' 0 0,',A,' ',L[0])}
else{v.push('L',q[0],'A',x,',',x,' 0 0,',A,' ',L[0])}}
else{v.push('L',d,',',m)}}
else{v.push('M',h,',',g);if(p!=null)v.push('A',a,',',a,' 0 ',W,',',c,' ',p,',',E);v.push('L',d,',',m);if(y!=null)v.push('A',n,',',n,' 0 ',V,',',1-c,' ',y,',',z)};v.push('Z');return v.join('')};function s(n,t){return'M0,'+n+'A'+n+','+n+' 0 1,'+t+' 0,'+-n+'A'+n+','+n+' 0 1,'+t+' 0,'+n};n.innerRadius=function(e){if(!arguments.length)return t;t=a(e);return n};n.outerRadius=function(t){if(!arguments.length)return e;e=a(t);return n};n.cornerRadius=function(t){if(!arguments.length)return o;o=a(t);return n};n.padRadius=function(t){if(!arguments.length)return r;r=t==Yn?Yn:a(t);return n};n.startAngle=function(t){if(!arguments.length)return i;i=a(t);return n};n.endAngle=function(t){if(!arguments.length)return u;u=a(t);return n};n.padAngle=function(t){if(!arguments.length)return l;l=a(t);return n};n.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-f;return[Math.cos(r)*n,Math.sin(r)*n]};return n};var Yn='auto';function Zl(n){return n.innerRadius};function Vl(n){return n.outerRadius};function Zu(n){return n.startAngle};function Vu(n){return n.endAngle};function Xl(n){return n&&n.padAngle};function Pt(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1};function Ut(n,t,e,r,i){var g=n[0]-t[0],p=n[1]-t[1],w=(i?r:-r)/Math.sqrt(g*g+p*p),v=w*p,d=-w*g,m=n[0]+v,y=n[1]+d,M=t[0]+v,x=t[1]+d,b=(m+M)/2,S=(y+x)/2,a=M-m,u=x-y,l=a*a+u*u,f=e-r,o=m*x-M*y,s=(u<0?-1:1)*Math.sqrt(Math.max(0,f*f*l-o*o)),c=(o*u-a*s)/l,h=(-o*a-u*s)/l,k=(o*u+a*s)/l,N=(-o*a+u*s)/l,E=c-b,A=h-S,C=k-b,z=N-S;if(E*E+A*A>C*C+z*z)c=k,h=N;return[[c-v,h-d],[c*e/f,h*e/f]]};function Xu(n){var r=mn,i=Ln,u=An,e=S,o=e.key,l=.7;function t(t){var s=[],o=[],f=-1,g=t.length,c,p=a(r),v=a(i);function h(){s.push('M',e(n(o),l))}
while(++f<g){if(u.call(this,c=t[f],f)){o.push([+p.call(this,c,f),+v.call(this,c,f)])}
else if(o.length){h();o=[]}};if(o.length)h();return s.length?s.join(''):null};t.x=function(n){if(!arguments.length)return r;r=n;return t};t.y=function(n){if(!arguments.length)return i;i=n;return t};t.defined=function(n){if(!arguments.length)return u;u=n;return t};t.interpolate=function(n){if(!arguments.length)return o;if(typeof n==='function')o=e=n;else o=(e=Zt.get(n)||S).key;return t};t.tension=function(n){if(!arguments.length)return l;l=n;return t};return t};n.svg.line=function(){return Xu(h)};var Zt=n.map({linear:S,'linear-closed':Bu,step:Bl,'step-before':tr,'step-after':er,basis:Wu,'basis-open':Kl,'basis-closed':Ql,bundle:nf,cardinal:Gl,'cardinal-open':Wl,'cardinal-closed':Jl,monotone:rf});Zt.forEach(function(n,t){t.key=n;t.closed=/-closed$/.test(n)});function S(n){return n.length>1?n.join('L'):n+'Z'};function Bu(n){return n.join('L')+'Z'};function Bl(n){var r=0,i=n.length,t=n[0],e=[t[0],',',t[1]];while(++r<i)e.push('H',(t[0]+(t=n[r])[0])/2,'V',t[1]);if(i>1)e.push('H',t[0]);return e.join('')};function tr(n){var e=0,i=n.length,t=n[0],r=[t[0],',',t[1]];while(++e<i)r.push('V',(t=n[e])[1],'H',t[0]);return r.join('')};function er(n){var e=0,i=n.length,t=n[0],r=[t[0],',',t[1]];while(++e<i)r.push('H',(t=n[e])[0],'V',t[1]);return r.join('')};function Wl(n,t){return n.length<4?S(n):n[1]+jt(n.slice(1,-1),rr(n,t))};function Jl(n,t){return n.length<3?Bu(n):n[0]+jt((n.push(n[0]),n),rr([n[n.length-2]].concat(n,[n[1]]),t))};function Gl(n,t){return n.length<3?S(n):n[0]+jt(n,rr(n,t))};function jt(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2){return S(n)};var s=n.length!=t.length,u='',l=n[0],e=n[1],a=t[0],r=a,i=1;if(s){u+='Q'+(e[0]-a[0]*2/3)+','+(e[1]-a[1]*2/3)+','+e[0]+','+e[1];l=n[1];i=2};if(t.length>1){r=t[1];e=n[i];i++;u+='C'+(l[0]+a[0])+','+(l[1]+a[1])+','+(e[0]-r[0])+','+(e[1]-r[1])+','+e[0]+','+e[1];for(var o=2;o<t.length;o++,i++){e=n[i];r=t[o];u+='S'+(e[0]-r[0])+','+(e[1]-r[1])+','+e[0]+','+e[1]}};if(s){var f=n[i];u+='Q'+(e[0]+r[0]*2/3)+','+(e[1]+r[1]*2/3)+','+f[0]+','+f[1]};return u};function rr(n,t){var i=[],u=(1-t)/2,r,a=n[0],e=n[1],o=1,l=n.length;while(++o<l){r=a;a=e;e=n[o];i.push([u*(e[0]-r[0]),u*(e[1]-r[1])])};return i};function Wu(n){if(n.length<3)return S(n);var o=1,l=n.length,t=n[0],e=t[0],r=t[1],i=[e,e,e,(t=n[1])[0]],u=[r,r,r,t[1]],a=[e,',',r,'L',y(U,i),',',y(U,u)];n.push(n[l-1]);while(++o<=l){t=n[o];i.shift();i.push(t[0]);u.shift();u.push(t[1]);ir(a,i,u)};n.pop();a.push('L',t);return a.join('')};function Kl(n){if(n.length<4)return S(n);var u=[],e=-1,a=n.length,t,r=[0],i=[0];while(++e<3){t=n[e];r.push(t[0]);i.push(t[1])};u.push(y(U,r)+','+y(U,i));--e;while(++e<a){t=n[e];r.shift();r.push(t[0]);i.shift();i.push(t[1]);ir(u,r,i)};return u.join('')};function Ql(n){var u,e=-1,a=n.length,o=a+4,t,r=[],i=[];while(++e<4){t=n[e%a];r.push(t[0]);i.push(t[1])};u=[y(U,r),',',y(U,i)];--e;while(++e<o){t=n[e%a];r.shift();r.push(t[0]);i.shift();i.push(t[1]);ir(u,r,i)};return u.join('')};function nf(n,t){var r=n.length-1;if(r){var a=n[0][0],o=n[0][1],l=n[r][0]-a,f=n[r][1]-o,i=-1,e,u;while(++i<=r){e=n[i];u=i/r;e[0]=t*e[0]+(1-t)*(a+u*l);e[1]=t*e[1]+(1-t)*(o+u*f)}};return Wu(n)};function y(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]};var mr=[0,2/3,1/3,0],yr=[0,1/3,2/3,0],U=[0,1/6,2/3,1/6];function ir(n,t,e){n.push('C',y(mr,t),',',y(mr,e),',',y(yr,t),',',y(yr,e),',',y(U,t),',',y(U,e))};function ur(n,t){return(t[1]-n[1])/(t[0]-n[0])};function tf(n){var t=0,a=n.length-1,e=[],u=n[0],r=n[1],i=e[0]=ur(u,r);while(++t<a){e[t]=(i+(i=ur(u=r,r=n[t+1])))/2};e[t]=i;return e};function ef(n){var f=[],u,a,o,e,i=tf(n),t=-1,l=n.length-1;while(++t<l){u=ur(n[t],n[t+1]);if(r(u)<){i[t]=i[t+1]=0}
else{a=i[t]/u;o=i[t+1]/u;e=a*a+o*o;if(e>9){e=u*3/Math.sqrt(e);i[t]=e*a;i[t+1]=e*o}}};t=-1;while(++t<=l){e=(n[Math.min(l,t+1)][0]-n[Math.max(0,t-1)][0])/(6*(1+i[t]*i[t]));f.push([e||0,i[t]*e||0])};return f};function rf(n){return n.length<3?S(n):n[0]+jt(n,ef(n))};n.svg.line.radial=function(){var n=Xu(Ju);n.radius=n.x,delete n.x;n.angle=n.y,delete n.y;return n};function Ju(n){var t,i=-1,u=n.length,e,r;while(++i<u){t=n[i];e=t[0];r=t[1]-f;t[0]=e*Math.cos(r);t[1]=e*Math.sin(r)};return n};function Gu(n){var u=mn,r=mn,o=0,i=Ln,f=An,e=S,s=e.key,c=e,h='L',l=.7;function t(t){var v=[],g=[],d=[],s=-1,x=t.length,p,w=a(u),b=a(o),S=u===r?function(){return m}:a(r),k=o===i?function(){return y}:a(i),m,y;function M(){v.push('M',e(n(d),l),h,c(n(g.reverse()),l),'Z')}
while(++s<x){if(f.call(this,p=t[s],s)){g.push([m=+w.call(this,p,s),y=+b.call(this,p,s)]);d.push([+S.call(this,p,s),+k.call(this,p,s)])}
else if(g.length){M();g=[];d=[]}};if(g.length)M();return v.length?v.join(''):null};t.x=function(n){if(!arguments.length)return r;u=r=n;return t};t.x0=function(n){if(!arguments.length)return u;u=n;return t};t.x1=function(n){if(!arguments.length)return r;r=n;return t};t.y=function(n){if(!arguments.length)return i;o=i=n;return t};t.y0=function(n){if(!arguments.length)return o;o=n;return t};t.y1=function(n){if(!arguments.length)return i;i=n;return t};t.defined=function(n){if(!arguments.length)return f;f=n;return t};t.interpolate=function(n){if(!arguments.length)return s;if(typeof n==='function')s=e=n;else s=(e=Zt.get(n)||S).key;c=e.reverse||e;h=e.closed?'M':'L';return t};t.tension=function(n){if(!arguments.length)return l;l=n;return t};return t};tr.reverse=er;er.reverse=tr;n.svg.area=function(){return Gu(h)};n.svg.area.radial=function(){var n=Gu(Ju);n.radius=n.x,delete n.x;n.innerRadius=n.x0,delete n.x0;n.outerRadius=n.x1,delete n.x1;n.angle=n.y,delete n.y;n.startAngle=n.y0,delete n.y0;n.endAngle=n.y1,delete n.y1;return n};n.svg.chord=function(){var t=Ie,e=Pe,r=uf,i=Zu,u=Vu;function n(n,r){var i=l(this,t,n,r),u=l(this,e,n,r);return'M'+i.p0+s(i.r,i.p1,i.a1-i.a0)+(c(i,u)?o(i.r,i.p1,i.r,i.p0):o(i.r,i.p1,u.r,u.p0)+s(u.r,u.p1,u.a1-u.a0)+o(u.r,u.p1,i.r,i.p0))+'Z'};function l(n,t,e,a){var l=t.call(n,e,a),o=r.call(n,l,a),s=i.call(n,l,a)-f,c=u.call(n,l,a)-f;return{r:o,a0:s,a1:c,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(c),o*Math.sin(c)]}};function c(n,t){return n.a0==t.a0&&n.a1==t.a1};function s(n,t,e){return'A'+n+','+n+' 0 '+ +(e>)+',1 '+t};function o(n,t,e,r){return'Q 0,0 '+r};n.radius=function(t){if(!arguments.length)return r;r=a(t);return n};n.source=function(e){if(!arguments.length)return t;t=a(e);return n};n.target=function(t){if(!arguments.length)return e;e=a(t);return n};n.startAngle=function(t){if(!arguments.length)return i;i=a(t);return n};n.endAngle=function(t){if(!arguments.length)return u;u=a(t);return n};return n};function uf(n){return n.radius};n.svg.diagonal=function(){var t=Ie,e=Pe,r=Ku;function n(n,i){var a=t.call(this,n,i),o=e.call(this,n,i),l=(a.y+o.y)/2,u=[a,{x:a.x,y:l},{x:o.x,y:l},o];u=u.map(r);return'M'+u[0]+'C'+u[1]+' '+u[2]+' '+u[3]};n.source=function(e){if(!arguments.length)return t;t=a(e);return n};n.target=function(t){if(!arguments.length)return e;e=a(t);return n};n.projection=function(t){if(!arguments.length)return r;r=t;return n};return n};function Ku(n){return[n.x,n.y]};n.svg.diagonal.radial=function(){var t=n.svg.diagonal(),e=Ku,r=t.projection;t.projection=function(n){return arguments.length?r(af(e=n)):e};return t};function af(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-f;return[e*Math.cos(r),e*Math.sin(r)]}};n.svg.symbol=function(){var t=lf,e=of;function n(n,r){return(dr.get(t.call(this,n,r))||Qu)(e.call(this,n,r))};n.type=function(e){if(!arguments.length)return t;t=a(e);return n};n.size=function(t){if(!arguments.length)return e;e=a(t);return n};return n};function of(){return 64};function lf(){return'circle'};function Qu(n){var t=Math.sqrt(n/);return'M0,'+t+'A'+t+','+t+' 0 1,1 0,'+-t+'A'+t+','+t+' 0 1,1 0,'+t+'Z'};var dr=n.map({circle:Qu,cross:function(n){var t=Math.sqrt(n/5)/2;return'M'+-3*t+','+-t+'H'+-t+'V'+-3*t+'H'+t+'V'+-t+'H'+3*t+'V'+t+'H'+t+'V'+3*t+'H'+-t+'V'+t+'H'+-3*t+'Z'},diamond:function(n){var t=Math.sqrt(n/(2*vr)),e=t*vr;return'M0,'+-t+'L'+e+',0 0,'+t+' '+-e+',0Z'},square:function(n){var t=Math.sqrt(n)/2;return'M'+-t+','+-t+'L'+t+','+-t+' '+t+','+t+' '+-t+','+t+'Z'},'triangle-down':function(n){var t=Math.sqrt(n/On),e=t*On/2;return'M0,'+e+'L'+t+','+-e+' '+-t+','+-e+'Z'},'triangle-up':function(n){var t=Math.sqrt(n/On),e=t*On/2;return'M0,'+-e+'L'+t+','+e+' '+-t+','+e+'Z'}});n.svg.symbolTypes=dr.keys();var On=Math.sqrt(3),vr=Math.tan(30*e);u.transition=function(n){var u=W||++pr,a=or(n),o=[],l,e,c=Fn||{time:Date.now(),ease:Wo,delay:0,duration:250};for(var i=-1,s=this.length;++i<s;){o.push(l=[]);for(var r=this[i],t=-1,f=r.length;++t<f;){if(e=r[t])Ft(e,t,a,u,c);l.push(e)}};return Un(o,a,u)};u.interrupt=function(n){return this.each(n==null?Hn:na(or(n)))};var Hn=na(or());function na(n){return function(){var t,r,e;if((t=this[n])&&(e=t[r=t.active])){e.timer.c=null;e.timer.t=NaN;if(--t.count)delete t[r];else delete this[n];t.active+=.5;e.event&&e.event.interrupt.call(this,this.__data__,e.index)}}};function Un(n,t,e){st(n,c);n.namespace=t;n.id=e;return n};var c=[],pr=0,W,Fn;c.call=u.call;c.empty=u.empty;c.node=u.node;c.size=u.size;n.transition=function(t,e){return t&&t.transition?W?t.transition(e):t:n.selection().transition(t)};n.transition.prototype=c;c.select=function(n){var u=this.id,a=this.namespace,f=[],o,r,t;n=pe(n);for(var i=-1,c=this.length;++i<c;){f.push(o=[]);for(var l=this[i],e=-1,s=l.length;++e<s;){if((t=l[e])&&(r=n.call(t,t.__data__,e,i))){if('__data__' in t)r.__data__=t.__data__;Ft(r,e,a,u,t[a][u]);o.push(r)}
else{o.push(null)}}};return Un(f,a,u)};c.selectAll=function(n){var u=this.id,a=this.namespace,s=[],c,o,t,l,h;n=ei(n);for(var i=-1,v=this.length;++i<v;){for(var f=this[i],r=-1,p=f.length;++r<p;){if(t=f[r]){h=t[a][u];o=n.call(t,t.__data__,r,i);s.push(c=[]);for(var e=-1,g=o.length;++e<g;){if(l=o[e])Ft(l,e,a,u,h);c.push(l)}}}};return Un(s,a,u)};c.filter=function(n){var u=[],a,i,r;if(typeof n!=='function')n=ci(n);for(var e=0,l=this.length;e<l;e++){u.push(a=[]);for(var i=this[e],t=0,o=i.length;t<o;t++){if((r=i[t])&&n.call(r,r.__data__,t,e)){a.push(r)}}};return Un(u,this.namespace,this.id)};c.tween=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2)return this.node()[r][e].tween.get(n);return R(this,t==null?function(t){t[r][e].tween.remove(n)}:function(i){i[r][e].tween.set(n,t)})};function ar(n,t,e,r){var i=n.id,u=n.namespace;return R(n,typeof e==='function'?function(n,a,o){n[u][i].tween.set(t,r(e.call(n,n.__data__,a,o)))}:(e=r(e),function(n){n[u][i].tween.set(t,e)}))};c.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this};var i=t=='transform'?xu:on,r=n.ns.qualify(t);function u(){this.removeAttribute(r)};function a(){this.removeAttributeNS(r.space,r.local)};function o(n){return n==null?u:(n+='',function(){var t=this.getAttribute(r),e;return t!==n&&(e=i(t,n),function(n){this.setAttribute(r,e(n))})})};function l(n){return n==null?a:(n+='',function(){var t=this.getAttributeNS(r.space,r.local),e;return t!==n&&(e=i(t,n),function(n){this.setAttributeNS(r.space,r.local,e(n))})})};return ar(this,'attr.'+t,e,r.local?l:o)};c.attrTween=function(t,e){var r=n.ns.qualify(t);function i(n,t){var i=e.call(this,n,t,this.getAttribute(r));return i&&function(n){this.setAttribute(r,i(n))}};function u(n,t){var i=e.call(this,n,t,this.getAttributeNS(r.space,r.local));return i&&function(n){this.setAttributeNS(r.space,r.local,i(n))}};return this.tween('attr.'+t,r.local?u:i)};c.style=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=='string'){if(r<2)t='';for(e in n)this.style(e,n[e],t);return this};e=''};function i(){this.style.removeProperty(n)};function u(t){return t==null?i:(t+='',function(){var r=Y(this).getComputedStyle(this,null).getPropertyValue(n),i;return r!==t&&(i=on(r,t),function(t){this.style.setProperty(n,i(t),e)})})};return ar(this,'style.'+n,t,u)};c.styleTween=function(n,t,e){if(arguments.length<3)e='';function r(r,i){var u=t.call(this,r,i,Y(this).getComputedStyle(this,null).getPropertyValue(n));return u&&function(t){this.style.setProperty(n,u(t),e)}};return this.tween('style.'+n,r)};c.text=function(n){return ar(this,'text',n,ff)};function ff(n){if(n==null)n='';return function(){this.textContent=n}};c.remove=function(){var n=this.namespace;return this.each('end.transition',function(){var t;if(this[n].count<2&&(t=this.parentNode))t.removeChild(this)})};c.ease=function(t){var e=this.id,r=this.namespace;if(arguments.length<1)return this.node()[r][e].ease;if(typeof t!=='function')t=n.ease.apply(n,arguments);return R(this,function(n){n[r][e].ease=t})};c.delay=function(n){var t=this.id,e=this.namespace;if(arguments.length<1)return this.node()[e][t].delay;return R(this,typeof n==='function'?function(r,i,u){r[e][t].delay=+n.call(r,r.__data__,i,u)}:(n=+n,function(r){r[e][t].delay=n}))};c.duration=function(n){var t=this.id,e=this.namespace;if(arguments.length<1)return this.node()[e][t].duration;return R(this,typeof n==='function'?function(r,i,u){r[e][t].duration=Math.max(1,n.call(r,r.__data__,i,u))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))};c.each=function(t,e){var r=this.id,i=this.namespace;if(arguments.length<2){var u=Fn,a=W;try{W=r;R(this,function(n,e,u){Fn=n[i][r];t.call(n,n.__data__,e,u)})}finally{Fn=u;W=a}}
else{R(this,function(u){var a=u[i][r];(a.event||(a.event=n.dispatch('start','end','interrupt'))).on(t,e)})};return this};c.transition=function(){var c=this.id,a=++pr,u=this.namespace,o=[],l,r,e,n;for(var i=0,s=this.length;i<s;i++){o.push(l=[]);for(var r=this[i],t=0,f=r.length;t<f;t++){if(e=r[t]){n=e[u][c];Ft(e,t,u,a,{time:n.time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration})};l.push(e)}};return Un(o,u,a)};function or(n){return n==null?'__transition__':'__transition_'+n+'__'};function Ft(n,t,e,r,i){var u=n[e]||(n[e]={active:0,count:0}),a=u[r],l,o,s,c,f;function p(n){var t=a.delay;o.t=t+l;if(t<=n)return h(n-t);o.c=h};function h(e){var v=u.active,i=u[v];if(i){i.timer.c=null;i.timer.t=NaN;--u.count;delete u[v];i.event&&i.event.interrupt.call(n,n.__data__,i.index)};for(var h in u){if(+h<r){var p=u[h];p.timer.c=null;p.timer.t=NaN;--u.count;delete u[h]}};o.c=g;dt(function(){if(o.c&&g(e||1)){o.c=null;o.t=NaN};return 1},0,l);u.active=r;a.event&&a.event.start.call(n,n.__data__,t);f=[];a.tween.forEach(function(e,r){if(r=r.call(n,n.__data__,t)){f.push(r)}});c=a.ease;s=a.duration};function g(i){var o=i/s,h=c(o),l=f.length;while(l>0){f[--l].call(n,h)};if(o>=1){a.event&&a.event.end.call(n,n.__data__,t);if(--u.count)delete u[r];else delete n[e];return 1}};if(!a){l=i.time;o=dt(p,0,l);a=u[r]={tween:new T(),time:l,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:t};i=null;++u.count}};n.svg.axis=function(){var u=n.scale.linear(),i=gr,e=6,r=6,f=3,a=[10],o=null,l;function t(t){t.each(function(){var k=n.select(this),c=this.__chart__||u,t=this.__chart__=u.copy(),R=o==null?t.ticks?t.ticks.apply(t,a):t.domain():o,D=l==null?t.tickFormat?t.tickFormat.apply(t,a):h:l,m=k.selectAll('.tick').data(R,t),g=m.enter().insert('g','.domain').attr('class','tick').style('opacity',),I=n.transition(m.exit()).style('opacity',).remove(),w=n.transition(m.order()).style('opacity',1),N=Math.max(e,0)+f,p,y=Tt(t),E=k.selectAll('.domain').data([0]),A=(E.enter().append('path').attr('class','domain'),n.transition(E));g.append('line');g.append('text');var z=g.select('line'),L=w.select('line'),S=m.select('text').text(D),q=g.select('text'),T=w.select('text'),s=i==='top'||i==='left'?-1:1,M,x,v,d;if(i==='bottom'||i==='top'){p=sf,M='x',v='y',x='x2',d='y2';S.attr('dy',s<0?'0em':'.71em').style('text-anchor','middle');A.attr('d','M'+y[0]+','+s*r+'V0H'+y[1]+'V'+s*r)}
else{p=cf,M='y',v='x',x='y2',d='x2';S.attr('dy','.32em').style('text-anchor',s<0?'end':'start');A.attr('d','M'+s*r+','+y[0]+'H0V'+y[1]+'H'+s*r)};z.attr(d,s*e);q.attr(v,s*N);L.attr(x,0).attr(d,s*e);T.attr(M,0).attr(v,s*N);if(t.rangeBand){var b=t,C=b.rangeBand()/2;c=t=function(n){return b(n)+C}}
else if(c.rangeBand){c=t}
else{I.call(p,t,c)};g.call(p,c,t);w.call(p,t,t)})};t.scale=function(n){if(!arguments.length)return u;u=n;return t};t.orient=function(n){if(!arguments.length)return i;i=n in aa?n+'':gr;return t};t.ticks=function(){if(!arguments.length)return a;a=N(arguments);return t};t.tickValues=function(n){if(!arguments.length)return o;o=n;return t};t.tickFormat=function(n){if(!arguments.length)return l;l=n;return t};t.tickSize=function(n){var i=arguments.length;if(!i)return e;e=+n;r=+arguments[i-1];return t};t.innerTickSize=function(n){if(!arguments.length)return e;e=+n;return t};t.outerTickSize=function(n){if(!arguments.length)return r;r=+n;return t};t.tickPadding=function(n){if(!arguments.length)return f;f=+n;return t};t.tickSubdivide=function(){return arguments.length&&t};return t};var gr='bottom',aa={top:1,right:1,bottom:1,left:1};function sf(n,t,e){n.attr('transform',function(n){var r=t(n);return'translate('+(isFinite(r)?r:e(n))+',0)'})};function cf(n,t,e){n.attr('transform',function(n){var r=t(n);return'translate(0,'+(isFinite(r)?r:e(n))+')'})};n.svg.brush=function(){var s=ge(u,'brushstart','brush','brushend'),r=null,i=null,t=[0,0],e=[0,0],a,o,l=!0,f=!0,c=Ot[0];function u(t){t.each(function(){var e=n.select(this).style('pointer-events','all').style('-webkit-tap-highlight-color','rgba(0,0,0,0)').on('mousedown.brush',d).on('touchstart.brush',d),f=e.selectAll('.background').data([0]);f.enter().append('rect').attr('class','background').style('visibility','hidden').style('cursor','crosshair');e.selectAll('.extent').data([0]).enter().append('rect').attr('class','extent').style('cursor','move');var o=e.selectAll('.resize').data(c,h);o.exit().remove();o.enter().append('g').attr('class',function(n){return'resize '+n}).style('cursor',function(n){return ua[n]}).append('rect').attr('x',function(n){return/[ew]$/.test(n)?-3:null}).attr('y',function(n){return/^[ns]/.test(n)?-3:null}).attr('width',6).attr('height',6).style('visibility','hidden');o.style('display',u.empty()?'none':null);var a=n.transition(e),l=n.transition(f),t;if(r){t=Tt(r);l.attr('x',t[0]).attr('width',t[1]-t[0]);p(a)};if(i){t=Tt(i);l.attr('y',t[0]).attr('height',t[1]-t[0]);v(a)};g(a)})};u.event=function(r){r.each(function(){var i=s.of(this,arguments),r={x:t,y:e,i:a,j:o},u=this.__chart__||r;this.__chart__=r;if(W){n.select(this).transition().each('start.brush',function(){a=u.i;o=u.j;t=u.x;e=u.y;i({type:'brushstart'})}).tween('brush:brush',function(){var n=qt(t,r.x),u=qt(e,r.y);a=o=null;return function(a){t=r.x=n(a);e=r.y=u(a);i({type:'brush',mode:'resize'})}}).each('end.brush',function(){a=r.i;o=r.j;i({type:'brush',mode:'resize'});i({type:'brushend'})})}
else{i({type:'brushstart'});i({type:'brush',mode:'resize'});i({type:'brushend'})}})};function g(n){n.selectAll('.resize').attr('transform',function(n){return'translate('+t[+/e$/.test(n)]+','+e[+/^s/.test(n)]+')'})};function p(n){n.select('.extent').attr('x',t[0]);n.selectAll('.extent,.n>rect,.s>rect').attr('width',t[1]-t[0])};function v(n){n.select('.extent').attr('y',e[0]);n.selectAll('.extent,.e>rect,.w>rect').attr('height',e[1]-e[0])};function d(){var m=this,b=n.select(n.event.target),S=s.of(m,arguments),y=n.select(m),M=b.datum(),z=!/^(n|s)$/.test(M)&&r,L=!/^(e|w)$/.test(M)&&i,h=b.classed('extent'),q=gt(m),d,c=n.mouse(m),x,k=n.select(Y(m)).on('keydown.brush',T).on('keyup.brush',R);if(n.event.changedTouches){k.on('touchmove.brush',w).on('touchend.brush',C)}
else{k.on('mousemove.brush',w).on('mouseup.brush',C)};y.interrupt().selectAll('*').interrupt();if(h){c[0]=t[0]-c[0];c[1]=e[0]-c[1]}
else if(M){var N=+/w$/.test(M),E=+/^n/.test(M);x=[t[1-N]-c[0],e[1-E]-c[1]];c[0]=t[N];c[1]=e[E]}
else if(n.event.altKey)d=c.slice();y.style('pointer-events','none').selectAll('.resize').style('display',null);n.select('body').style('cursor',b.style('cursor'));S({type:'brushstart'});w();function T(){if(n.event.keyCode==32){if(!h){d=null;c[0]-=t[1];c[1]-=e[1];h=2};Z()}};function R(){if(n.event.keyCode==32&&h==2){c[0]+=t[1];c[1]+=e[1];h=0;Z()}};function w(){var u=n.mouse(m),a=!1;if(x){u[0]+=x[0];u[1]+=x[1]};if(!h){if(n.event.altKey){if(!d)d=[(t[0]+t[1])/2,(e[0]+e[1])/2];c[0]=t[+(u[0]<d[0])];c[1]=e[+(u[1]<d[1])]}
else d=null};if(z&&A(u,r,0)){p(y);a=!0};if(L&&A(u,i,1)){v(y);a=!0};if(a){g(y);S({type:'brush',mode:h?'move':'resize'})}};function A(n,r,i){var y=Tt(r),v=y[0],m=y[1],s=c[i],g=i?e:t,M=g[1]-g[0],u,p;if(h){v-=s;m-=M+s};u=(i?f:l)?Math.max(v,Math.min(m,n[i])):n[i];if(h){p=(u+=s)+M}
else{if(d)s=Math.max(v,Math.min(m,2*d[i]-u));if(s<u){p=u;u=s}
else{p=s}};if(g[0]!=u||g[1]!=p){if(i)o=null;else a=null;g[0]=u;g[1]=p;return!0}};function C(){w();y.style('pointer-events','all').selectAll('.resize').style('display',u.empty()?'none':null);n.select('body').style('cursor',null);k.on('mousemove.brush',null).on('mouseup.brush',null).on('touchmove.brush',null).on('touchend.brush',null).on('keydown.brush',null).on('keyup.brush',null);q();S({type:'brushend'})}};u.x=function(n){if(!arguments.length)return r;r=n;c=Ot[!r<<1|!i];return u};u.y=function(n){if(!arguments.length)return i;i=n;c=Ot[!r<<1|!i];return u};u.clamp=function(n){if(!arguments.length)return r&&i?[l,f]:r?l:i?f:null;if(r&&i)l=!!n[0],f=!!n[1];else if(r)l=!!n;else if(i)f=!!n;return u};u.extent=function(n){var l,f,s,c,h;if(!arguments.length){if(r){if(a){l=a[0],f=a[1]}
else{l=t[0],f=t[1];if(r.invert)l=r.invert(l),f=r.invert(f);if(f<l)h=l,l=f,f=h}};if(i){if(o){s=o[0],c=o[1]}
else{s=e[0],c=e[1];if(i.invert)s=i.invert(s),c=i.invert(c);if(c<s)h=s,s=c,c=h}};return r&&i?[[l,s],[f,c]]:r?[l,f]:i&&[s,c]};if(r){l=n[0],f=n[1];if(i)l=l[0],f=f[0];a=[l,f];if(r.invert)l=r(l),f=r(f);if(f<l)h=l,l=f,f=h;if(l!=t[0]||f!=t[1])t=[l,f]};if(i){s=n[0],c=n[1];if(r)s=s[1],c=c[1];o=[s,c];if(i.invert)s=i(s),c=i(c);if(c<s)h=s,s=c,c=h;if(s!=e[0]||c!=e[1])e=[s,c]};return u};u.clear=function(){if(!u.empty()){t=[0,0],e=[0,0];a=o=null};return u};u.empty=function(){return!!r&&t[0]==t[1]||!!i&&e[0]==e[1]};return n.rebind(u,s,'on')};var ua={n:'ns-resize',e:'ew-resize',s:'ns-resize',w:'ew-resize',nw:'nwse-resize',ne:'nesw-resize',se:'nwse-resize',sw:'nesw-resize'};var Ot=[['n','e','s','w','nw','ne','se','sw'],['e','w'],['n','s'],[]],Yt=t.format=Tr.timeFormat,cr=Yt.utc,hr=cr('%Y-%m-%dT%H:%M:%S.%LZ');Yt.iso=Date.prototype.toISOString&&+new Date('2000-01-01T00:00:00.000Z')?lr:hr;function lr(n){return n.toISOString()};lr.parse=function(n){var t=new Date(n);return isNaN(t)?null:t};lr.toString=hr.toString;t.second=rn(function(n){return new g(Math.floor(n/1e3)*1e3)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*1e3)},function(n){return n.getSeconds()});t.seconds=t.second.range;t.seconds.utc=t.second.utc.range;t.minute=rn(function(n){return new g(Math.floor(n/6e4)*6e4)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*6e4)},function(n){return n.getMinutes()});t.minutes=t.minute.range;t.minutes.utc=t.minute.utc.range;t.hour=rn(function(n){var t=n.getTimezoneOffset()/60;return new g((Math.floor(n/36e5-t)+t)*36e5)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*36e5)},function(n){return n.getHours()});t.hours=t.hour.range;t.hours.utc=t.hour.utc.range;t.month=rn(function(n){n=t.day(n);n.setDate(1);return n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()});t.months=t.month.range;t.months.utc=t.month.utc.range;function fr(t,e,r){function i(n){return t(n)};i.invert=function(n){return ln(t.invert(n))};i.domain=function(n){if(!arguments.length)return t.domain().map(ln);t.domain(n);return i};function u(t,r){var a=t[1]-t[0],u=a/r,i=n.bisect(jn,u);return i==jn.length?[e.year,bn(t.map(function(n){return n/31536e6}),r)[2]]:!i?[ia,bn(t,r)[2]]:e[u/jn[i-1]<jn[i]/u?i-1:i]};i.nice=function(n,t){var r=i.domain(),a=wn(r),e=n==null?u(a,10):typeof n==='number'&&u(a,n);if(e)n=e[0],t=e[1];function o(e){return!isNaN(e)&&!n.range(e,ln(+e+1),t).length};return i.domain(Rt(r,t>1?{floor:function(t){while(o(t=n.floor(t)))t=ln(t-1);return t},ceil:function(t){while(o(t=n.ceil(t)))t=ln(+t+1);return t}}:n))};i.ticks=function(n,t){var e=wn(i.domain()),r=n==null?u(e,10):typeof n==='number'?u(e,n):!n.range&&[{range:n},t];if(r)n=r[0],t=r[1];return n.range(e[0],ln(+e[1]+1),t<1?1:t)};i.tickFormat=function(){return r};i.copy=function(){return fr(t.copy(),e,r)};return Ke(i,t)};function ln(n){return new Date(n)};var jn=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ht=[[t.second,1],[t.second,5],[t.second,15],[t.second,30],[t.minute,1],[t.minute,5],[t.minute,15],[t.minute,30],[t.hour,1],[t.hour,3],[t.hour,6],[t.hour,12],[t.day,1],[t.day,2],[t.week,1],[t.month,1],[t.month,3],[t.year,1]],ra=Yt.multi([['.%L',function(n){return n.getMilliseconds()}],[':%S',function(n){return n.getSeconds()}],['%I:%M',function(n){return n.getMinutes()}],['%I %p',function(n){return n.getHours()}],['%a %d',function(n){return n.getDay()&&n.getDate()!=1}],['%b %d',function(n){return n.getDate()!=1}],['%B',function(n){return n.getMonth()}],['%Y',An]]),ia={range:function(t,e,r){return n.range(Math.ceil(t/r)*r,+e,r).map(ln)},floor:h,ceil:h};Ht.year=t.year;t.scale=function(){return fr(n.scale.linear(),Ht,ra)};var sr=Ht.map(function(n){return[n[0].utc,n[1]]}),ea=cr.multi([['.%L',function(n){return n.getUTCMilliseconds()}],[':%S',function(n){return n.getUTCSeconds()}],['%I:%M',function(n){return n.getUTCMinutes()}],['%I %p',function(n){return n.getUTCHours()}],['%a %d',function(n){return n.getUTCDay()&&n.getUTCDate()!=1}],['%b %d',function(n){return n.getUTCDate()!=1}],['%B',function(n){return n.getUTCMonth()}],['%Y',An]]);sr.year=t.year.utc;t.scale.utc=function(){return fr(n.scale.linear(),sr,ea)};n.text=Ne(function(n){return n.responseText});n.json=function(n,t){return vt(n,'application/json',hf,t)};function hf(n){return JSON.parse(n.responseText)};n.html=function(n,t){return vt(n,'text/html',gf,t)};function gf(n){var t=p.createRange();t.selectNode(p.body);return t.createContextualFragment(n.responseText)};n.xml=Ne(function(n){return n.responseXML});if(typeof define==='function'&&define.amd)this.d3=n,define(n);else if(typeof module==='object'&&module.exports)module.exports=n;else this.d3=n}();
(function(t){"use strict";var h={version:"0.4.11"};var n,e,C;function S(t){this.owner=t};function L(t,e){if(Object.create){e.prototype=Object.create(t.prototype)}
else{var i=function(){};i.prototype=t.prototype;e.prototype=new i()};e.prototype.constructor=e;return e};function v(t){var e=this.internal=new b(this);e.loadConfig(t);e.beforeInit(t);e.init();e.afterInit(t);(function i(t,e,n){Object.keys(t).forEach(function(a){e[a]=t[a].bind(n);if(Object.keys(t[a]).length>0){i(t[a],e[a],n)}})})(n,this,this)};function b(e){var i=this;i.d3=t.d3?t.d3:typeof require!=="undefined"?require("d3"):undefined;i.api=e;i.config=i.getDefaultConfig();i.data={};i.cache={};i.axes={}};h.generate=function(t){return new v(t)};h.chart={fn:v.prototype,internal:{fn:b.prototype,axis:{fn:a.prototype}}};n=h.chart.fn;e=h.chart.internal.fn;C=h.chart.internal.axis.fn;e.beforeInit=function(){};e.afterInit=function(){};e.init=function(){var e=this,t=e.config;e.initParams();if(t.data_url){e.convertUrlToData(t.data_url,t.data_mimeType,t.data_headers,t.data_keys,e.initWithData)}
else if(t.data_json){e.initWithData(e.convertJsonToData(t.data_json,t.data_keys))}
else if(t.data_rows){e.initWithData(e.convertRowsToData(t.data_rows))}
else if(t.data_columns){e.initWithData(e.convertColumnsToData(t.data_columns))}
else{throw Error("url or json or rows or columns is required.")}};e.initParams=function(){var t=this,i=t.d3,e=t.config;t.clipId="c3-"+(+new Date())+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis);t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null;t.dragging=!1;t.flowing=!1;t.cancelClick=!1;t.mouseover=!1;t.transiting=!1;t.color=t.generateColor();t.levelColor=t.generateLevelColor();t.dataTimeFormat=e.data_xLocaltime?i.time.format:i.time.format.utc;t.axisTimeFormat=e.axis_x_localtime?i.time.format:i.time.format.utc;t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&t.getDate()!==1}],["%-m/%-d",function(t){return t.getDate()!==1}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]);t.hiddenTargetIds=[];t.hiddenLegendIds=[];t.focusedTargetIds=[];t.defocusedTargetIds=[];t.xOrient=e.axis_rotated?"left":"bottom";t.yOrient=e.axis_rotated?(e.axis_y_inner?"top":"bottom"):(e.axis_y_inner?"right":"left");t.y2Orient=e.axis_rotated?(e.axis_y2_inner?"bottom":"top"):(e.axis_y2_inner?"left":"right");t.subXOrient=e.axis_rotated?"left":"bottom";t.isLegendRight=e.legend_position==="right";t.isLegendInset=e.legend_position==="inset";t.isLegendTop=e.legend_inset_anchor==="top-left"||e.legend_inset_anchor==="top-right";t.isLegendLeft=e.legend_inset_anchor==="top-left"||e.legend_inset_anchor==="bottom-left";t.legendStep=0;t.legendItemWidth=0;t.legendItemHeight=0;t.currentMaxTickWidths={x:0,y:0,y2:0};t.rotated_padding_left=30;t.rotated_padding_right=e.axis_rotated&&!e.axis_x_show?0:30;t.rotated_padding_top=5;t.withoutFadeIn={};t.intervalForObserveInserted=undefined;t.axes.subx=i.selectAll([])};e.initChartElements=function(){if(this.initBar){this.initBar()};if(this.initLine){this.initLine()};if(this.initArc){this.initArc()};if(this.initGauge){this.initGauge()};if(this.initText){this.initText()}};e.initWithData=function(t){var e=this,s=e.d3,n=e.config,r,o,c=!0;e.axis=new a(e);if(e.initPie){e.initPie()};if(e.initBrush){e.initBrush()};if(e.initZoom){e.initZoom()};if(!n.bindto){e.selectChart=s.selectAll([])}
else if(typeof n.bindto.node==="function"){e.selectChart=n.bindto}
else{e.selectChart=s.select(n.bindto)};if(e.selectChart.empty()){e.selectChart=s.select(document.createElement("div")).style("opacity",0);e.observeInserted(e.selectChart);c=!1};e.selectChart.html("").classed("c3",!0);e.data.xs={};e.data.targets=e.convertDataToTargets(t);if(n.data_filter){e.data.targets=e.data.targets.filter(n.data_filter)};if(n.data_hide){e.addHiddenTargetIds(n.data_hide===!0?e.mapToIds(e.data.targets):n.data_hide)};if(n.legend_hide){e.addHiddenLegendIds(n.legend_hide===!0?e.mapToIds(e.data.targets):n.legend_hide)};if(e.hasType("gauge")){n.legend_show=!1};e.updateSizes();e.updateScales();e.x.domain(s.extent(e.getXDomain(e.data.targets)));e.y.domain(e.getYDomain(e.data.targets,"y"));e.y2.domain(e.getYDomain(e.data.targets,"y2"));e.subX.domain(e.x.domain());e.subY.domain(e.y.domain());e.subY2.domain(e.y2.domain());e.orgXDomain=e.x.domain();if(e.brush){e.brush.scale(e.subX)};if(n.zoom_enabled){e.zoom.scale(e.x)};e.svg=e.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return n.onmouseover.call(e)}).on("mouseleave",function(){return n.onmouseout.call(e)});if(e.config.svg_classname){e.svg.attr("class",e.config.svg_classname)};r=e.svg.append("defs");e.clipChart=e.appendClip(r,e.clipId);e.clipXAxis=e.appendClip(r,e.clipIdForXAxis);e.clipYAxis=e.appendClip(r,e.clipIdForYAxis);e.clipGrid=e.appendClip(r,e.clipIdForGrid);e.clipSubchart=e.appendClip(r,e.clipIdForSubchart);e.updateSvgSize();o=e.main=e.svg.append("g").attr("transform",e.getTranslate("main"));if(e.initSubchart){e.initSubchart()};if(e.initTooltip){e.initTooltip()};if(e.initLegend){e.initLegend()};if(e.initTitle){e.initTitle()};e.initRegion();e.initGrid();if(n.grid_lines_front){e.initGridLines()};o.append("text").attr("class",i.text+" "+i.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");o.append("g").attr("clip-path",e.clipPath).attr("class",i.chart);e.initEventRect();e.initChartElements();o.insert("rect",n.zoom_privileged?null:"g."+i.regions).attr("class",i.zoomRect).attr("width",e.width).attr("height",e.height).style("opacity",0).on("dblclick.zoom",null);if(n.axis_x_extent){e.brush.extent(e.getDefaultExtent())};e.axis.init();e.updateTargets(e.data.targets);if(c){e.updateDimension();e.config.oninit.call(e);e.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})};e.bindResize();e.api.element=e.selectChart.node()};e.smoothLines=function(t,e){var i=this;if(e==="grid"){t.each(function(){var t=i.d3.select(this),e=t.attr("x1"),n=t.attr("x2"),a=t.attr("y1"),r=t.attr("y2");t.attr({"x1":Math.ceil(e),"x2":Math.ceil(n),"y1":Math.ceil(a),"y2":Math.ceil(r)})})}};e.updateSizes=function(){var t=this,e=t.config,s=t.legend?t.getLegendHeight():0,o=t.legend?t.getLegendWidth():0,n=t.isLegendRight||t.isLegendInset?0:s,i=t.hasArcType(),a=e.axis_rotated||i?0:t.getHorizontalAxisHeight("x"),r=e.subchart_show&&!i?(e.subchart_size_height+a):0;t.currentWidth=t.getCurrentWidth();t.currentHeight=t.getCurrentHeight();t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:i?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+n+t.getCurrentPaddingBottom(),left:r+(i?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:i?0:t.getCurrentPaddingRight(),bottom:a+r+n+t.getCurrentPaddingBottom(),left:i?0:t.getCurrentPaddingLeft()};t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+n,left:t.rotated_padding_left}:{top:t.currentHeight-r-n,right:NaN,bottom:a+n,left:t.margin.left};t.margin3={top:0,right:NaN,bottom:0,left:0};if(t.updateSizeForLegend){t.updateSizeForLegend(s,o)};t.width=t.currentWidth-t.margin.left-t.margin.right;t.height=t.currentHeight-t.margin.top-t.margin.bottom;if(t.width<0){t.width=0};if(t.height<0){t.height=0};t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width;t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom;if(t.width2<0){t.width2=0};if(t.height2<0){t.height2=0};t.arcWidth=t.width-(t.isLegendRight?o+10:0);t.arcHeight=t.height-(t.isLegendRight?0:10);if(t.hasType("gauge")&&!e.gauge_fullCircle){t.arcHeight+=t.height-t.getGaugeLabelHeight()};if(t.updateRadius){t.updateRadius()};if(t.isLegendRight&&i){t.margin3.left=t.arcWidth/2+t.radiusExpanded*1.1}};e.updateTargets=function(t){var e=this;e.updateTargetsForText(t);e.updateTargetsForBar(t);e.updateTargetsForLine(t);if(e.hasArcType()&&e.updateTargetsForArc){e.updateTargetsForArc(t)};if(e.updateTargetsForSubchart){e.updateTargetsForSubchart(t)};e.showTargets()};e.showTargets=function(){var t=this;t.svg.selectAll("."+i.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)};e.redraw=function(t,e){var n=this,L=n.main,w=n.d3,a=n.config,h=n.getShapeIndices(n.isAreaType),g=n.getShapeIndices(n.isBarType),f=n.getShapeIndices(n.isLineType),V,G,u,E,I,O,p,R,D,F,k,X,M,B=n.hasArcType(),x,y,m,S,v,o,c,H,P,b,r=n.filterTargetsToShow(n.data.targets),l,d,z,C,N=n.xv.bind(n),A,T;t=t||{};V=s(t,"withY",!0);G=s(t,"withSubchart",!0);u=s(t,"withTransition",!0);O=s(t,"withTransform",!1);p=s(t,"withUpdateXDomain",!1);R=s(t,"withUpdateOrgXDomain",!1);D=s(t,"withTrimXDomain",!0);M=s(t,"withUpdateXAxis",p);F=s(t,"withLegend",!1);k=s(t,"withEventRect",!0);X=s(t,"withDimension",!0);E=s(t,"withTransitionForExit",u);I=s(t,"withTransitionForAxis",u);o=u?a.transition_duration:0;c=E?o:0;H=I?o:0;e=e||n.axis.generateTransitions(H);if(F&&a.legend_show){n.updateLegend(n.mapToIds(n.data.targets),t,e)}
else if(X){n.updateDimension(!0)};if(n.isCategorized()&&r.length===0){n.x.domain([0,n.axes.x.selectAll(".tick").size()])};if(r.length){n.updateXDomain(r,p,R,D);if(!a.axis_x_tick_values){l=n.axis.updateXAxisTickValues(r)}}
else{n.xAxis.tickValues([]);n.subXAxis.tickValues([])};if(a.zoom_rescale&&!t.flow){C=n.x.orgDomain()};n.y.domain(n.getYDomain(r,"y",C));n.y2.domain(n.getYDomain(r,"y2",C));if(!a.axis_y_tick_values&&a.axis_y_tick_count){n.yAxis.tickValues(n.axis.generateTickValues(n.y.domain(),a.axis_y_tick_count))};if(!a.axis_y2_tick_values&&a.axis_y2_tick_count){n.y2Axis.tickValues(n.axis.generateTickValues(n.y2.domain(),a.axis_y2_tick_count))};n.axis.redraw(e,B);n.axis.updateLabels(u);if((p||M)&&r.length){if(a.axis_x_tick_culling&&l){for(d=1;d<l.length;d++){if(l.length/d<a.axis_x_tick_culling_max){z=d;break}};n.svg.selectAll("."+i.axisX+" .tick text").each(function(t){var e=l.indexOf(t);if(e>=0){w.select(this).style("display",e%z?"none":"block")}})}
else{n.svg.selectAll("."+i.axisX+" .tick text").style("display","block")}};x=n.generateDrawArea?n.generateDrawArea(h,!1):undefined;y=n.generateDrawBar?n.generateDrawBar(g):undefined;m=n.generateDrawLine?n.generateDrawLine(f,!1):undefined;S=n.generateXYForText(h,g,f,!0);v=n.generateXYForText(h,g,f,!1);if(V){n.subY.domain(n.getYDomain(r,"y"));n.subY2.domain(n.getYDomain(r,"y2"))};n.updateXgridFocus();L.select("text."+i.text+"."+i.empty).attr("x",n.width/2).attr("y",n.height/2).text(a.data_empty_label_text).transition().style("opacity",r.length?0:1);n.updateGrid(o);n.updateRegion(o);n.updateBar(c);n.updateLine(c);n.updateArea(c);n.updateCircle();if(n.hasDataLabel()){n.updateText(c)};if(n.redrawTitle){n.redrawTitle()};if(n.redrawArc){n.redrawArc(o,c,O)};if(n.redrawSubchart){n.redrawSubchart(G,e,o,c,h,g,f)};L.selectAll("."+i.selectedCircles).filter(n.isBarType.bind(n)).selectAll("circle").remove();if(a.interaction_enabled&&!t.flow&&k){n.redrawEventRect();if(n.updateZoom){n.updateZoom()}};n.updateCircleY();A=(n.config.axis_rotated?n.circleY:n.circleX).bind(n);T=(n.config.axis_rotated?n.circleX:n.circleY).bind(n);if(t.flow){b=n.generateFlow({targets:r,flow:t.flow,duration:t.flow.duration,drawBar:y,drawLine:m,drawArea:x,cx:A,cy:T,xv:N,xForText:S,yForText:v})};if((o||b)&&n.isTabVisible()){w.transition().duration(o).each(function(){var e=[];[n.redrawBar(y,!0),n.redrawLine(m,!0),n.redrawArea(x,!0),n.redrawCircle(A,T,!0),n.redrawText(S,v,t.flow,!0),n.redrawRegion(!0),n.redrawGrid(!0),].forEach(function(t){t.forEach(function(t){e.push(t)})});P=n.generateWait();e.forEach(function(t){P.add(t)})}).call(P,function(){if(b){b()};if(a.onrendered){a.onrendered.call(n)}})}
else{n.redrawBar(y);n.redrawLine(m);n.redrawArea(x);n.redrawCircle(A,T);n.redrawText(S,v,t.flow);n.redrawRegion();n.redrawGrid();if(a.onrendered){a.onrendered.call(n)}};n.mapToIds(n.data.targets).forEach(function(t){n.withoutFadeIn[t]=!0})};e.updateAndRedraw=function(t){var e=this,n=e.config,i;t=t||{};t.withTransition=s(t,"withTransition",!0);t.withTransform=s(t,"withTransform",!1);t.withLegend=s(t,"withLegend",!1);t.withUpdateXDomain=!0;t.withUpdateOrgXDomain=!0;t.withTransitionForExit=!1;t.withTransitionForTransform=s(t,"withTransitionForTransform",t.withTransition);e.updateSizes();if(!(t.withLegend&&n.legend_show)){i=e.axis.generateTransitions(t.withTransitionForAxis?n.transition_duration:0);e.updateScales();e.updateSvgSize();e.transformAll(t.withTransitionForTransform,i)};e.redraw(t,i)};e.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})};e.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"};e.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0};e.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||u(e.data_xs))};e.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"};e.getTranslate=function(t){var e=this,a=e.config,i,n;if(t==="main"){i=f(e.margin.left);n=f(e.margin.top)}
else if(t==="context"){i=f(e.margin2.left);n=f(e.margin2.top)}
else if(t==="legend"){i=e.margin3.left;n=e.margin3.top}
else if(t==="x"){i=0;n=a.axis_rotated?0:e.height}
else if(t==="y"){i=0;n=a.axis_rotated?e.height:0}
else if(t==="y2"){i=a.axis_rotated?0:e.width;n=a.axis_rotated?1:0}
else if(t==="subx"){i=0;n=a.axis_rotated?0:e.height2}
else if(t==="arc"){i=e.arcWidth/2;n=e.arcHeight/2};return"translate("+i+","+n+")"};e.initialOpacity=function(t){return t.value!==null&&this.withoutFadeIn[t.id]?1:0};e.initialOpacityForCircle=function(t){return t.value!==null&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0};e.opacityForCircle=function(t){var e=this.config.point_show?1:0;return r(t.value)?(this.isScatterType(t)?0.5:e):0};e.opacityForText=function(){return this.hasDataLabel()?1:0};e.xx=function(t){return t?this.x(t.x):null};e.xv=function(t){var e=this,i=t.value;if(e.isTimeSeries()){i=e.parseDate(t.value)}
else if(e.isCategorized()&&typeof t.value==="string"){i=e.config.axis_x_categories.indexOf(t.value)};return Math.ceil(e.x(i))};e.yv=function(t){var e=this,i=t.axis&&t.axis==="y2"?e.y2:e.y;return Math.ceil(i(t.value))};e.subxx=function(t){return t?this.subX(t.x):null};e.transformMain=function(t,e){var n=this,a,r,s;if(e&&e.axisX){a=e.axisX}
else{a=n.main.select("."+i.axisX);if(t){a=a.transition()}};if(e&&e.axisY){r=e.axisY}
else{r=n.main.select("."+i.axisY);if(t){r=r.transition()}};if(e&&e.axisY2){s=e.axisY2}
else{s=n.main.select("."+i.axisY2);if(t){s=s.transition()}}(t?n.main.transition():n.main).attr("transform",n.getTranslate("main"));a.attr("transform",n.getTranslate("x"));r.attr("transform",n.getTranslate("y"));s.attr("transform",n.getTranslate("y2"));n.main.select("."+i.chartArcs).attr("transform",n.getTranslate("arc"))};e.transformAll=function(t,e){var i=this;i.transformMain(t,e);if(i.config.subchart_show){i.transformContext(t,e)};if(i.legend){i.transformLegend(t)}};e.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight);t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height);t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t));t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t));t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0);t.svg.select("."+i.zoomRect).attr("width",t.width).attr("height",t.height);t.selectChart.style("max-height",t.currentHeight+"px")};e.updateDimension=function(t){var e=this;if(!t){if(e.config.axis_rotated){e.axes.x.call(e.xAxis);e.axes.subx.call(e.subXAxis)}
else{e.axes.y.call(e.yAxis);e.axes.y2.call(e.y2Axis)}};e.updateSizes();e.updateScales();e.updateSvgSize();e.transformAll(!1)};e.observeInserted=function(e){var i=this,n;if(typeof MutationObserver==="undefined"){t.console.error("MutationObserver not defined.");return};n=new MutationObserver(function(a){a.forEach(function(a){if(a.type==="childList"&&a.previousSibling){n.disconnect();i.intervalForObserveInserted=t.setInterval(function(){if(e.node().parentNode){t.clearInterval(i.intervalForObserveInserted);i.updateDimension();if(i.brush){i.brush.update()};i.config.oninit.call(i);i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0});e.transition().style("opacity",1)}},10)}})});n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0})};e.bindResize=function(){var e=this,n=e.config;e.resizeFunction=e.generateResize();e.resizeFunction.add(function(){n.onresize.call(e)});if(n.resize_auto){e.resizeFunction.add(function(){if(e.resizeTimeout!==undefined){t.clearTimeout(e.resizeTimeout)};e.resizeTimeout=t.setTimeout(function(){delete e.resizeTimeout;e.api.flush()},100)})};e.resizeFunction.add(function(){n.onresized.call(e)});if(t.attachEvent){t.attachEvent("onresize",e.resizeFunction)}
else if(t.addEventListener){t.addEventListener("resize",e.resizeFunction,!1)}
else{var i=t.onresize;if(!i){i=e.generateResize()}
else if(!i.add||!i.remove){i=e.generateResize();i.add(t.onresize)};i.add(e.resizeFunction);t.onresize=i}};e.generateResize=function(){var t=[];function e(){t.forEach(function(t){t()})};e.add=function(e){t.push(e)};e.remove=function(e){for(var i=0;i<t.length;i++){if(t[i]===e){t.splice(i,1);break}}};return e};e.endall=function(t,e){var i=0;t.each(function(){++i}).each("end",function(){if(!--i){e.apply(this,arguments)}})};e.generateWait=function(){var t=[],e=function(e,i){var n=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty()){e+=1;return};try{t.transition()}catch(i){e+=1}});if(e===t.length){clearInterval(n);if(i){i()}}},10)};e.add=function(e){t.push(e)};return e};e.parseDate=function(e){var n=this,i;if(e instanceof Date){i=e}
else if(typeof e==="string"){i=n.dataTimeFormat(n.config.data_xFormat).parse(e)}
else if(typeof e==="number"&&!isNaN(e)){i=new Date(+e)};if(!i||isNaN(+i)){t.console.error("Failed to parse x '"+e+"' to Date object")};return i};e.isTabVisible=function(){var t;if(typeof document.hidden!=="undefined"){t="hidden"}
else if(typeof document.mozHidden!=="undefined"){t="mozHidden"}
else if(typeof document.msHidden!=="undefined"){t="msHidden"}
else if(typeof document.webkitHidden!=="undefined"){t="webkitHidden"};return document[t]?!1:!0};e.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:!1,line_step_type:"step",bar_width:undefined,bar_width_ratio:0.6,bar_width_max:undefined,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:0.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:0.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center",};Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this);return t};e.additionalConfig={};e.loadConfig=function(t){var n=this.config,e,a,i;function r(){var t=a.shift();if(t&&e&&typeof e==="object"&&t in e){e=e[t];return r()}
else if(!t){return e}
else{return undefined}};Object.keys(n).forEach(function(s){e=t;a=s.split("_");i=r();if(o(i)){n[s]=i}})};e.getScale=function(t,e,i){return(i?this.d3.time.scale():this.d3.scale.linear()).range([t,e])};e.getX=function(t,e,i,n){var s=this,a=s.getScale(t,e,s.isTimeSeries()),r=i?a.domain(i):a,o;if(s.isCategorized()){n=n||function(){return 0};a=function(t,e){var i=r(t)+n(t);return e?i:Math.ceil(i)}}
else{a=function(t,e){var i=r(t);return e?i:Math.ceil(i)}};for(o in r){a[o]=r[o]};a.orgDomain=function(){return r.domain()};if(s.isCategorized()){a.domain=function(t){if(!arguments.length){t=this.orgDomain();return[t[0],t[1]+1]};r.domain(t);return a}};return a};e.getY=function(t,e,i){var n=this.getScale(t,e,this.isTimeSeriesY());if(i){n.domain(i)};return n};e.getYScale=function(t){return this.axis.getId(t)==="y2"?this.y2:this.y};e.getSubYScale=function(t){return this.axis.getId(t)==="y2"?this.subY2:this.subY};e.updateScales=function(){var t=this,e=t.config,i=!t.x;t.xMin=e.axis_rotated?1:0;t.xMax=e.axis_rotated?t.height:t.width;t.yMin=e.axis_rotated?0:t.height;t.yMax=e.axis_rotated?t.width:1;t.subXMin=t.xMin;t.subXMax=t.xMax;t.subYMin=e.axis_rotated?0:t.height2;t.subYMax=e.axis_rotated?t.width2:1;t.x=t.getX(t.xMin,t.xMax,i?undefined:t.x.orgDomain(),function(){return t.xAxis.tickOffset()});t.y=t.getY(t.yMin,t.yMax,i?e.axis_y_default:t.y.domain());t.y2=t.getY(t.yMin,t.yMax,i?e.axis_y2_default:t.y2.domain());t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()});t.subY=t.getY(t.subYMin,t.subYMax,i?e.axis_y_default:t.subY.domain());t.subY2=t.getY(t.subYMin,t.subYMax,i?e.axis_y2_default:t.subY2.domain());t.xAxisTickFormat=t.axis.getXAxisTickFormat();t.xAxisTickValues=t.axis.getXAxisTickValues();t.yAxisTickValues=t.axis.getYAxisTickValues();t.y2AxisTickValues=t.axis.getY2AxisTickValues();t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer);t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer);t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer);t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer);if(!i){if(t.brush){t.brush.scale(t.subX)};if(e.zoom_enabled){t.zoom.scale(t.x)}};if(t.updateArc){t.updateArc()}};e.getYDomainMin=function(t){var i=this,c=i.config,l=i.mapToIds(t),e=i.getValuesAsIdKeyed(t),r,s,n,a,o,u;if(c.data_groups.length>0){u=i.hasNegativeValueInTargets(t);for(r=0;r<c.data_groups.length;r++){a=c.data_groups[r].filter(function(t){return l.indexOf(t)>=0});if(a.length===0){continue};n=a[0];if(u&&e[n]){e[n].forEach(function(t,i){e[n][i]=t<0?t:0})};for(s=1;s<a.length;s++){o=a[s];if(!e[o]){continue};e[o].forEach(function(t,a){if(i.axis.getId(o)===i.axis.getId(n)&&e[n]&&!(u&&+t>0)){e[n][a]+=+t}})}}};return i.d3.min(Object.keys(e).map(function(t){return i.d3.min(e[t])}))};e.getYDomainMax=function(t){var i=this,c=i.config,l=i.mapToIds(t),e=i.getValuesAsIdKeyed(t),r,s,n,a,o,u;if(c.data_groups.length>0){u=i.hasPositiveValueInTargets(t);for(r=0;r<c.data_groups.length;r++){a=c.data_groups[r].filter(function(t){return l.indexOf(t)>=0});if(a.length===0){continue};n=a[0];if(u&&e[n]){e[n].forEach(function(t,i){e[n][i]=t>0?t:0})};for(s=1;s<a.length;s++){o=a[s];if(!e[o]){continue};e[o].forEach(function(t,a){if(i.axis.getId(o)===i.axis.getId(n)&&e[n]&&!(u&&+t<0)){e[n][a]+=+t}})}}};return i.d3.max(Object.keys(e).map(function(t){return i.d3.max(e[t])}))};e.getYDomain=function(t,e,i){var n=this,s=n.config,C=t.filter(function(t){return n.axis.getId(t.id)===e}),y=i?n.filterByXDomain(C,i):C,f=e==="y2"?s.axis_y2_min:s.axis_y_min,p=e==="y2"?s.axis_y2_max:s.axis_y_max,a=n.getYDomainMin(y),o=n.getYDomainMax(y),v,c,L,l,d,b=e==="y2"?s.axis_y2_center:s.axis_y_center,A,x,T,h,m,S,P=(n.hasType("bar",y)&&s.bar_zerobased)||(n.hasType("area",y)&&s.area_zerobased),w=e==="y2"?s.axis_y2_inverted:s.axis_y_inverted,V=n.hasDataLabel()&&s.axis_rotated,G=n.hasDataLabel()&&!s.axis_rotated;a=r(f)?f:r(p)?(a<p?a:p-10):a;o=r(p)?p:r(f)?(f<o?o:f+10):o;if(y.length===0){return e==="y2"?n.y2.domain():n.y.domain()};if(isNaN(a)){a=0};if(isNaN(o)){o=a};if(a===o){a<0?o=0:a=0};m=a>=0&&o>=0;S=a<=0&&o<=0;if((r(f)&&m)||(r(p)&&S)){P=!1};if(P){if(m){a=0};if(S){o=0}};c=Math.abs(o-a);L=l=d=c*0.1;if(typeof b!=="undefined"){A=Math.max(Math.abs(a),Math.abs(o));o=b+A;a=b-A};if(V){x=n.getDataLabelLength(a,o,"width");T=g(n.y.range());h=[x[0]/T,x[1]/T];l+=c*(h[1]/(1-h[0]-h[1]));d+=c*(h[0]/(1-h[0]-h[1]))}
else if(G){x=n.getDataLabelLength(a,o,"height");l+=n.axis.convertPixelsToAxisPadding(x[1],c);d+=n.axis.convertPixelsToAxisPadding(x[0],c)};if(e==="y"&&u(s.axis_y_padding)){l=n.axis.getPadding(s.axis_y_padding,"top",l,c);d=n.axis.getPadding(s.axis_y_padding,"bottom",d,c)};if(e==="y2"&&u(s.axis_y2_padding)){l=n.axis.getPadding(s.axis_y2_padding,"top",l,c);d=n.axis.getPadding(s.axis_y2_padding,"bottom",d,c)};if(P){if(m){d=a};if(S){l=-o}};v=[a-d,o+l];return w?v.reverse():v};e.getXDomainMin=function(t){var e=this,i=e.config;return o(i.axis_x_min)?(e.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min):e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})};e.getXDomainMax=function(t){var e=this,i=e.config;return o(i.axis_x_max)?(e.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max):e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})};e.getXDomainPadding=function(t){var n=this,e=n.config,c=t[1]-t[0],o,i,a,s;if(n.isCategorized()){i=0}
else if(n.hasType("bar")){o=n.getMaxDataCount();i=o>1?(c/(o-1))/2:0.5}
else{i=c*0.01};if(typeof e.axis_x_padding==="object"&&u(e.axis_x_padding)){a=r(e.axis_x_padding.left)?e.axis_x_padding.left:i;s=r(e.axis_x_padding.right)?e.axis_x_padding.right:i}
else if(typeof e.axis_x_padding==="number"){a=s=e.axis_x_padding}
else{a=s=i};return{left:a,right:s}};e.getXDomain=function(t){var n=this,r=[n.getXDomainMin(t),n.getXDomainMax(t)],e=r[0],i=r[1],a=n.getXDomainPadding(r),s=0,o=0;if((e-i)===0&&!n.isCategorized()){if(n.isTimeSeries()){e=new Date(e.getTime()*0.5);i=new Date(i.getTime()*1.5)}
else{e=e===0?1:(e*0.5);i=i===0?-1:(i*1.5)}};if(e||e===0){s=n.isTimeSeries()?new Date(e.getTime()-a.left):e-a.left};if(i||i===0){o=n.isTimeSeries()?new Date(i.getTime()+a.right):i+a.right};return[s,o]};e.updateXDomain=function(t,e,i,n,r){var a=this,s=a.config;if(i){a.x.domain(r?r:a.d3.extent(a.getXDomain(t)));a.orgXDomain=a.x.domain();if(s.zoom_enabled){a.zoom.scale(a.x).updateScaleExtent()};a.subX.domain(a.x.domain());if(a.brush){a.brush.scale(a.subX)}};if(e){a.x.domain(r?r:(!a.brush||a.brush.empty())?a.orgXDomain:a.brush.extent());if(s.zoom_enabled){a.zoom.scale(a.x).updateScaleExtent()}};if(n){a.x.domain(a.trimXDomain(a.x.orgDomain()))};return a.x.domain()};e.trimXDomain=function(t){var n=this.getZoomDomain(),e=n[0],i=n[1];if(t[0]<=e){t[1]=+t[1]+(e-t[0]);t[0]=e};if(i<=t[1]){t[0]=+t[0]-(t[1]-i);t[1]=i};return t};e.isX=function(t){var i=this,e=i.config;return(e.data_x&&t===e.data_x)||(u(e.data_xs)&&T(e.data_xs,t))};e.isNotX=function(t){return!this.isX(t)};e.getXKey=function(t){var i=this,e=i.config;return e.data_x?e.data_x:u(e.data_xs)?e.data_xs[t]:null};e.getXValuesOfXKey=function(t,e){var i=this,n,a=e&&u(e)?i.mapToIds(e):[];a.forEach(function(e){if(i.getXKey(e)===t){n=i.data.xs[e]}});return n};e.getIndexByX=function(t){var e=this,i=e.filterByX(e.data.targets,t);return i.length?i[0].index:null};e.getXValue=function(t,e){var i=this;return t in i.data.xs&&i.data.xs[t]&&r(i.data.xs[t][e])?i.data.xs[t][e]:e};e.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null};e.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null};e.addXs=function(t){var e=this;Object.keys(t).forEach(function(i){e.config.data_xs[i]=t[i]})};e.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1};e.isMultipleX=function(){return u(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")};e.addName=function(t){var i=this,e;if(t){e=i.config.data_names[t.id];t.name=e!==undefined?e:t.id};return t};e.getValueOnIndex=function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null};e.updateTargetX=function(t,e){var i=this;t.forEach(function(t){t.values.forEach(function(n,a){n.x=i.generateTargetX(e[a],t.id,a)});i.data.xs[t.id]=e})};e.updateTargetXs=function(t,e){var i=this;t.forEach(function(t){if(e[t.id]){i.updateTargetX([t],e[t.id])}})};e.generateTargetX=function(t,e,i){var n=this,a;if(n.isTimeSeries()){a=t?n.parseDate(t):n.parseDate(n.getXValue(e,i))}
else if(n.isCustomX()&&!n.isCategorized()){a=r(t)?+t:n.getXValue(e,i)}
else{a=i};return a};e.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}};e.updateXs=function(){var t=this;if(t.data.targets.length){t.xs=[];t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x})}};e.getPrevX=function(t){var e=this.xs[t-1];return typeof e!=="undefined"?e:null};e.getNextX=function(t){var e=this.xs[t+1];return typeof e!=="undefined"?e:null};e.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})};e.getMaxDataCountTarget=function(t){var i=t.length,n=0,e;if(i>1){t.forEach(function(t){if(t.values.length>n){e=t;n=t.values.length}})}
else{e=i?t[0]:null};return e};e.getEdgeX=function(t){var e=this;return!t.length?[0,0]:[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]};e.mapToIds=function(t){return t.map(function(t){return t.id})};e.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)};e.hasTarget=function(t,e){var n=this.mapToIds(t),i;for(i=0;i<n.length;i++){if(n[i]===e){return!0}};return!1};e.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0};e.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0};e.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})};e.mapTargetsToUniqueXs=function(t){var i=this,e=i.d3.set(i.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();e=i.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t});return e.sort(function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN})};e.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)};e.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})};e.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)};e.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})};e.getValuesAsIdKeyed=function(t){var e={};t.forEach(function(t){e[t.id]=[];t.values.forEach(function(i){e[t.id].push(i.value)})});return e};e.checkValueInTargets=function(t,e){var r=Object.keys(t),i,n,a;for(i=0;i<r.length;i++){a=t[r[i]].values;for(n=0;n<a.length;n++){if(e(a[n].value)){return!0}}};return!1};e.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})};e.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})};e.isOrderDesc=function(){var t=this.config;return typeof(t.data_order)==="string"&&t.data_order.toLowerCase()==="desc"};e.isOrderAsc=function(){var t=this.config;return typeof(t.data_order)==="string"&&t.data_order.toLowerCase()==="asc"};e.orderTargets=function(t){var e=this,i=e.config,n=e.isOrderAsc(),a=e.isOrderDesc();if(n||a){t.sort(function(t,e){var i=function(t,e){return t+Math.abs(e.value)},a=t.values.reduce(i,0),r=e.values.reduce(i,0);return n?r-a:a-r})}
else if(d(i.data_order)){t.sort(i.data_order)};return t};e.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})};e.filterRemoveNull=function(t){return t.filter(function(t){return r(t.value)})};e.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})};e.hasDataLabel=function(){var t=this.config;if(typeof t.data_labels==="boolean"&&t.data_labels){return!0}
else if(typeof t.data_labels==="object"&&u(t.data_labels)){return!0};return!1};e.getDataLabelLength=function(t,e,i){var n=this,a=[0,0],r=1.3;n.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){a[e]=this.getBoundingClientRect()[i]*r}).remove();return a};e.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},e.isArc=function(t){return"data" in t&&this.hasTarget(this.data.targets,t.data.id)};e.findSameXOfValues=function(t,e){var i,a=t[e].x,n=[];for(i=e-1;i>=0;i--){if(a!==t[i].x){break};n.push(t[i])};for(i=e;i<t.length;i++){if(a!==t[i].x){break};n.push(t[i])};return n};e.findClosestFromTargets=function(t,e){var i=this,n;n=t.map(function(t){return i.findClosest(t.values,e)});return i.findClosest(n,e)};e.findClosest=function(t,e){var n=this,r=n.config.point_sensitivity,a;t.filter(function(t){return t&&n.isBarType(t.id)}).forEach(function(t){var e=n.main.select("."+i.bars+n.getTargetSelectorSuffix(t.id)+" ."+i.bar+"-"+t.index).node();if(!a&&n.isWithinBar(e)){a=t}});t.filter(function(t){return t&&!n.isBarType(t.id)}).forEach(function(t){var i=n.dist(t,e);if(i<r){r=i;a=t}});return a};e.dist=function(t,e){var i=this,n=i.config,a=n.axis_rotated?1:0,r=n.axis_rotated?0:1,s=i.circleY(t,t.index),o=i.x(t.x);return Math.sqrt(Math.pow(o-e[a],2)+Math.pow(s-e[r],2))};e.convertValuesToStep=function(t){var e=[].concat(t),i;if(!this.isCategorized()){return t};for(i=t.length+1;0<i;i--){e[i]=e[i-1]};e[0]={x:e[0].x-1,value:e[0].value,id:e[0].id};e[t.length+1]={x:e[t.length].x+1,value:e[t.length].value,id:e[t.length].id};return e};e.updateDataAttributes=function(t,e){var n=this,a=n.config,i=a["data_"+t];if(typeof e==="undefined"){return i};Object.keys(e).forEach(function(t){i[t]=e[t]});n.redraw({withLegend:!0});return i};e.convertUrlToData=function(t,e,i,n,a){var r=this,s=e?e:"csv",o=r.d3.xhr(t);if(i){Object.keys(i).forEach(function(t){o.header(t,i[t])})};o.get(function(t,e){var i;if(!e){throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")")};if(s==="json"){i=r.convertJsonToData(JSON.parse(e.response),n)}
else if(s==="tsv"){i=r.convertTsvToData(e.response)}
else{i=r.convertCsvToData(e.response)};a.call(r,i)})};e.convertXsvToData=function(t,e){var n=e.parseRows(t),i;if(n.length===1){i=[{}];n[0].forEach(function(t){i[0][t]=null})}
else{i=e.parse(t)};return i};e.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)};e.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)};e.convertJsonToData=function(t,e){var n=this,i=[],a,r;if(e){if(e.x){a=e.value.concat(e.x);n.config.data_x=e.x}
else{a=e.value};i.push(a);t.forEach(function(t){var e=[];a.forEach(function(i){var a=n.findValueInJson(t,i);if(l(a)){a=null};e.push(a)});i.push(e)});r=n.convertRowsToData(i)}
else{Object.keys(t).forEach(function(e){i.push([e].concat(t[e]))});r=n.convertColumnsToData(i)};return r};e.findValueInJson=function(t,e){e=e.replace(/\[(\w+)\]/g,".$1");e=e.replace(/^\./,"");var a=e.split(".");for(var i=0;i<a.length;++i){var n=a[i];if(n in t){t=t[n]}
else{return}};return t};e.convertRowsToData=function(t){var r=t[0],n={},a=[],e,i;for(e=1;e<t.length;e++){n={};for(i=0;i<t[e].length;i++){if(l(t[e][i])){throw new Error("Source data is missing a component at ("+e+","+i+")!")};n[r[i]]=t[e][i]};a.push(n)};return a};e.convertColumnsToData=function(t){var n=[],i,e,a;for(i=0;i<t.length;i++){a=t[i][0];for(e=1;e<t[i].length;e++){if(l(n[e-1])){n[e-1]={}};if(l(t[i][e])){throw new Error("Source data is missing a component at ("+i+","+e+")!")};n[e-1][a]=t[i][e]}};return n};e.convertDataToTargets=function(t,e){var i=this,n=i.config,s=i.d3.keys(t[0]).filter(i.isNotX,i),c=i.d3.keys(t[0]).filter(i.isX,i),a;s.forEach(function(a){var s=i.getXKey(a);if(i.isCustomX()||i.isTimeSeries()){if(c.indexOf(s)>=0){i.data.xs[a]=(e&&i.data.xs[a]?i.data.xs[a]:[]).concat(t.map(function(t){return t[s]}).filter(r).map(function(t,e){return i.generateTargetX(t,a,e)}))}
else if(n.data_x){i.data.xs[a]=i.getOtherTargetXs()}
else if(u(n.data_xs)){i.data.xs[a]=i.getXValuesOfXKey(s,i.data.targets)}}
else{i.data.xs[a]=t.map(function(t,e){return e})}});s.forEach(function(t){if(!i.data.xs[t]){throw new Error("x is not defined for id = \""+t+"\".")}});a=s.map(function(e,a){var r=n.data_idConverter(e);return{id:r,id_org:e,values:t.map(function(t,s){var u=i.getXKey(e),c=t[u],d=t[e]!==null&&!isNaN(t[e])?+t[e]:null,o;if(i.isCustomX()&&i.isCategorized()&&a===0&&!l(c)){if(a===0&&s===0){n.axis_x_categories=[]};o=n.axis_x_categories.indexOf(c);if(o===-1){o=n.axis_x_categories.length;n.axis_x_categories.push(c)}}
else{o=i.generateTargetX(c,e,s)};if(l(t[e])||i.data.xs[e].length<=s){o=undefined};return{x:o,value:d,id:r}}).filter(function(t){return o(t.x)})}});a.forEach(function(t){var e;if(n.data_xSort){t.values=t.values.sort(function(t,e){var i=t.x||t.x===0?t.x:Infinity,n=e.x||e.x===0?e.x:Infinity;return i-n})};e=0;t.values.forEach(function(t){t.index=e++});i.data.xs[t.id].sort(function(t,e){return t-e})});i.hasNegativeValue=i.hasNegativeValueInTargets(a);i.hasPositiveValue=i.hasPositiveValueInTargets(a);if(n.data_type){i.setTargetType(i.mapToIds(a).filter(function(t){return!(t in n.data_types)}),n.data_type)};a.forEach(function(t){i.addCache(t.id_org,t)});return a};e.load=function(t,e){var i=this;if(t){if(e.filter){t=t.filter(e.filter)};if(e.type||e.types){t.forEach(function(t){var n=e.types&&e.types[t.id]?e.types[t.id]:e.type;i.setTargetType(t.id,n)})};i.data.targets.forEach(function(e){for(var i=0;i<t.length;i++){if(e.id===t[i].id){e.values=t[i].values;t.splice(i,1);break}}});i.data.targets=i.data.targets.concat(t)};i.updateTargets(i.data.targets);i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});if(e.done){e.done()}};e.loadFromArgs=function(t){var e=this;if(t.data){e.load(e.convertDataToTargets(t.data),t)}
else if(t.url){e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(i){e.load(e.convertDataToTargets(i),t)})}
else if(t.json){e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t)}
else if(t.rows){e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t)}
else if(t.columns){e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t)}
else{e.load(null,t)}};e.unload=function(t,e){var n=this;if(!e){e=function(){}};t=t.filter(function(t){return n.hasTarget(n.data.targets,t)});if(!t||t.length===0){e();return};n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e);t.forEach(function(t){n.withoutFadeIn[t]=!1;if(n.legend){n.legend.selectAll("."+i.legendItem+n.getTargetSelectorSuffix(t)).remove()};n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})};e.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t};e.initEventRect=function(){var t=this;t.main.select("."+i.chart).append("g").attr("class",i.eventRects).style("fill-opacity",0)};e.redrawEventRect=function(){var t=this,s=t.config,e,a,r=t.isMultipleX(),n=t.main.select("."+i.eventRects).style("cursor",s.zoom_enabled?s.axis_rotated?"ns-resize":"ew-resize":null).classed(i.eventRectsMultiple,r).classed(i.eventRectsSingle,!r);n.selectAll("."+i.eventRect).remove();t.eventRect=n.selectAll("."+i.eventRect);if(r){e=t.eventRect.data([0]);t.generateEventRectsForMultipleXs(e.enter());t.updateEventRect(e)}
else{a=t.getMaxDataCountTarget(t.data.targets);n.datum(a?a.values:[]);t.eventRect=n.selectAll("."+i.eventRect);e=t.eventRect.data(function(t){return t});t.generateEventRectsForSingleX(e.enter());t.updateEventRect(e);e.exit().remove()}};e.updateEventRect=function(t){var e=this,i=e.config,r,s,o,c,n,a;t=t||e.eventRect.data(function(t){return t});if(e.isMultipleX()){r=0;s=0;o=e.width;c=e.height}
else{if((e.isCustomX()||e.isTimeSeries())&&!e.isCategorized()){e.updateXs();n=function(t){var n=e.getPrevX(t.index),a=e.getNextX(t.index);if(n===null&&a===null){return i.axis_rotated?e.height:e.width};if(n===null){n=e.x.domain()[0]};if(a===null){a=e.x.domain()[1]};return Math.max(0,(e.x(a)-e.x(n))/2)};a=function(t){var i=e.getPrevX(t.index),n=e.getNextX(t.index),a=e.data.xs[t.id][t.index];if(i===null&&n===null){return 0};if(i===null){i=e.x.domain()[0]};return(e.x(a)+e.x(i))/2}}
else{n=e.getEventRectWidth();a=function(t){return e.x(t.x)-(n/2)}};r=i.axis_rotated?0:a;s=i.axis_rotated?a:0;o=i.axis_rotated?e.width:n;c=i.axis_rotated?n:e.height};t.attr("class",e.classEvent.bind(e)).attr("x",r).attr("y",s).attr("width",o).attr("height",c)};e.generateEventRectsForSingleX=function(t){var e=this,a=e.d3,n=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",n.data_selection_enabled&&n.data_selection_grouped?"pointer":null).on("mouseover",function(t){var a=t.index;if(e.dragging||e.flowing){return};if(e.hasArcType()){return};if(n.point_focus_expand_enabled){e.expandCircles(a,null,!0)};e.expandBars(a,null,!0);e.main.selectAll("."+i.shape+"-"+a).each(function(t){n.data_onmouseover.call(e.api,t)})}).on("mouseout",function(t){var a=t.index;if(!e.config){return};if(e.hasArcType()){return};e.hideXGridFocus();e.hideTooltip();e.unexpandCircles();e.unexpandBars();e.main.selectAll("."+i.shape+"-"+a).each(function(t){n.data_onmouseout.call(e.api,t)})}).on("mousemove",function(t){var s,r=t.index,o=e.svg.select("."+i.eventRect+"-"+r);if(e.dragging||e.flowing){return};if(e.hasArcType()){return};if(e.isStepType(t)&&e.config.line_step_type==="step-after"&&a.mouse(this)[0]<e.x(e.getXValue(t.id,r))){r-=1};s=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,r))});if(n.tooltip_grouped){e.showTooltip(s,this);e.showXGridFocus(s)};if(n.tooltip_grouped&&(!n.data_selection_enabled||n.data_selection_grouped)){return};e.main.selectAll("."+i.shape+"-"+r).each(function(){a.select(this).classed(i.EXPANDED,!0);if(n.data_selection_enabled){o.style("cursor",n.data_selection_grouped?"pointer":null)};if(!n.tooltip_grouped){e.hideXGridFocus();e.hideTooltip();if(!n.data_selection_grouped){e.unexpandCircles(r);e.unexpandBars(r)}}}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){if(n.data_selection_enabled&&(n.data_selection_grouped||n.data_selection_isselectable(t))){o.style("cursor","pointer")};if(!n.tooltip_grouped){e.showTooltip([t],this);e.showXGridFocus([t]);if(n.point_focus_expand_enabled){e.expandCircles(r,t.id,!0)};e.expandBars(r,t.id,!0)}})}).on("click",function(t){var r=t.index;if(e.hasArcType()||!e.toggleShape){return};if(e.cancelClick){e.cancelClick=!1;return};if(e.isStepType(t)&&n.line_step_type==="step-after"&&a.mouse(this)[0]<e.x(e.getXValue(t.id,r))){r-=1};e.main.selectAll("."+i.shape+"-"+r).each(function(t){if(n.data_selection_grouped||e.isWithinShape(this,t)){e.toggleShape(this,t,r);e.config.data_onclick.call(e.api,t,this)}})}).call(n.data_selection_draggable&&e.drag?(a.behavior.drag().origin(Object).on("drag",function(){e.drag(a.mouse(this))}).on("dragstart",function(){e.dragstart(a.mouse(this))}).on("dragend",function(){e.dragend()})):function(){})};e.generateEventRectsForMultipleXs=function(t){var e=this,a=e.d3,n=e.config;function r(){e.svg.select("."+i.eventRect).style("cursor",null);e.hideXGridFocus();e.hideTooltip();e.unexpandCircles();e.unexpandBars()};t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",i.eventRect).on("mouseout",function(){if(!e.config){return};if(e.hasArcType()){return};r()}).on("mousemove",function(){var s=e.filterTargetsToShow(e.data.targets),o,t,c,u;if(e.dragging){return};if(e.hasArcType(s)){return};o=a.mouse(this);t=e.findClosestFromTargets(s,o);if(e.mouseover&&(!t||t.id!==e.mouseover.id)){n.data_onmouseout.call(e.api,e.mouseover);e.mouseover=undefined};if(!t){r();return};if(e.isScatterType(t)||!n.tooltip_grouped){c=[t]}
else{c=e.filterByX(s,t.x)};u=c.map(function(t){return e.addName(t)});e.showTooltip(u,this);if(n.point_focus_expand_enabled){e.expandCircles(t.index,t.id,!0)};e.expandBars(t.index,t.id,!0);e.showXGridFocus(u);if(e.isBarType(t.id)||e.dist(t,o)<n.point_sensitivity){e.svg.select("."+i.eventRect).style("cursor","pointer");if(!e.mouseover){n.data_onmouseover.call(e.api,t);e.mouseover=t}}}).on("click",function(){var s=e.filterTargetsToShow(e.data.targets),r,t;if(e.hasArcType(s)){return};r=a.mouse(this);t=e.findClosestFromTargets(s,r);if(!t){return};if(e.isBarType(t.id)||e.dist(t,r)<n.point_sensitivity){e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(t.id)).selectAll("."+i.shape+"-"+t.index).each(function(){if(n.data_selection_grouped||e.isWithinShape(this,t)){e.toggleShape(this,t,t.index);e.config.data_onclick.call(e.api,t,this)}})}}).call(n.data_selection_draggable&&e.drag?(a.behavior.drag().origin(Object).on("drag",function(){e.drag(a.mouse(this))}).on("dragstart",function(){e.dragstart(a.mouse(this))}).on("dragend",function(){e.dragend()})):function(){})};e.dispatchEvent=function(e,n,a){var r=this,d="."+i.eventRect+(!r.isMultipleX()?"-"+n:""),s=r.main.select(d).node(),o=s.getBoundingClientRect(),c=o.left+(a?a[0]:0),u=o.top+(a?a[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(e,!0,!0,t,0,c,u,c,u,!1,!1,!1,!1,0,null);s.dispatchEvent(l)};e.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()};e.getCurrentHeight=function(){var t=this,e=t.config,i=e.size_height?e.size_height:t.getParentHeight();return i>0?i:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)};e.getCurrentPaddingTop=function(){var t=this,e=t.config,i=r(e.padding_top)?e.padding_top:0;if(t.title&&t.title.node()){i+=t.getTitlePadding()};return i};e.getCurrentPaddingBottom=function(){var t=this.config;return r(t.padding_bottom)?t.padding_bottom:0};e.getCurrentPaddingLeft=function(t){var i=this,e=i.config;if(r(e.padding_left)){return e.padding_left}
else if(e.axis_rotated){return!e.axis_x_show?1:Math.max(x(i.getAxisWidthByAxisId("x",t)),40)}
else if(!e.axis_y_show||e.axis_y_inner){return i.axis.getYAxisLabelPosition().isOuter?30:1}
else{return x(i.getAxisWidthByAxisId("y",t))}};e.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,i=t.isLegendRight?t.getLegendWidth()+20:0;if(r(e.padding_right)){return e.padding_right+1}
else if(e.axis_rotated){return n+i}
else if(!e.axis_y2_show||e.axis_y2_inner){return 2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0)}
else{return x(t.getAxisWidthByAxisId("y2"))+i}};e.getParentRectValue=function(t){var e=this.selectChart.node(),i;while(e&&e.tagName!=="BODY"){try{i=e.getBoundingClientRect()[t]}catch(n){if(t==="width"){i=e.offsetWidth}};if(i){break};e=e.parentNode};return i};e.getParentWidth=function(){return this.getParentRectValue("width")};e.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0};e.getSvgLeft=function(t){var e=this,n=e.config,s=n.axis_rotated||(!n.axis_rotated&&!n.axis_y_inner),o=n.axis_rotated?i.axisX:i.axisY,a=e.main.select("."+o).node(),c=a&&s?a.getBoundingClientRect():{right:0},u=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),r=c.right-u.left-(l?0:e.getCurrentPaddingLeft(t));return r>0?r:0};e.getAxisWidthByAxisId=function(t,e){var i=this,n=i.axis.getLabelPositionById(t);return i.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)};e.getHorizontalAxisHeight=function(t){var i=this,e=i.config,n=30;if(t==="x"&&!e.axis_x_show){return 8};if(t==="x"&&e.axis_x_height){return e.axis_x_height};if(t==="y"&&!e.axis_y_show){return e.legend_show&&!i.isLegendRight&&!i.isLegendInset?10:1};if(t==="y2"&&!e.axis_y2_show){return i.rotated_padding_top};if(t==="x"&&!e.axis_rotated&&e.axis_x_tick_rotate){n=30+i.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-e.axis_x_tick_rotate)/180)};if(t==="y"&&e.axis_rotated&&e.axis_y_tick_rotate){n=30+i.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-e.axis_y_tick_rotate)/180)};return n+(i.axis.getLabelPositionById(t).isInner?0:10)+(t==="y2"?-10:0)};e.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())};e.getShapeIndices=function(t){var r=this,n=r.config,e={},s=0,i,a;r.filterTargetsToShow(r.data.targets.filter(t,r)).forEach(function(t){for(i=0;i<n.data_groups.length;i++){if(n.data_groups[i].indexOf(t.id)<0){continue};for(a=0;a<n.data_groups[i].length;a++){if(n.data_groups[i][a]in e){e[t.id]=e[n.data_groups[i][a]];break}}};if(l(e[t.id])){e[t.id]=s++}});e.__max__=s-1;return e};e.getShapeX=function(t,e,i,n){var a=this,r=n?a.subX:a.x;return function(n){var a=n.id in i?i[n.id]:0;return n.x||n.x===0?r(n.x)-t*(e/2-a):0}};e.getShapeY=function(t){var e=this;return function(i){var n=t?e.getSubYScale(i.id):e.getYScale(i.id);return n(i.value)}};e.getShapeOffset=function(t,e,i){var n=this,a=n.orderTargets(n.filterTargetsToShow(n.data.targets.filter(t,n))),r=a.map(function(t){return t.id});return function(t,s){var o=i?n.getSubYScale(t.id):n.getYScale(t.id),c=o(0),u=c;a.forEach(function(i){var a=n.isStepType(t)?n.convertValuesToStep(i.values):i.values;if(i.id===t.id||e[i.id]!==e[t.id]){return};if(r.indexOf(i.id)<r.indexOf(t.id)){if(typeof a[s]==="undefined"||+a[s].x!==+t.x){s=-1;a.forEach(function(e,i){if(e.x===t.x){s=i}})};if(s in a&&a[s].value*t.value>=0){u+=o(a[s].value)-c}}});return u}};e.isWithinShape=function(t,e){var n=this,r=n.d3.select(t),a;if(!n.isTargetToShow(e.id)){a=!1}
else if(t.nodeName==="circle"){a=n.isStepType(e)?n.isWithinStep(t,n.getYScale(e.id)(e.value)):n.isWithinCircle(t,n.pointSelectR(e)*1.5)}
else if(t.nodeName==="path"){a=r.classed(i.bar)?n.isWithinBar(t):!0};return a};e.getInterpolate=function(t){var e=this,i=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?i:e.isStepType(t)?e.config.line_step_type:"linear"};e.initLine=function(){var t=this;t.main.select("."+i.chart).append("g").attr("class",i.chartLines)};e.updateTargetsForLine=function(t){var e=this,s=e.config,a,n,r=e.classChartLine.bind(e),o=e.classLines.bind(e),c=e.classAreas.bind(e),u=e.classCircles.bind(e),l=e.classFocus.bind(e);a=e.main.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",function(t){return r(t)+l(t)});n=a.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none");n.append("g").attr("class",o);n.append("g").attr("class",c);n.append("g").attr("class",function(t){return e.generateClass(i.selectedCircles,t.id)});n.append("g").attr("class",u).style("cursor",function(t){return s.data_selection_isselectable(t)?"pointer":null});t.forEach(function(t){e.main.selectAll("."+i.selectedCircles+e.getTargetSelectorSuffix(t.id)).selectAll("."+i.selectedCircle).each(function(e){e.value=t.values[e.index].value})})};e.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+i.lines).selectAll("."+i.line).data(e.lineData.bind(e));e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null);e.mainLine.exit().transition().duration(t).style("opacity",0).remove()};e.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]};e.generateDrawLine=function(t,e){var i=this,n=i.config,a=i.d3.svg.line(),c=i.generateGetLinePoints(t,e),r=e?i.getSubYScale:i.getYScale,s=function(t){return(e?i.subxx:i.xx).call(i,t)},o=function(t,e){return n.data_groups.length>0?c(t,e)[0][1]:r.call(i,t.id)(t.value)};a=n.axis_rotated?a.x(o).y(s):a.x(s).y(o);if(!n.line_connectNull){a=a.defined(function(t){return t.value!=null})};return function(t){var s=n.line_connectNull?i.filterRemoveNull(t.values):t.values,l=e?i.x:i.subX,d=r.call(i,t.id),c=0,u=0,o;if(i.isLineType(t)){if(n.data_regions[t.id]){o=i.lineWithRegions(s,l,d,n.data_regions[t.id])}
else{if(i.isStepType(t)){s=i.convertValuesToStep(s)};o=a.interpolate(i.getInterpolate(t))(s)}}
else{if(s[0]){c=l(s[0].x);u=d(s[0].value)};o=n.axis_rotated?"M "+u+" "+c:"M "+c+" "+u};return o?o:"M 0 0"}};e.generateGetLinePoints=function(t,e){var i=this,n=i.config,a=t.__max__+1,r=i.getShapeX(0,a,t,!!e),s=i.getShapeY(!!e),o=i.getShapeOffset(i.isLineType,t,!!e),c=e?i.getSubYScale:i.getYScale;return function(t,e){var a=c.call(i,t.id)(0),l=o(t,e)||a,d=r(t),u=s(t);if(n.axis_rotated){if((0<t.value&&u<a)||(t.value<0&&a<u)){u=a}};return[[d,u-(a-l)],[d,u-(a-l)],[d,u-(a-l)],[d,u-(a-l)]]}};e.lineWithRegions=function(t,e,i,n){var r=this,d=r.config,P=-1,a,h,f="M",p,u,s,x,y,m,g,S,v=r.isCategorized()?0.5:0,b,A,c=[];function C(t,e){var i;for(i=0;i<e.length;i++){if(e[i].start<t&&t<=e[i].end){return!0}};return!1};if(o(n)){for(a=0;a<n.length;a++){c[a]={};if(l(n[a].start)){c[a].start=t[0].x}
else{c[a].start=r.isTimeSeries()?r.parseDate(n[a].start):n[a].start};if(l(n[a].end)){c[a].end=t[t.length-1].x}
else{c[a].end=r.isTimeSeries()?r.parseDate(n[a].end):n[a].end}}};b=d.axis_rotated?function(t){return i(t.value)}:function(t){return e(t.x)};A=d.axis_rotated?function(t){return e(t.x)}:function(t){return i(t.value)};function T(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]};if(r.isTimeSeries()){p=function(t,n,a,r){var c=t.x.getTime(),u=n.x-t.x,l=new Date(c+u*a),h=new Date(c+u*(a+r)),o;if(d.axis_rotated){o=[[i(s(a)),e(l)],[i(s(a+r)),e(h)]]}
else{o=[[e(l),i(s(a))],[e(h),i(s(a+r))]]};return T(o)}}
else{p=function(t,n,a,r){var o;if(d.axis_rotated){o=[[i(s(a),!0),e(u(a))],[i(s(a+r),!0),e(u(a+r))]]}
else{o=[[e(u(a),!0),i(s(a))],[e(u(a+r),!0),i(s(a+r))]]};return T(o)}};for(a=0;a<t.length;a++){if(l(c)||!C(t[a].x,c)){f+=" "+b(t[a])+" "+A(t[a])}
else{u=r.getScale(t[a-1].x+v,t[a].x+v,r.isTimeSeries());s=r.getScale(t[a-1].value,t[a].value);x=e(t[a].x)-e(t[a-1].x);y=i(t[a].value)-i(t[a-1].value);m=Math.sqrt(Math.pow(x,2)+Math.pow(y,2));g=2/m;S=g*2;for(h=g;h<=1;h+=S){f+=p(t[a-1],t[a],h,g)}};P=t[a].x};return f};e.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+i.areas).selectAll("."+i.area).data(e.lineData.bind(e));e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){e.orgAreaOpacity=+n.select(this).style("opacity");return 0});e.mainArea.style("opacity",e.orgAreaOpacity);e.mainArea.exit().transition().duration(t).style("opacity",0).remove()};e.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]};e.generateDrawArea=function(t,e){var i=this,n=i.config,a=i.d3.svg.area(),r=i.generateGetAreaPoints(t,e),s=e?i.getSubYScale:i.getYScale,o=function(t){return(e?i.subxx:i.xx).call(i,t)},c=function(t,e){return n.data_groups.length>0?r(t,e)[0][1]:s.call(i,t.id)(i.getAreaBaseValue(t.id))},u=function(t,e){return n.data_groups.length>0?r(t,e)[1][1]:s.call(i,t.id)(t.value)};a=n.axis_rotated?a.x0(c).x1(u).y(o):a.x(o).y0(n.area_above?0:c).y1(u);if(!n.line_connectNull){a=a.defined(function(t){return t.value!==null})};return function(t){var e=n.line_connectNull?i.filterRemoveNull(t.values):t.values,s=0,o=0,r;if(i.isAreaType(t)){if(i.isStepType(t)){e=i.convertValuesToStep(e)};r=a.interpolate(i.getInterpolate(t))(e)}
else{if(e[0]){s=i.x(e[0].x);o=i.getYScale(t.id)(e[0].value)};r=n.axis_rotated?"M "+o+" "+s:"M "+s+" "+o};return r?r:"M 0 0"}};e.getAreaBaseValue=function(){return 0};e.generateGetAreaPoints=function(t,e){var i=this,n=i.config,a=t.__max__+1,r=i.getShapeX(0,a,t,!!e),s=i.getShapeY(!!e),o=i.getShapeOffset(i.isAreaType,t,!!e),c=e?i.getSubYScale:i.getYScale;return function(t,e){var a=c.call(i,t.id)(0),l=o(t,e)||a,d=r(t),u=s(t);if(n.axis_rotated){if((0<t.value&&u<a)||(t.value<0&&a<u)){u=a}};return[[d,l],[d,u-(a-l)],[d,u-(a-l)],[d,l]]}};e.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+i.circles).selectAll("."+i.circle).data(t.lineOrScatterData.bind(t));t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color);t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t));t.mainCircle.exit().remove()};e.redrawCircle=function(t,e,n){var a=this.main.selectAll("."+i.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?a.transition(Math.random().toString()):a).attr("cx",t).attr("cy",e)]};e.circleX=function(t){return t.x||t.x===0?this.x(t.x):null};e.updateCircleY=function(){var t=this,e,i;if(t.config.data_groups.length>0){e=t.getShapeIndices(t.isLineType),i=t.generateGetLinePoints(e);t.circleY=function(t,e){return i(t,e)[0][1]}}
else{t.circleY=function(e){return t.getYScale(e.id)(e.value)}}};e.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+i.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+i.circle+(r(t)?"-"+t:""))};e.expandCircles=function(t,e,n){var a=this,r=a.pointExpandedR.bind(a);if(n){a.unexpandCircles()};a.getCircles(t,e).classed(i.EXPANDED,!0).attr("r",r)};e.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(i.EXPANDED)}).classed(i.EXPANDED,!1).attr("r",n)};e.pointR=function(t){var i=this,e=i.config;return i.isStepType(t)?0:(d(e.point_r)?e.point_r(t):e.point_r)};e.pointExpandedR=function(t){var e=this,i=e.config;return i.point_focus_expand_enabled?(i.point_focus_expand_r?i.point_focus_expand_r:e.pointR(t)*1.75):e.pointR(t)};e.pointSelectR=function(t){var i=this,e=i.config;return d(e.point_select_r)?e.point_select_r(t):((e.point_select_r)?e.point_select_r:i.pointR(t)*4)};e.isWithinCircle=function(t,e){var i=this.d3,n=i.mouse(t),a=i.select(t),r=+a.attr("cx"),s=+a.attr("cy");return Math.sqrt(Math.pow(r-n[0],2)+Math.pow(s-n[1],2))<e};e.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30};e.initBar=function(){var t=this;t.main.select("."+i.chart).append("g").attr("class",i.chartBars)};e.updateTargetsForBar=function(t){var e=this,s=e.config,n,a,r=e.classChartBar.bind(e),o=e.classBars.bind(e),c=e.classFocus.bind(e);n=e.main.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",function(t){return r(t)+c(t)});a=n.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none");a.append("g").attr("class",o).style("cursor",function(t){return s.data_selection_isselectable(t)?"pointer":null})};e.updateBar=function(t){var e=this,a=e.barData.bind(e),r=e.classBar.bind(e),s=e.initialOpacity.bind(e),n=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+i.bars).selectAll("."+i.bar).data(a);e.mainBar.enter().append("path").attr("class",r).style("stroke",n).style("fill",n);e.mainBar.style("opacity",s);e.mainBar.exit().transition().duration(t).style("opacity",0).remove()};e.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]};e.getBarW=function(t,e){var a=this,i=a.config,n=typeof i.bar_width==="number"?i.bar_width:e?(t.tickInterval()*i.bar_width_ratio)/e:0;return i.bar_width_max&&n>i.bar_width_max?i.bar_width_max:n};e.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+i.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+i.bar+(r(t)?"-"+t:""))};e.expandBars=function(t,e,n){var a=this;if(n){a.unexpandBars()};a.getBars(t,e).classed(i.EXPANDED,!0)};e.unexpandBars=function(t){var e=this;e.getBars(t).classed(i.EXPANDED,!1)};e.generateDrawBar=function(t,e){var i=this,n=i.config,a=i.generateGetBarPoints(t,e);return function(t,e){var i=a(t,e),r=n.axis_rotated?1:0,s=n.axis_rotated?0:1,o="M "+i[0][r]+","+i[0][s]+" L"+i[1][r]+","+i[1][s]+" L"+i[2][r]+","+i[2][s]+" L"+i[3][r]+","+i[3][s]+" z";return o}};e.generateGetBarPoints=function(t,e){var i=this,r=e?i.subXAxis:i.xAxis,a=t.__max__+1,n=i.getBarW(r,a),s=i.getShapeX(n,a,t,!!e),o=i.getShapeY(!!e),c=i.getShapeOffset(i.isBarType,t,!!e),u=e?i.getSubYScale:i.getYScale;return function(t,e){var a=u.call(i,t.id)(0),l=c(t,e)||a,d=s(t),r=o(t);if(i.config.axis_rotated){if((0<t.value&&r<a)||(t.value<0&&a<r)){r=a}};return[[d,l],[d,r-(a-l)],[d+n,r-(a-l)],[d+n,l]]}};e.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),a=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),s=Math.min(a.x,r.x),o=Math.min(a.y,r.y),c=n.width,u=n.height,i=2,l=s-i,d=s+c+i,h=o+u+i,g=o-i;return l<e[0]&&e[0]<d&&g<e[1]&&e[1]<h};e.initText=function(){var t=this;t.main.select("."+i.chart).append("g").attr("class",i.chartTexts);t.mainText=t.d3.selectAll([])};e.updateTargetsForText=function(t){var e=this,n,a,r=e.classChartText.bind(e),s=e.classTexts.bind(e),o=e.classFocus.bind(e);n=e.main.select("."+i.chartTexts).selectAll("."+i.chartText).data(t).attr("class",function(t){return r(t)+o(t)});a=n.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none");a.append("g").attr("class",s)};e.updateText=function(t){var e=this,n=e.config,a=e.barOrLineData.bind(e),r=e.classText.bind(e);e.mainText=e.main.selectAll("."+i.texts).selectAll("."+i.text).data(a);e.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return n.axis_rotated?(t.value<0?"end":"start"):"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0);e.mainText.text(function(t,i,n){return e.dataLabelFormat(t.id)(t.value,t.id,i,n)});e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()};e.redrawText=function(t,e,i,n){return[(n?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]};e.getTextRect=function(t,e,i){var n=this.d3.select("body").append("div").classed("c3",!0),r=n.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),s=this.d3.select(i).style("font"),a;r.selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).style("font",s).text(t).each(function(){a=this.getBoundingClientRect()});n.remove();return a};e.generateXYForText=function(t,e,i,n){var a=this,r=a.generateGetAreaPoints(t,!1),s=a.generateGetBarPoints(e,!1),o=a.generateGetLinePoints(i,!1),c=n?a.getXForText:a.getYForText;return function(t,e){var i=a.isAreaType(t)?r:a.isBarType(t)?s:o;return c.call(a,i(t,e),t,this)}};e.getXForText=function(t,e,i){var a=this,s=i.getBoundingClientRect(),n,r;if(a.config.axis_rotated){r=a.isBarType(e)?4:6;n=t[2][1]+r*(e.value<0?-1:1)}
else{n=a.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0]};if(e.value===null){if(n>a.width){n=a.width-s.width}
else if(n<0){n=4}};return n};e.getYForText=function(t,e,i){var a=this,r=i.getBoundingClientRect(),n;if(a.config.axis_rotated){n=(t[0][0]+t[2][0]+r.height*0.6)/2}
else{n=t[2][1];if(e.value<0||(e.value===0&&!a.hasPositiveValue)){n+=r.height;if(a.isBarType(e)&&a.isSafari()){n-=3}
else if(!a.isBarType(e)&&a.isChrome()){n+=3}}
else{n+=a.isBarType(e)?-3:-6}};if(e.value===null&&!a.config.axis_rotated){if(n<r.height){n=r.height}
else if(n>this.height){n=this.height-4}};return n};e.setTargetType=function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=(e===n.data_types[t]);n.data_types[t]=e});if(!t){n.data_type=e}};e.hasType=function(t,e){var a=this,i=a.config.data_types,n=!1;e=e||a.data.targets;if(e&&e.length){e.forEach(function(e){var a=i[e.id];if((a&&a.indexOf(t)>=0)||(!a&&t==="line")){n=!0}})}
else if(Object.keys(i).length){Object.keys(i).forEach(function(e){if(i[e]===t){n=!0}})}
else{n=a.config.data_type===t};return n};e.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)};e.isLineType=function(t){var e=this.config,i=c(t)?t:t.id;return!e.data_types[i]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[i])>=0};e.isStepType=function(t){var e=c(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0};e.isSplineType=function(t){var e=c(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0};e.isAreaType=function(t){var e=c(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0};e.isBarType=function(t){var e=c(t)?t:t.id;return this.config.data_types[e]==="bar"};e.isScatterType=function(t){var e=c(t)?t:t.id;return this.config.data_types[e]==="scatter"};e.isPieType=function(t){var e=c(t)?t:t.id;return this.config.data_types[e]==="pie"};e.isGaugeType=function(t){var e=c(t)?t:t.id;return this.config.data_types[e]==="gauge"};e.isDonutType=function(t){var e=c(t)?t:t.id;return this.config.data_types[e]==="donut"};e.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)};e.lineData=function(t){return this.isLineType(t)?[t]:[]};e.arcData=function(t){return this.isArcType(t.data)?[t]:[]};e.barData=function(t){return this.isBarType(t)?t.values:[]};e.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]};e.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]};e.isInterpolationType=function(t){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)>=0};e.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid);if(e.grid_x_show){t.grid.append("g").attr("class",i.xgrids)};if(e.grid_y_show){t.grid.append("g").attr("class",i.ygrids)};if(e.grid_focus_show){t.grid.append("g").attr("class",i.xgridFocus).append("line").attr("class",i.xgridFocus)};t.xgrid=n.selectAll([]);if(!e.grid_lines_front){t.initGridLines()}};e.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid+" "+i.gridLines);t.gridLines.append("g").attr("class",i.xgridLines);t.gridLines.append("g").attr("class",i.ygridLines);t.xgridLines=e.selectAll([])};e.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,s=e.generateGridData(n.grid_x_type,e.x),a=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{"x1":0,"x2":e.width,"y1":function(t){return e.x(t)-a},"y2":function(t){return e.x(t)-a}}:{"x1":function(t){return e.x(t)+a},"x2":function(t){return e.x(t)+a},"y1":0,"y2":e.height};e.xgrid=e.main.select("."+i.xgrids).selectAll("."+i.xgrid).data(s);e.xgrid.enter().append("line").attr("class",i.xgrid);if(!t){e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1})};e.xgrid.exit().remove()};e.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+i.ygrids).selectAll("."+i.ygrid).data(n);t.ygrid.enter().append("line").attr("class",i.ygrid);t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y);t.ygrid.exit().remove();t.smoothLines(t.ygrid,"grid")};e.gridTextAnchor=function(t){return t.position?t.position:"end"};e.gridTextDx=function(t){return t.position==="start"?4:t.position==="middle"?0:-4};e.xGridTextX=function(t){return t.position==="start"?-this.height:t.position==="middle"?-this.height/2:0};e.yGridTextX=function(t){return t.position==="start"?0:t.position==="middle"?this.width/2:this.width};e.updateGrid=function(t){var e=this,r=e.main,n=e.config,s,o,a;e.grid.style("visibility",e.hasArcType()?"hidden":"visible");r.select("line."+i.xgridFocus).style("visibility","hidden");if(n.grid_x_show){e.updateXGrid()};e.xgridLines=r.select("."+i.xgridLines).selectAll("."+i.xgridLine).data(n.grid_x_lines);s=e.xgridLines.enter().append("g").attr("class",function(t){return i.xgridLine+(t["class"]?" "+t["class"]:"")});s.append("line").style("opacity",0);s.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",n.axis_rotated?"":"rotate(-90)").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0);e.xgridLines.exit().transition().duration(t).style("opacity",0).remove();if(n.grid_y_show){e.updateYGrid()};e.ygridLines=r.select("."+i.ygridLines).selectAll("."+i.ygridLine).data(n.grid_y_lines);o=e.ygridLines.enter().append("g").attr("class",function(t){return i.ygridLine+(t["class"]?" "+t["class"]:"")});o.append("line").style("opacity",0);o.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",n.axis_rotated?"rotate(-90)":"").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0);a=e.yv.bind(e);e.ygridLines.select("line").transition().duration(t).attr("x1",n.axis_rotated?a:0).attr("x2",n.axis_rotated?a:e.width).attr("y1",n.axis_rotated?0:a).attr("y2",n.axis_rotated?e.height:a).style("opacity",1);e.ygridLines.select("text").transition().duration(t).attr("x",n.axis_rotated?e.xGridTextX.bind(e):e.yGridTextX.bind(e)).attr("y",a).text(function(t){return t.text}).style("opacity",1);e.ygridLines.exit().transition().duration(t).style("opacity",0).remove()};e.redrawGrid=function(t){var e=this,i=e.config,n=e.xv.bind(e),a=e.xgridLines.select("line"),r=e.xgridLines.select("text");return[(t?a.transition():a).attr("x1",i.axis_rotated?0:n).attr("x2",i.axis_rotated?e.width:n).attr("y1",i.axis_rotated?n:0).attr("y2",i.axis_rotated?n:e.height).style("opacity",1),(t?r.transition():r).attr("x",i.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",n).text(function(t){return t.text}).style("opacity",1)]};e.showXGridFocus=function(t){var e=this,n=e.config,o=t.filter(function(t){return t&&r(t.value)}),a=e.main.selectAll("line."+i.xgridFocus),s=e.xx.bind(e);if(!n.tooltip_show){return};if(e.hasType("scatter")||e.hasArcType()){return};a.style("visibility","visible").data([o[0]]).attr(n.axis_rotated?"y1":"x1",s).attr(n.axis_rotated?"y2":"x2",s);e.smoothLines(a,"grid")};e.hideXGridFocus=function(){this.main.select("line."+i.xgridFocus).style("visibility","hidden")};e.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+i.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)};e.generateGridData=function(t,e){var s=this,n=[],r,o,c,a,u=s.main.select("."+i.axisX).selectAll(".tick").size();if(t==="year"){r=s.getXDomain();o=r[0].getFullYear();c=r[1].getFullYear();for(a=o;a<=c;a++){n.push(new Date(a+"-01-01 00:00:00"))}}
else{n=e.ticks(10);if(n.length>u){n=n.filter(function(t){return(""+t).indexOf(".")<0})}};return n};e.getGridFilterToRemove=function(t){return t?function(e){var i=!1;[].concat(t).forEach(function(t){if((("value" in t&&e.value===t.value)||("class" in t&&e["class"]===t["class"]))){i=!0}});return i}:function(){return!0}};e.removeGridLines=function(t,e){var a=this,n=a.config,r=a.getGridFilterToRemove(t),s=function(t){return!r(t)},o=e?i.xgridLines:i.ygridLines,c=e?i.xgridLine:i.ygridLine;a.main.select("."+o).selectAll("."+c).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove();if(e){n.grid_x_lines=n.grid_x_lines.filter(s)}
else{n.grid_y_lines=n.grid_y_lines.filter(s)}};e.initTooltip=function(){var t=this,e=t.config,n;t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",i.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(e.tooltip_init_show){if(t.isTimeSeries()&&c(e.tooltip_init_x)){e.tooltip_init_x=t.parseDate(e.tooltip_init_x);for(n=0;n<t.data.targets[0].values.length;n++){if((t.data.targets[0].values[n].x-e.tooltip_init_x)===0){break}};e.tooltip_init_x=n};t.tooltip.html(e.tooltip_contents.call(t,t.data.targets.map(function(i){return t.addName(i.values[e.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color));t.tooltip.style("top",e.tooltip_init_position.top).style("left",e.tooltip_init_position.left).style("display","block")}};e.getTooltipContent=function(t,e,i,n){var r=this,o=r.config,d=o.tooltip_format_title||e,p=o.tooltip_format_name||function(t){return t},x=o.tooltip_format_value||i,s,a,c,u,h,g,f=r.isOrderAsc();if(o.data_groups.length===0){t.sort(function(t,e){var i=t?t.value:null,n=e?e.value:null;return f?i-n:n-i})}
else{var l=r.orderTargets(r.data.targets).map(function(t){return t.id});t.sort(function(t,e){var i=t?t.value:null,n=e?e.value:null;if(i>0&&n>0){i=t?l.indexOf(t.id):null;n=e?l.indexOf(e.id):null};return f?i-n:n-i})};for(a=0;a<t.length;a++){if(!(t[a]&&(t[a].value||t[a].value===0))){continue};if(!s){c=y(d?d(t[a].x):t[a].x);s="<table class='"+r.CLASS.tooltip+"'>"+(c||c===0?"<tr><th colspan='2'>"+c+"</th></tr>":"")};u=y(x(t[a].value,t[a].ratio,t[a].id,t[a].index,t));if(u!==undefined){if(t[a].name===null){continue};h=y(p(t[a].name,t[a].ratio,t[a].id,t[a].index));g=r.levelColor?r.levelColor(t[a].value):n(t[a].id);s+="<tr class='"+r.CLASS.tooltipName+"-"+r.getTargetSelectorSuffix(t[a].id)+"'>";s+="<td class='name'><span style='background-color:"+g+"'></span>"+h+"</td>";s+="<td class='value'>"+u+"</td>";s+="</tr>"}};return s+"</table>"};e.tooltipPosition=function(t,e,i,n){var a=this,d=a.config,h=a.d3,o,s,c,r,u,g=a.hasArcType(),l=h.mouse(n);if(g){s=((a.width-(a.isLegendRight?a.getLegendWidth():0))/2)+l[0];r=(a.height/2)+l[1]+20}
else{o=a.getSvgLeft(!0);if(d.axis_rotated){s=o+l[0]+100;c=s+e;u=a.currentWidth-a.getCurrentPaddingRight();r=a.x(t[0].x)+20}
else{s=o+a.getCurrentPaddingLeft(!0)+a.x(t[0].x)+20;c=s+e;u=o+a.currentWidth-a.getCurrentPaddingRight();r=l[1]+15};if(c>u){s-=c-u+20};if(r+i>a.currentHeight){r-=i+30}};if(r<0){r=0};return{top:r,left:s}};e.showTooltip=function(t,i){var n=this,a=n.config,o,c,s,l=n.hasArcType(),u=t.filter(function(t){return t&&r(t.value)}),d=a.tooltip_position||e.tooltipPosition;if(u.length===0||!a.tooltip_show){return};n.tooltip.html(a.tooltip_contents.call(n,t,n.axis.getXAxisTickFormat(),n.getYFormat(l),n.color)).style("display","block");o=n.tooltip.property("offsetWidth");c=n.tooltip.property("offsetHeight");s=d.call(this,u,o,c,i);n.tooltip.style("top",s.top+"px").style("left",s.left+"px")};e.hideTooltip=function(){this.tooltip.style("display","none")};e.initLegend=function(){var t=this;t.legendItemTextBox={};t.legendHasRendered=!1;t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend"));if(!t.config.legend_show){t.legend.style("visibility","hidden");t.hiddenLegendIds=t.mapToIds(t.data.targets);return};t.updateLegendWithDefaults()};e.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})};e.updateSizeForLegend=function(t,e){var i=this,n=i.config,a={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+0.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+0.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?a.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?a.left:0}};e.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))};e.updateLegendStep=function(t){this.legendStep=t};e.updateLegendItemWidth=function(t){this.legendItemWidth=t};e.updateLegendItemHeight=function(t){this.legendItemHeight=t};e.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0};e.getLegendHeight=function(){var t=this,e=0;if(t.config.legend_show){if(t.isLegendRight){e=t.currentHeight}
else{e=Math.max(20,t.legendItemHeight)*(t.legendStep+1)}};return e};e.opacityForLegend=function(t){return t.classed(i.legendItemHidden)?null:1};e.opacityForUnfocusedLegend=function(t){return t.classed(i.legendItemHidden)?null:0.3};e.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t);n.legend.selectAll("."+i.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(i.legendItemFocused,e).transition().duration(100).style("opacity",function(){var t=e?n.opacityForLegend:n.opacityForUnfocusedLegend;return t.call(n,n.d3.select(this))})};e.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+i.legendItem).classed(i.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})};e.showLegend=function(t){var e=this,i=e.config;if(!i.legend_show){i.legend_show=!0;e.legend.style("visibility","visible");if(!e.legendHasRendered){e.updateLegendWithDefaults()}};e.removeHiddenLegendIds(t);e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})};e.hideLegend=function(t){var e=this,i=e.config;if(i.legend_show&&m(t)){i.legend_show=!1;e.legend.style("visibility","hidden")};e.addHiddenLegendIds(t);e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")};e.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}};e.updateLegend=function(t,e,a){var n=this,r=n.config,h,L,w,f,V,G,E,I,y,F=4,k=10,c=0,l=0,R=10,X=r.legend_item_tile_width+5,b,p=0,m={},S={},v={},A=[0],d={},u=0;var x,O,T,P,C,g;t=t.filter(function(t){return!o(r.data_names[t])||r.data_names[t]!==null});e=e||{};x=s(e,"withTransition",!0);O=s(e,"withTransitionForTransform",!0);function M(t,e){if(!n.legendItemTextBox[e]){n.legendItemTextBox[e]=n.getTextRect(t.textContent,i.legendItem,t)};return n.legendItemTextBox[e]};function D(e,i,a){var T=a===0,P=a===t.length-1,y=M(e,i),o=y.width+X+(P&&!(n.isLegendRight||n.isLegendInset)?0:k)+r.legend_padding,h=y.height+F,g=n.isLegendRight||n.isLegendInset?h:o,f=n.isLegendRight||n.isLegendInset?n.getLegendHeight():n.getLegendWidth(),s,b;function x(t,e){if(!e){s=(f-p-g)/2;if(s<R){s=(f-g)/2;p=0;u++}};d[t]=u;A[u]=n.isLegendInset?10:s;m[t]=p;p+=g};if(T){p=0;u=0;c=0;l=0};if(r.legend_show&&!n.isLegendToShow(i)){S[i]=v[i]=d[i]=m[i]=0;return};S[i]=o;v[i]=h;if(!c||o>=c){c=o};if(!l||h>=l){l=h};b=n.isLegendRight||n.isLegendInset?l:c;if(r.legend_equally){Object.keys(S).forEach(function(t){S[t]=c});Object.keys(v).forEach(function(t){v[t]=l});s=(f-b*t.length)/2;if(s<R){p=0;u=0;t.forEach(function(t){x(t)})}
else{x(i,!0)}}
else{x(i)}};if(n.isLegendInset){u=r.legend_inset_step?r.legend_inset_step:t.length;n.updateLegendStep(u)};if(n.isLegendRight){h=function(t){return c*d[t]};f=function(t){return A[d[t]]+m[t]}}
else if(n.isLegendInset){h=function(t){return c*d[t]+10};f=function(t){return A[d[t]]+m[t]}}
else{h=function(t){return A[d[t]]+m[t]};f=function(t){return l*d[t]}};L=function(t,e){return h(t,e)+4+r.legend_item_tile_width};V=function(t,e){return f(t,e)+9};w=function(t,e){return h(t,e)};G=function(t,e){return f(t,e)-5};E=function(t,e){return h(t,e)-2};I=function(t,e){return h(t,e)-2+r.legend_item_tile_width};y=function(t,e){return f(t,e)+4};b=n.legend.selectAll("."+i.legendItem).data(t).enter().append("g").attr("class",function(t){return n.generateClass(i.legendItem,t)}).style("visibility",function(t){return n.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){if(r.legend_item_onclick){r.legend_item_onclick.call(n,t)}
else{if(n.d3.event.altKey){n.api.hide();n.api.show(t)}
else{n.api.toggle(t);n.isTargetToShow(t)?n.api.focus(t):n.api.revert()}}}).on("mouseover",function(t){if(r.legend_item_onmouseover){r.legend_item_onmouseover.call(n,t)}
else{n.d3.select(this).classed(i.legendItemFocused,!0);if(!n.transiting&&n.isTargetToShow(t)){n.api.focus(t)}}}).on("mouseout",function(t){if(r.legend_item_onmouseout){r.legend_item_onmouseout.call(n,t)}
else{n.d3.select(this).classed(i.legendItemFocused,!1);n.api.revert()}});b.append("text").text(function(t){return o(r.data_names[t])?r.data_names[t]:t}).each(function(t,e){D(this,t,e)}).style("pointer-events","none").attr("x",n.isLegendRight||n.isLegendInset?L:-200).attr("y",n.isLegendRight||n.isLegendInset?-200:V);b.append("rect").attr("class",i.legendItemEvent).style("fill-opacity",0).attr("x",n.isLegendRight||n.isLegendInset?w:-200).attr("y",n.isLegendRight||n.isLegendInset?-200:G);b.append("line").attr("class",i.legendItemTile).style("stroke",n.color).style("pointer-events","none").attr("x1",n.isLegendRight||n.isLegendInset?E:-200).attr("y1",n.isLegendRight||n.isLegendInset?-200:y).attr("x2",n.isLegendRight||n.isLegendInset?I:-200).attr("y2",n.isLegendRight||n.isLegendInset?-200:y).attr("stroke-width",r.legend_item_tile_height);g=n.legend.select("."+i.legendBackground+" rect");if(n.isLegendInset&&c>0&&g.size()===0){g=n.legend.insert("g","."+i.legendItem).attr("class",i.legendBackground).append("rect")};T=n.legend.selectAll("text").data(t).text(function(t){return o(r.data_names[t])?r.data_names[t]:t}).each(function(t,e){D(this,t,e)});(x?T.transition():T).attr("x",L).attr("y",V);P=n.legend.selectAll("rect."+i.legendItemEvent).data(t);(x?P.transition():P).attr("width",function(t){return S[t]}).attr("height",function(t){return v[t]}).attr("x",w).attr("y",G);C=n.legend.selectAll("line."+i.legendItemTile).data(t);(x?C.transition():C).style("stroke",n.color).attr("x1",E).attr("y1",y).attr("x2",I).attr("y2",y);if(g){(x?g.transition():g).attr("height",n.getLegendHeight()-12).attr("width",c*(u+1)+10)};n.legend.selectAll("."+i.legendItem).classed(i.legendItemHidden,function(t){return!n.isTargetToShow(t)});n.updateLegendItemWidth(c);n.updateLegendItemHeight(l);n.updateLegendStep(u);n.updateSizes();n.updateScales();n.updateSvgSize();n.transformAll(O,a);n.legendHasRendered=!0};e.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)};e.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))};e.xForTitle=function(){var t=this,i=t.config,n=i.title_position||"left",e;if(n.indexOf("right")>=0){e=t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-i.title_padding.right}
else if(n.indexOf("center")>=0){e=(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2}
else{e=i.title_padding.left};return e};e.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height};e.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom};function a(t){S.call(this,t)};L(S,a);a.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",i.axis+" "+i.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden");t.axes.x.append("text").attr("class",i.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));t.axes.y=n.append("g").attr("class",i.axis+" "+i.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden");t.axes.y.append("text").attr("class",i.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this));t.axes.y2=n.append("g").attr("class",i.axis+" "+i.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden");t.axes.y2.append("text").attr("class",i.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};a.prototype.getXAxis=function(t,e,i,n,a,r,s){var o=this.owner,c=o.config,l={isCategory:o.isCategorized(),withOuterTick:a,tickMultiline:c.axis_x_tick_multiline,tickWidth:c.axis_x_tick_width,tickTextRotate:s?0:c.axis_x_tick_rotate,withoutTransition:r,},u=A(o.d3,l).scale(t).orient(e);if(o.isTimeSeries()&&n&&typeof n!=="function"){n=n.map(function(t){return o.parseDate(t)})};u.tickFormat(i).tickValues(n);if(o.isCategorized()){u.tickCentered(c.axis_x_tick_centered);if(m(c.axis_x_tick_culling)){c.axis_x_tick_culling=!1}};return u};a.prototype.updateXAxisTickValues=function(t,e){var i=this.owner,a=i.config,n;if(a.axis_x_tick_fit||a.axis_x_tick_count){n=this.generateTickValues(i.mapTargetsToUniqueXs(t),a.axis_x_tick_count,i.isTimeSeries())};if(e){e.tickValues(n)}
else{i.xAxis.tickValues(n);i.subXAxis.tickValues(n)};return n};a.prototype.getYAxis=function(t,e,i,n,a,r,s){var o=this.owner,c=o.config,l={withOuterTick:a,withoutTransition:r,tickTextRotate:s?0:c.axis_y_tick_rotate},u=A(o.d3,l).scale(t).orient(e).tickFormat(i);if(o.isTimeSeriesY()){u.ticks(o.d3.time[c.axis_y_tick_time_value],c.axis_y_tick_time_interval)}
else{u.tickValues(n)};return u};a.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"};a.prototype.getXAxisTickFormat=function(){var t=this.owner,i=t.config,e=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t<0?t.toFixed(0):t};if(i.axis_x_tick_format){if(d(i.axis_x_tick_format)){e=i.axis_x_tick_format}
else if(t.isTimeSeries()){e=function(e){return e?t.axisTimeFormat(i.axis_x_tick_format)(e):""}}};return d(e)?function(i){return e.call(t,i)}:e};a.prototype.getTickValues=function(t,e){return t?t:e?e.tickValues():undefined};a.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)};a.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)};a.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)};a.prototype.getLabelOptionByAxisId=function(t){var n=this.owner,i=n.config,e;if(t==="y"){e=i.axis_y_label}
else if(t==="y2"){e=i.axis_y2_label}
else if(t==="x"){e=i.axis_x_label};return e};a.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return c(e)?e:e?e.text:null};a.prototype.setLabelText=function(t,e){var a=this.owner,i=a.config,n=this.getLabelOptionByAxisId(t);if(c(n)){if(t==="y"){i.axis_y_label=e}
else if(t==="y2"){i.axis_y2_label=e}
else if(t==="x"){i.axis_x_label=e}}
else if(n){n.text=e}};a.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=(n&&typeof n==="object"&&n.position)?n.position:e;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}};a.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")};a.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")};a.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")};a.prototype.getLabelPositionById=function(t){return t==="y2"?this.getY2AxisLabelPosition():t==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()};a.prototype.textForXAxisLabel=function(){return this.getLabelText("x")};a.prototype.textForYAxisLabel=function(){return this.getLabelText("y")};a.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")};a.prototype.xForAxisLabel=function(t,e){var i=this.owner;if(t){return e.isLeft?0:e.isCenter?i.width/2:i.width}
else{return e.isBottom?-i.height:e.isMiddle?-i.height/2:0}};a.prototype.dxForAxisLabel=function(t,e){if(t){return e.isLeft?"0.5em":e.isRight?"-0.5em":"0"}
else{return e.isTop?"-0.5em":e.isBottom?"0.5em":"0"}};a.prototype.textAnchorForAxisLabel=function(t,e){if(t){return e.isLeft?"start":e.isCenter?"middle":"end"}
else{return e.isBottom?"start":e.isMiddle?"middle":"end"}};a.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};a.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};a.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};a.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};a.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};a.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};a.prototype.dyForXAxisLabel=function(){var i=this.owner,t=i.config,e=this.getXAxisLabelPosition();if(t.axis_rotated){return e.isInner?"1.2em":-25-this.getMaxTickWidth("x")}
else{return e.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"}};a.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();if(t.config.axis_rotated){return e.isInner?"-0.5em":"3em"}
else{return e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:(this.getMaxTickWidth("y")+10))}};a.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();if(t.config.axis_rotated){return e.isInner?"1.2em":"-2.2em"}
else{return e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:(this.getMaxTickWidth("y2")+15))}};a.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())};a.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())};a.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())};a.prototype.getMaxTickWidth=function(t,e){var i=this.owner,c=i.config,s=0,a,n,r,o,u;if(e&&i.currentMaxTickWidths[t]){return i.currentMaxTickWidths[t]};if(i.svg){a=i.filterTargetsToShow(i.data.targets);if(t==="y"){n=i.y.copy().domain(i.getYDomain(a,"y"));r=this.getYAxis(n,i.yOrient,c.axis_y_tick_format,i.yAxisTickValues,!1,!0,!0)}
else if(t==="y2"){n=i.y2.copy().domain(i.getYDomain(a,"y2"));r=this.getYAxis(n,i.y2Orient,c.axis_y2_tick_format,i.y2AxisTickValues,!1,!0,!0)}
else{n=i.x.copy().domain(i.getXDomain(a));r=this.getXAxis(n,i.xOrient,i.xAxisTickFormat,i.xAxisTickValues,!1,!0,!0);this.updateXAxisTickValues(a,r)};o=i.d3.select("body").append("div").classed("c3",!0);u=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),u.append("g").call(r).each(function(){i.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();if(s<t.width){s=t.width}});o.remove()})};i.currentMaxTickWidths[t]=s<=0?i.currentMaxTickWidths[t]:s;return i.currentMaxTickWidths[t]};a.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+i.axisX+" ."+i.axisXLabel),a=e.main.select("."+i.axisY+" ."+i.axisYLabel),r=e.main.select("."+i.axisY2+" ."+i.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));(t?a.transition():a).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};a.prototype.getPadding=function(t,e,i,n){var a=typeof t==="number"?t:t[e];if(!r(a)){return i};if(t.unit==="ratio"){return t[e]*n};return this.convertPixelsToAxisPadding(a,n)};a.prototype.convertPixelsToAxisPadding=function(t,e){var i=this.owner,n=i.config.axis_rotated?i.width:i.height;return e*(t/n)};a.prototype.generateTickValues=function(t,e,i){var n=t,a,r,o,c,l,s,u;if(e){a=d(e)?e():e;if(a===1){n=[t[0]]}
else if(a===2){n=[t[0],t[t.length-1]]}
else if(a>2){c=a-2;r=t[0];o=t[t.length-1];l=(o-r)/(c+1);n=[r];for(s=0;s<c;s++){u=+r+l*(s+1);n.push(i?new Date(u):u)};n.push(o)}};if(!i){n=n.sort(function(t,e){return t-e})};return n};a.prototype.generateTransitions=function(t){var i=this.owner,e=i.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}};a.prototype.redraw=function(t,e){var i=this.owner;i.axes.x.style("opacity",e?0:1);i.axes.y.style("opacity",e?0:1);i.axes.y2.style("opacity",e?0:1);i.axes.subx.style("opacity",e?0:1);t.axisX.call(i.xAxis);t.axisY.call(i.yAxis);t.axisY2.call(i.y2Axis);t.axisSubX.call(i.subXAxis)};e.getClipPath=function(e){var i=t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(i?"":document.URL.split("#")[0])+"#"+e+")"};e.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")};e.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)};e.getAxisClipY=function(t){return t?-20:-this.margin.top};e.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)};e.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)};e.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)};e.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)};e.getAxisClipWidth=function(t){var e=this,i=Math.max(30,e.margin.left),n=Math.max(30,e.margin.right);return t?e.width+2+i+n:e.margin.left+20};e.getAxisClipHeight=function(t){return(t?this.margin.bottom:(this.margin.top+this.height))+20};e.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)};e.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)};e.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)};e.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)};e.initPie=function(){var t=this,e=t.d3,i=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)});if(!i.data_order){t.pie.sort(null)}};e.updateRadius=function(){var t=this,e=t.config,i=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2;t.radius=t.radiusExpanded*0.95;t.innerRadiusRatio=i?(t.radius-i)/t.radius:0.6;t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0};e.updateArc=function(){var t=this;t.svgArc=t.getSvgArc();t.svgArcExpanded=t.getSvgArcExpanded();t.svgArcExpandedSub=t.getSvgArcExpanded(0.98)};e.updateAngle=function(t){var e=this,i=e.config,r=!1,s=0,n,a,o,c;if(!i){return null};e.pie(e.filterTargetsToShow(e.data.targets)).forEach(function(e){if(!r&&e.data.id===t.data.id){r=!0;t=e;t.index=s};s++});if(isNaN(t.startAngle)){t.startAngle=0};if(isNaN(t.endAngle)){t.endAngle=t.startAngle};if(e.isGaugeType(t.data)){n=i.gauge_min;a=i.gauge_max;o=(Math.PI*(i.gauge_fullCircle?2:1))/(a-n);c=t.value<n?0:t.value<a?t.value-n:(a-n);t.startAngle=i.gauge_startingAngle;t.endAngle=t.startAngle+o*c};return r?t:null};e.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),i=function(i,n){var a;if(n){return e(i)};a=t.updateAngle(i);return a?e(a):"M 0 0"};i.centroid=e.centroid;return i};e.getSvgArcExpanded=function(t){var e=this,i=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t?t:1)).innerRadius(e.innerRadius);return function(t){var n=e.updateAngle(t);return n?i(n):"M 0 0"}};e.getArc=function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"};e.transformForArcLabel=function(t){var e=this,i=e.config,c=e.updateAngle(t),n,s,o,a,r,u="";if(c&&!e.hasType("gauge")){n=this.svgArc.centroid(c);s=isNaN(n[0])?0:n[0];o=isNaN(n[1])?0:n[1];a=Math.sqrt(s*s+o*o);if(e.hasType("donut")&&i.donut_label_ratio){r=d(i.donut_label_ratio)?i.donut_label_ratio(t,e.radius,a):i.donut_label_ratio}
else if(e.hasType("pie")&&i.pie_label_ratio){r=d(i.pie_label_ratio)?i.pie_label_ratio(t,e.radius,a):i.pie_label_ratio}
else{r=e.radius&&a?(36/e.radius>0.375?1.175-36/e.radius:0.8)*e.radius/a:0};u="translate("+(s*r)+","+(o*r)+")"};return u};e.getArcRatio=function(t){var e=this,i=e.config,n=Math.PI*(e.hasType("gauge")&&!i.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/n:null};e.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})};e.textForArcLabel=function(t){var e=this,i,a,n,s,r;if(!e.shouldShowArcLabel()){return""};i=e.updateAngle(t);a=i?i.value:null;n=e.getArcRatio(i);s=t.data.id;if(!e.hasType("gauge")&&!e.meetsArcLabelThreshold(n)){return""};r=e.getArcLabelFormat();return r?r(a,n,s):e.defaultArcValueFormat(a,n)};e.expandArc=function(e){var n=this,a;if(n.transiting){a=t.setInterval(function(){if(!n.transiting){t.clearInterval(a);if(n.legend.selectAll(".c3-legend-item-focused").size()>0){n.expandArc(e)}}},10);return};e=n.mapToTargetIds(e);n.svg.selectAll(n.selectorTargets(e,"."+i.chartArc)).each(function(t){if(!n.shouldExpand(t.data.id)){return};n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(n.expandDuration(t.data.id)*2).attr("d",n.svgArcExpandedSub).each(function(t){if(n.isDonutType(t.data)){}})})};e.unexpandArc=function(t){var e=this;if(e.transiting){return};t=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(t,"."+i.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc);e.svg.selectAll("."+i.arc).style("opacity",1)};e.expandDuration=function(t){var e=this,i=e.config;if(e.isDonutType(t)){return i.donut_expand_duration}
else if(e.isGaugeType(t)){return i.gauge_expand_duration}
else if(e.isPieType(t)){return i.pie_expand_duration}
else{return 50}};e.shouldExpand=function(t){var e=this,i=e.config;return(e.isDonutType(t)&&i.donut_expand)||(e.isGaugeType(t)&&i.gauge_expand)||(e.isPieType(t)&&i.pie_expand)};e.shouldShowArcLabel=function(){var t=this,i=t.config,e=!0;if(t.hasType("donut")){e=i.donut_label_show}
else if(t.hasType("pie")){e=i.pie_label_show};return e};e.meetsArcLabelThreshold=function(t){var e=this,i=e.config,n=e.hasType("donut")?i.donut_label_threshold:i.pie_label_threshold;return t>=n};e.getArcLabelFormat=function(){var t=this,e=t.config,i=e.pie_label_format;if(t.hasType("gauge")){i=e.gauge_label_format}
else if(t.hasType("donut")){i=e.donut_label_format};return i};e.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""};e.updateTargetsForArc=function(t){var e=this,s=e.main,a,n,r=e.classChartArc.bind(e),o=e.classArcs.bind(e),c=e.classFocus.bind(e);a=s.select("."+i.chartArcs).selectAll("."+i.chartArc).data(e.pie(t)).attr("class",function(t){return r(t)+c(t.data)});n=a.enter().append("g").attr("class",r);n.append("g").attr("class",o);n.append("text").attr("dy",e.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")};e.initArc=function(){var t=this;t.arcs=t.main.select("."+i.chart).append("g").attr("class",i.chartArcs).attr("transform",t.getTranslate("arc"));t.arcs.append("text").attr("class",i.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())};e.redrawArc=function(t,e,n){var a=this,c=a.d3,r=a.config,o=a.main,s;s=o.selectAll("."+i.arcs).selectAll("."+i.arc).data(a.arcData.bind(a));s.enter().append("path").attr("class",a.classArc.bind(a)).style("fill",function(t){return a.color(t.data)}).style("cursor",function(t){return r.interaction_enabled&&r.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){if(a.isGaugeType(t.data)){t.startAngle=t.endAngle=r.gauge_startingAngle};this._current=t});s.attr("transform",function(t){return!a.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",r.interaction_enabled?function(t){var e,i;if(a.transiting){return};e=a.updateAngle(t);if(e){i=a.convertToArcData(e);a.expandArc(e.data.id);a.api.focus(e.data.id);a.toggleFocusLegend(e.data.id,!0);a.config.data_onmouseover(i,this)}}:null).on("mousemove",r.interaction_enabled?function(t){var e=a.updateAngle(t),i,n;if(e){i=a.convertToArcData(e),n=[i];a.showTooltip(n,this)}}:null).on("mouseout",r.interaction_enabled?function(t){var e,i;if(a.transiting){return};e=a.updateAngle(t);if(e){i=a.convertToArcData(e);a.unexpandArc(e.data.id);a.api.revert();a.revertLegend();a.hideTooltip();a.config.data_onmouseout(i,this)}}:null).on("click",r.interaction_enabled?function(t,e){var n=a.updateAngle(t),i;if(n){i=a.convertToArcData(n);if(a.toggleShape){a.toggleShape(this,i,e)};a.config.data_onclick.call(a.api,i,this)}}:null).each(function(){a.transiting=!0}).transition().duration(t).attrTween("d",function(t){var i=a.updateAngle(t),e;if(!i){return function(){return"M 0 0"}};if(isNaN(this._current.startAngle)){this._current.startAngle=0};if(isNaN(this._current.endAngle)){this._current.endAngle=this._current.startAngle};e=c.interpolate(this._current,i);this._current=e(0);return function(i){var n=e(i);n.data=t.data;return a.getArc(n,!0)}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return a.levelColor?a.levelColor(t.data.values[0].value):a.color(t.data.id)}).style("opacity",1).call(a.endall,function(){a.transiting=!1});s.exit().transition().duration(e).style("opacity",0).remove();o.selectAll("."+i.chartArc).select("text").style("opacity",0).attr("class",function(t){return a.isGaugeType(t.data)?i.gaugeValue:""}).text(a.textForArcLabel.bind(a)).attr("transform",a.transformForArcLabel.bind(a)).style("font-size",function(t){return a.isGaugeType(t.data)?Math.round(a.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return a.isTargetToShow(t.data.id)&&a.isArcType(t.data)?1:0});o.select("."+i.chartArcsTitle).style("opacity",a.hasType("donut")||a.hasType("gauge")?1:0);if(a.hasType("gauge")){a.arcs.select("."+i.chartArcsBackground).attr("d",function(){var t={data:[{value:r.gauge_max}],startAngle:r.gauge_startingAngle,endAngle:-1*r.gauge_startingAngle};return a.getArc(t,!0,!0)});a.arcs.select("."+i.chartArcsGaugeUnit).attr("dy",".75em").text(r.gauge_label_show?r.gauge_units:"");a.arcs.select("."+i.chartArcsGaugeMin).attr("dx",-1*(a.innerRadius+((a.radius-a.innerRadius)/(r.gauge_fullCircle?1:2)))+"px").attr("dy","1.2em").text(r.gauge_label_show?r.gauge_min:"");a.arcs.select("."+i.chartArcsGaugeMax).attr("dx",a.innerRadius+((a.radius-a.innerRadius)/(r.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(r.gauge_label_show?r.gauge_max:"")}};e.initGauge=function(){var t=this.arcs;if(this.hasType("gauge")){t.append("path").attr("class",i.chartArcsBackground);t.append("text").attr("class",i.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none");t.append("text").attr("class",i.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none");t.append("text").attr("class",i.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")}};e.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0};e.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",i.regions)};e.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible");e.mainRegion=e.main.select("."+i.regions).selectAll("."+i.region).data(n.regions);e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0);e.mainRegion.attr("class",e.classRegion.bind(e));e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()};e.redrawRegion=function(t){var e=this,i=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),n=e.regionX.bind(e),a=e.regionY.bind(e),s=e.regionWidth.bind(e),o=e.regionHeight.bind(e);return[(t?i.transition():i).attr("x",n).attr("y",a).attr("width",s).attr("height",o).style("fill-opacity",function(t){return r(t.opacity)?t.opacity:0.1})]};e.regionX=function(t){var e=this,n=e.config,i,a=t.axis==="y"?e.y:e.y2;if(t.axis==="y"||t.axis==="y2"){i=n.axis_rotated?("start" in t?a(t.start):0):0}
else{i=n.axis_rotated?0:("start" in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0)};return i};e.regionY=function(t){var e=this,n=e.config,i,a=t.axis==="y"?e.y:e.y2;if(t.axis==="y"||t.axis==="y2"){i=n.axis_rotated?0:("end" in t?a(t.end):0)}
else{i=n.axis_rotated?("start" in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0):0};return i};e.regionWidth=function(t){var e=this,n=e.config,a=e.regionX(t),i,r=t.axis==="y"?e.y:e.y2;if(t.axis==="y"||t.axis==="y2"){i=n.axis_rotated?("end" in t?r(t.end):e.width):e.width}
else{i=n.axis_rotated?e.width:("end" in t?e.x(e.isTimeSeries()?e.parseDate(t.end):t.end):e.width)};return i<a?0:i-a};e.regionHeight=function(t){var e=this,n=e.config,a=this.regionY(t),i,r=t.axis==="y"?e.y:e.y2;if(t.axis==="y"||t.axis==="y2"){i=n.axis_rotated?e.height:("start" in t?r(t.start):e.height)}
else{i=n.axis_rotated?("end" in t?e.x(e.isTimeSeries()?e.parseDate(t.end):t.end):e.height):e.height};return i<a?0:i-a};e.isRegionOnX=function(t){return!t.axis||t.axis==="x"};e.drag=function(t){var e=this,n=e.config,h=e.main,g=e.d3,c,u,l,d,a,s,r,o;if(e.hasArcType()){return};if(!n.data_selection_enabled){return};if(n.zoom_enabled&&!e.zoom.altDomain){return};if(!n.data_selection_multiple){return};c=e.dragStart[0];u=e.dragStart[1];l=t[0];d=t[1];a=Math.min(c,l);s=Math.max(c,l);r=(n.data_selection_grouped)?e.margin.top:Math.min(u,d);o=(n.data_selection_grouped)?e.height:Math.max(u,d);h.select("."+i.dragarea).attr("x",a).attr("y",r).attr("width",s-a).attr("height",o-r);h.selectAll("."+i.shapes).selectAll("."+i.shape).filter(function(t){return n.data_selection_isselectable(t)}).each(function(t,n){var c=g.select(this),p=c.classed(i.SELECTED),x=c.classed(i.INCLUDED),u,l,y,m,h,f=!1,d;if(c.classed(i.circle)){u=c.attr("cx")*1;l=c.attr("cy")*1;h=e.togglePoint;f=a<u&&u<s&&r<l&&l<o}
else if(c.classed(i.bar)){d=P(this);u=d.x;l=d.y;y=d.width;m=d.height;h=e.togglePath;f=!(s<u||u+y<a)&&!(o<l||l+m<r)}
else{return};if(f^x){c.classed(i.INCLUDED,!x);c.classed(i.SELECTED,!p);h.call(e,!p,c,t,n)}})};e.dragstart=function(t){var e=this,n=e.config;if(e.hasArcType()){return};if(!n.data_selection_enabled){return};e.dragStart=t;e.main.select("."+i.chart).append("rect").attr("class",i.dragarea).style("opacity",0.1);e.dragging=!0};e.dragend=function(){var t=this,e=t.config;if(t.hasArcType()){return};if(!e.data_selection_enabled){return};t.main.select("."+i.dragarea).transition().duration(100).style("opacity",0).remove();t.main.selectAll("."+i.shape).classed(i.INCLUDED,!1);t.dragging=!1};e.selectPoint=function(t,e,n){var a=this,r=a.config,s=(r.axis_rotated?a.circleY:a.circleX).bind(a),o=(r.axis_rotated?a.circleX:a.circleY).bind(a),c=a.pointSelectR.bind(a);r.data_onselected.call(a.api,e,t.node());a.main.select("."+i.selectedCircles+a.getTargetSelectorSuffix(e.id)).selectAll("."+i.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return a.generateClass(i.selectedCircle,n)}).attr("cx",s).attr("cy",o).attr("stroke",function(){return a.color(e)}).attr("r",function(t){return a.pointSelectR(t)*1.4}).transition().duration(100).attr("r",c)};e.unselectPoint=function(t,e,n){var a=this;a.config.data_onunselected.call(a.api,e,t.node());a.main.select("."+i.selectedCircles+a.getTargetSelectorSuffix(e.id)).selectAll("."+i.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()};e.togglePoint=function(t,e,i,n){t?this.selectPoint(e,i,n):this.unselectPoint(e,i,n)};e.selectPath=function(t,e){var i=this;i.config.data_onselected.call(i,e,t.node());if(i.config.interaction_brighten){t.transition().duration(100).style("fill",function(){return i.d3.rgb(i.color(e)).brighter(0.75)})}};e.unselectPath=function(t,e){var i=this;i.config.data_onunselected.call(i,e,t.node());if(i.config.interaction_brighten){t.transition().duration(100).style("fill",function(){return i.color(e)})}};e.togglePath=function(t,e,i,n){t?this.selectPath(e,i,n):this.unselectPath(e,i,n)};e.getToggle=function(t,e){var n=this,i;if(t.nodeName==="circle"){if(n.isStepType(e)){i=function(){}}
else{i=n.togglePoint}}
else if(t.nodeName==="path"){i=n.togglePath};return i};e.toggleShape=function(t,e,n){var a=this,o=a.d3,r=a.config,s=o.select(t),c=s.classed(i.SELECTED),u=a.getToggle(t,e).bind(a);if(r.data_selection_enabled&&r.data_selection_isselectable(e)){if(!r.data_selection_multiple){a.main.selectAll("."+i.shapes+(r.data_selection_grouped?a.getTargetSelectorSuffix(e.id):"")).selectAll("."+i.shape).each(function(t,e){var n=o.select(this);if(n.classed(i.SELECTED)){u(!1,n.classed(i.SELECTED,!1),t,e)}})};s.classed(i.SELECTED,!c);u(!c,s,e,n)}};e.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()});t.brush.update=function(){if(t.context){t.context.select("."+i.brush).call(this)};return this};t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}};e.initSubchart=function(){var t=this,n=t.config,e=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),a=n.subchart_show?"visible":"hidden";e.style("visibility",a);e.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",i.chart);e.select("."+i.chart).append("g").attr("class",i.chartBars);e.select("."+i.chart).append("g").attr("class",i.chartLines);e.append("g").attr("clip-path",t.clipPath).attr("class",i.brush).call(t.brush);t.axes.subx=e.append("g").attr("class",i.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",n.axis_rotated?"":t.clipPathForXAxis).style("visibility",n.subchart_axis_x_show?a:"hidden")};e.updateTargetsForSubchart=function(t){var e=this,n=e.context,a=e.config,r,s,o,c,u=e.classChartBar.bind(e),d=e.classBars.bind(e),l=e.classChartLine.bind(e),h=e.classLines.bind(e),g=e.classAreas.bind(e);if(a.subchart_show){c=n.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",u);o=c.enter().append("g").style("opacity",0).attr("class",u);o.append("g").attr("class",d);s=n.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",l);r=s.enter().append("g").style("opacity",0).attr("class",l);r.append("g").attr("class",h);r.append("g").attr("class",g);n.selectAll("."+i.brush+" rect").attr(a.axis_rotated?"width":"height",a.axis_rotated?e.width2:e.height2)}};e.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+i.bars).selectAll("."+i.bar).data(e.barData.bind(e));e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color);e.contextBar.style("opacity",e.initialOpacity.bind(e));e.contextBar.exit().transition().duration(t).style("opacity",0).remove()};e.redrawBarForSubchart=function(t,e,i){(e?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr("d",t).style("opacity",1)};e.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+i.lines).selectAll("."+i.line).data(e.lineData.bind(e));e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.contextLine.style("opacity",e.initialOpacity.bind(e));e.contextLine.exit().transition().duration(t).style("opacity",0).remove()};e.redrawLineForSubchart=function(t,e,i){(e?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr("d",t).style("opacity",1)};e.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+i.areas).selectAll("."+i.area).data(e.lineData.bind(e));e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){e.orgAreaOpacity=+n.select(this).style("opacity");return 0});e.contextArea.style("opacity",0);e.contextArea.exit().transition().duration(t).style("opacity",0).remove()};e.redrawAreaForSubchart=function(t,e,i){(e?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)};e.redrawSubchart=function(t,e,i,n,a,s,o){var r=this,c=r.d3,u=r.config,l,d,h;r.context.style("visibility",u.subchart_show?"visible":"hidden");if(u.subchart_show){if(c.event&&c.event.type==="zoom"){r.brush.extent(r.x.orgDomain()).update()};if(t){if(!r.brush.empty()){r.brush.extent(r.x.orgDomain()).update()};l=r.generateDrawArea(a,!0);d=r.generateDrawBar(s,!0);h=r.generateDrawLine(o,!0);r.updateBarForSubchart(i);r.updateLineForSubchart(i);r.updateAreaForSubchart(i);r.redrawBarForSubchart(d,i,i);r.redrawLineForSubchart(h,i,i);r.redrawAreaForSubchart(l,i,i)}}};e.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1});t.config.subchart_onbrush.call(t.api,e.orgDomain())};e.transformContext=function(t,e){var a=this,n;if(e&&e.axisSubX){n=e.axisSubX}
else{n=a.context.select("."+i.axisX);if(t){n=n.transition()}};a.context.attr("transform",a.getTranslate("context"));n.attr("transform",a.getTranslate("subx"))};e.getDefaultExtent=function(){var t=this,i=t.config,e=d(i.axis_x_extent)?i.axis_x_extent(t.getXDomain(t.data.targets)):i.axis_x_extent;if(t.isTimeSeries()){e=[t.parseDate(e[0]),t.parseDate(e[1])]};return e};e.initZoom=function(){var t=this,e=t.d3,i=t.config,n;t.zoom=e.behavior.zoom().on("zoomstart",function(){n=e.event.sourceEvent;t.zoom.altDomain=e.event.sourceEvent.altKey?t.x.orgDomain():null;i.zoom_onzoomstart.call(t.api,e.event.sourceEvent)}).on("zoom",function(){t.redrawForZoom.call(t)}).on("zoomend",function(){var a=e.event.sourceEvent;if(a&&n.clientX===a.clientX&&n.clientY===a.clientY){return};t.redrawEventRect();t.updateZoom();i.zoom_onzoomend.call(t.api,t.x.orgDomain())});t.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)};t.zoom.orgScaleExtent=function(){var e=i.zoom_extent?i.zoom_extent:[1,10];return[e[0],Math.max(t.getMaxDataCount()/e[1],e[1])]};t.zoom.updateScaleExtent=function(){var e=g(t.x.orgDomain())/g(t.getZoomDomain()),i=this.orgScaleExtent();this.scaleExtent([i[0]*e,i[1]*e]);return this}};e.getZoomDomain=function(){var t=this,e=t.config,i=t.d3,n=i.min([t.orgXDomain[0],e.zoom_x_min]),a=i.max([t.orgXDomain[1],e.zoom_x_max]);return[n,a]};e.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+i.zoomRect).call(e).on("dblclick.zoom",null);t.main.selectAll("."+i.eventRect).call(e).on("dblclick.zoom",null)};e.redrawForZoom=function(){var t=this,a=t.d3,i=t.config,n=t.zoom,e=t.x;if(!i.zoom_enabled){return};if(t.filterTargetsToShow(t.data.targets).length===0){return};if(a.event.sourceEvent.type==="mousemove"&&n.altDomain){e.domain(n.altDomain);n.scale(e).updateScaleExtent();return};if(t.isCategorized()&&e.orgDomain()[0]===t.orgXDomain[0]){e.domain([t.orgXDomain[0]-1e-10,e.orgDomain()[1]])};t.redraw({withTransition:!1,withY:i.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1});if(a.event.sourceEvent.type==="mousemove"){t.cancelClick=!0};i.zoom_onzoom.call(t.api,e.orgDomain())};e.generateColor=function(){var n=this,e=n.config,s=n.d3,t=e.data_colors,a=u(e.color_pattern)?e.color_pattern:s.scale.category10().range(),r=e.data_color,i=[];return function(e){var n=e.id||(e.data&&e.data.id)||e,s;if(t[n]instanceof Function){s=t[n](e)}
else if(t[n]){s=t[n]}
else{if(i.indexOf(n)<0){i.push(n)};s=a[i.indexOf(n)%a.length];t[n]=s};return r instanceof Function?r(s,e):s}};e.generateLevelColor=function(){var a=this,e=a.config,i=e.color_pattern,t=e.color_threshold,r=t.unit==="value",n=t.values&&t.values.length?t.values:[],s=t.max||100;return u(e.color_threshold)?function(t){var e,a,o=i[i.length-1];for(e=0;e<n.length;e++){a=r?t:(t*100/s);if(a<n[e]){o=i[e];break}};return o}:null};e.getYFormat=function(t){var e=this,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,a,r){var s=e.axis.getId(r)==="y2"?n:i;return s.call(e,t,a)}};e.yFormat=function(t){var e=this,i=e.config,n=i.axis_y_tick_format?i.axis_y_tick_format:e.defaultValueFormat;return n(t)};e.y2Format=function(t){var e=this,i=e.config,n=i.axis_y2_tick_format?i.axis_y2_tick_format:e.defaultValueFormat;return n(t)};e.defaultValueFormat=function(t){return r(t)?+t:""};e.defaultArcValueFormat=function(t,e){return(e*100).toFixed(1)+"%"};e.dataLabelFormat=function(t){var a=this,e=a.config.data_labels,i,n=function(t){return r(t)?+t:""};if(typeof e.format==="function"){i=e.format}
else if(typeof e.format==="object"){if(e.format[t]){i=e.format[t]===!0?n:e.format[t]}
else{i=function(){return""}}}
else{i=n};return i};e.hasCaches=function(t){for(var e=0;e<t.length;e++){if(!(t[e]in this.cache)){return!1}};return!0};e.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)};e.getCaches=function(t){var i=[],e;for(e=0;e<t.length;e++){if(t[e]in this.cache){i.push(this.cloneTarget(this.cache[t[e]]))}};return i};var i=e.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};e.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)};e.classText=function(t){return this.generateClass(i.text,t.index)};e.classTexts=function(t){return this.generateClass(i.texts,t.id)};e.classShape=function(t){return this.generateClass(i.shape,t.index)};e.classShapes=function(t){return this.generateClass(i.shapes,t.id)};e.classLine=function(t){return this.classShape(t)+this.generateClass(i.line,t.id)};e.classLines=function(t){return this.classShapes(t)+this.generateClass(i.lines,t.id)};e.classCircle=function(t){return this.classShape(t)+this.generateClass(i.circle,t.index)};e.classCircles=function(t){return this.classShapes(t)+this.generateClass(i.circles,t.id)};e.classBar=function(t){return this.classShape(t)+this.generateClass(i.bar,t.index)};e.classBars=function(t){return this.classShapes(t)+this.generateClass(i.bars,t.id)};e.classArc=function(t){return this.classShape(t.data)+this.generateClass(i.arc,t.data.id)};e.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(i.arcs,t.data.id)};e.classArea=function(t){return this.classShape(t)+this.generateClass(i.area,t.id)};e.classAreas=function(t){return this.classShapes(t)+this.generateClass(i.areas,t.id)};e.classRegion=function(t,e){return this.generateClass(i.region,e)+" "+("class" in t?t["class"]:"")};e.classEvent=function(t){return this.generateClass(i.eventRect,t.index)};e.classTarget=function(t){var e=this,n=e.config.data_classes[t],a="";if(n){a=" "+i.target+"-"+n};return e.generateClass(i.target,t)+a};e.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)};e.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?i.focused:"")};e.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?i.defocused:"")};e.classChartText=function(t){return i.chartText+this.classTarget(t.id)};e.classChartLine=function(t){return i.chartLine+this.classTarget(t.id)};e.classChartBar=function(t){return i.chartBar+this.classTarget(t.id)};e.classChartArc=function(t){return i.chartArc+this.classTarget(t.data.id)};e.getTargetSelectorSuffix=function(t){return t||t===0?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""};e.selectorTarget=function(t,e){return(e||"")+"."+i.target+this.getTargetSelectorSuffix(t)};e.selectorTargets=function(t,e){var i=this;t=t||[];return t.length?t.map(function(t){return i.selectorTarget(t,e)}):null};e.selectorLegend=function(t){return"."+i.legendItem+this.getTargetSelectorSuffix(t)};e.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var r=e.isValue=function(t){return t||t===0},d=e.isFunction=function(t){return typeof t==="function"},c=e.isString=function(t){return typeof t==="string"},l=e.isUndefined=function(t){return typeof t==="undefined"},o=e.isDefined=function(t){return typeof t!=="undefined"},x=e.ceil10=function(t){return Math.ceil(t/10)*10},f=e.asHalfPixel=function(t){return Math.ceil(t)+0.5},g=e.diffDomain=function(t){return t[1]-t[0]},m=e.isEmpty=function(t){return typeof t==="undefined"||t===null||(c(t)&&t.length===0)||(typeof t==="object"&&Object.keys(t).length===0)},u=e.notEmpty=function(t){return!e.isEmpty(t)},s=e.getOption=function(t,e,i){return o(t[e])?t[e]:i},T=e.hasValue=function(t,e){var i=!1;Object.keys(t).forEach(function(n){if(t[n]===e){i=!0}});return i},y=e.sanitise=function(t){return typeof t==="string"?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},P=e.getPathBox=function(t){var i=t.getBoundingClientRect(),e=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],n=e[0].x,a=Math.min(e[0].y,e[1].y);return{x:n,y:a,width:i.width,height:i.height}};n.focus=function(t){var e=this.internal,n;t=e.mapToTargetIds(t);n=e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))),this.revert();this.defocus();n.classed(i.focused,!0).classed(i.defocused,!1);if(e.hasArcType()){e.expandArc(t)};e.toggleFocusLegend(t,!0);e.focusedTargetIds=t;e.defocusedTargetIds=e.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})};n.defocus=function(t){var e=this.internal,n;t=e.mapToTargetIds(t);n=e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))),n.classed(i.focused,!1).classed(i.defocused,!0);if(e.hasArcType()){e.unexpandArc(t)};e.toggleFocusLegend(t,!1);e.focusedTargetIds=e.focusedTargetIds.filter(function(e){return t.indexOf(e)<0});e.defocusedTargetIds=t};n.revert=function(t){var e=this.internal,n;t=e.mapToTargetIds(t);n=e.svg.selectAll(e.selectorTargets(t));n.classed(i.focused,!1).classed(i.defocused,!1);if(e.hasArcType()){e.unexpandArc(t)};if(e.config.legend_show){e.showLegend(t.filter(e.isLegendToShow.bind(e)));e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(i.legendItemFocused)}).classed(i.legendItemFocused,!1)};e.focusedTargetIds=[];e.defocusedTargetIds=[]};n.show=function(t,e){var i=this.internal,n;t=i.mapToTargetIds(t);e=e||{};i.removeHiddenTargetIds(t);n=i.svg.selectAll(i.selectorTargets(t));n.transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)});if(e.withLegend){i.showLegend(t)};i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};n.hide=function(t,e){var i=this.internal,n;t=i.mapToTargetIds(t);e=e||{};i.addHiddenTargetIds(t);n=i.svg.selectAll(i.selectorTargets(t));n.transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)});if(e.withLegend){i.hideLegend(t)};i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};n.toggle=function(t,e){var i=this,n=this.internal;n.mapToTargetIds(t).forEach(function(t){n.isTargetToShow(t)?i.hide(t,e):i.show(t,e)})};n.zoom=function(t){var e=this.internal;if(t){if(e.isTimeSeries()){t=t.map(function(t){return e.parseDate(t)})};e.brush.extent(t);e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale});e.config.zoom_onzoom.call(this,e.x.orgDomain())};return e.brush.extent()};n.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t;e.updateAndRedraw()};n.unzoom=function(){var t=this.internal;t.brush.clear().update();t.redraw({withUpdateXDomain:!0})};n.zoom.max=function(t){var e=this.internal,i=e.config,n=e.d3;if(t===0||t){i.zoom_x_max=n.max([e.orgXDomain[1],t])}
else{return i.zoom_x_max}};n.zoom.min=function(t){var e=this.internal,i=e.config,n=e.d3;if(t===0||t){i.zoom_x_min=n.min([e.orgXDomain[0],t])}
else{return i.zoom_x_min}};n.zoom.range=function(t){if(arguments.length){if(o(t.max)){this.domain.max(t.max)};if(o(t.min)){this.domain.min(t.min)}}
else{return{max:this.domain.max(),min:this.domain.min()}}};n.load=function(t){var e=this.internal,i=e.config;if(t.xs){e.addXs(t.xs)};if("names" in t){n.data.names.bind(this)(t.names)};if("classes" in t){Object.keys(t.classes).forEach(function(e){i.data_classes[e]=t.classes[e]})};if("categories" in t&&e.isCategorized()){i.axis_x_categories=t.categories};if("axes" in t){Object.keys(t.axes).forEach(function(e){i.data_axes[e]=t.axes[e]})};if("colors" in t){Object.keys(t.colors).forEach(function(e){i.data_colors[e]=t.colors[e]})};if("cacheIds" in t&&e.hasCaches(t.cacheIds)){e.load(e.getCaches(t.cacheIds),t.done);return};if("unload" in t){e.unload(e.mapToTargetIds((typeof t.unload==="boolean"&&t.unload)?null:t.unload),function(){e.loadFromArgs(t)})}
else{e.loadFromArgs(t)}};n.unload=function(t){var e=this.internal;t=t||{};if(t instanceof Array){t={ids:t}}
else if(typeof t==="string"){t={ids:[t]}};e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});if(t.done){t.done()}})};n.flow=function(t){var e=this.internal,i,l,g=[],d=e.getMaxDataCount(),p,h,s,a,c=0,n=0,u,f;if(t.json){l=e.convertJsonToData(t.json,t.keys)}
else if(t.rows){l=e.convertRowsToData(t.rows)}
else if(t.columns){l=e.convertColumnsToData(t.columns)}
else{return};i=e.convertDataToTargets(l,!0);e.data.targets.forEach(function(t){var s=!1,a,r;for(a=0;a<i.length;a++){if(t.id===i[a].id){s=!0;if(t.values[t.values.length-1]){n=t.values[t.values.length-1].index+1};c=i[a].values.length;for(r=0;r<c;r++){i[a].values[r].index=n+r;if(!e.isTimeSeries()){i[a].values[r].x=n+r}};t.values=t.values.concat(i[a].values);i.splice(a,1);break}};if(!s){g.push(t.id)}});e.data.targets.forEach(function(t){var a,i;for(a=0;a<g.length;a++){if(t.id===g[a]){n=t.values[t.values.length-1].index+1;for(i=0;i<c;i++){t.values.push({id:t.id,index:n+i,x:e.isTimeSeries()?e.getOtherTargetX(n+i):n+i,value:null})}}}});if(e.data.targets.length){i.forEach(function(t){var i,a=[];for(i=e.data.targets[0].values[0].index;i<n;i++){a.push({id:t.id,index:i,x:e.isTimeSeries()?e.getOtherTargetX(i):i,value:null})};t.values.forEach(function(t){t.index+=n;if(!e.isTimeSeries()){t.x+=n}});t.values=a.concat(t.values)})};e.data.targets=e.data.targets.concat(i);p=e.getMaxDataCount();s=e.data.targets[0];a=s.values[0];if(o(t.to)){c=0;f=e.isTimeSeries()?e.parseDate(t.to):t.to;s.values.forEach(function(t){if(t.x<f){c++}})}
else if(o(t.length)){c=t.length};if(!d){if(e.isTimeSeries()){if(s.values.length>1){u=s.values[s.values.length-1].x-a.x}
else{u=a.x-e.getXDomain(e.data.targets)[0]}}
else{u=1};h=[a.x-u,a.x];e.updateXDomain(null,!0,!0,!1,h)}
else if(d===1){if(e.isTimeSeries()){u=(s.values[s.values.length-1].x-a.x)/2;h=[new Date(+a.x-u),new Date(+a.x+u)];e.updateXDomain(null,!0,!0,!1,h)}};e.updateTargets(e.data.targets);e.redraw({flow:{index:a.index,length:c,duration:r(t.duration)?t.duration:e.config.transition_duration,done:t.done,orgDataCount:d,},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0,})};e.generateFlow=function(t){var e=this,a=e.config,n=e.d3;return function(){var L=t.targets,c=t.flow,w=t.drawBar,V=t.drawLine,G=t.drawArea,E=t.cx,I=t.cy,y=t.xv,O=t.xForText,R=t.yForText,D=t.duration,o,S=1,s,l=c.index,f=c.length,d=e.getValueOnIndex(e.data.targets[0].values,l),h=e.getValueOnIndex(e.data.targets[0].values,l+f),p=e.x.domain(),u,F=c.duration||D,k=c.done||function(){},r=e.generateWait(),v=e.xgrid||n.selectAll([]),x=e.xgridLines||n.selectAll([]),m=e.mainRegion||n.selectAll([]),b=e.mainText||n.selectAll([]),A=e.mainBar||n.selectAll([]),T=e.mainLine||n.selectAll([]),P=e.mainArea||n.selectAll([]),C=e.mainCircle||n.selectAll([]);e.flowing=!0;e.data.targets.forEach(function(t){t.values.splice(0,f)});u=e.updateXDomain(L,!0,!0);if(e.updateXGrid){e.updateXGrid(!0)};if(!c.orgDataCount){if(e.data.targets[0].values.length!==1){o=e.x(p[0])-e.x(u[0])}
else{if(e.isTimeSeries()){d=e.getValueOnIndex(e.data.targets[0].values,0);h=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1);o=e.x(d.x)-e.x(h.x)}
else{o=g(u)/2}}}
else if(c.orgDataCount===1||(d&&d.x)===(h&&h.x)){o=e.x(p[0])-e.x(u[0])}
else{if(e.isTimeSeries()){o=(e.x(p[0])-e.x(u[0]))}
else{o=(e.x(d.x)-e.x(h.x))}};S=(g(p)/g(u));s="translate("+o+",0) scale("+S+",1)";e.hideXGridFocus();n.transition().ease("linear").duration(F).each(function(){r.add(e.axes.x.transition().call(e.xAxis));r.add(A.transition().attr("transform",s));r.add(T.transition().attr("transform",s));r.add(P.transition().attr("transform",s));r.add(C.transition().attr("transform",s));r.add(b.transition().attr("transform",s));r.add(m.filter(e.isRegionOnX).transition().attr("transform",s));r.add(v.transition().attr("transform",s));r.add(x.transition().attr("transform",s))}).call(r,function(){var t,n=[],r=[],s=[];if(f){for(t=0;t<f;t++){n.push("."+i.shape+"-"+(l+t));r.push("."+i.text+"-"+(l+t));s.push("."+i.eventRect+"-"+(l+t))};e.svg.selectAll("."+i.shapes).selectAll(n).remove();e.svg.selectAll("."+i.texts).selectAll(r).remove();e.svg.selectAll("."+i.eventRects).selectAll(s).remove();e.svg.select("."+i.xgrid).remove()};v.attr("transform",null).attr(e.xgridAttr);x.attr("transform",null);x.select("line").attr("x1",a.axis_rotated?0:y).attr("x2",a.axis_rotated?e.width:y);x.select("text").attr("x",a.axis_rotated?e.width:0).attr("y",y);A.attr("transform",null).attr("d",w);T.attr("transform",null).attr("d",V);P.attr("transform",null).attr("d",G);C.attr("transform",null).attr("cx",E).attr("cy",I);b.attr("transform",null).attr("x",O).attr("y",R).style("fill-opacity",e.opacityForText.bind(e));m.attr("transform",null);m.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e));if(a.interaction_enabled){e.redrawEventRect()};k();e.flowing=!1})}};n.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+i.shape).filter(function(){return n.select(this).classed(i.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))};n.select=function(t,e,n){var a=this.internal,s=a.d3,r=a.config;if(!r.data_selection_enabled){return};a.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(c,u){var l=s.select(this),g=c.data?c.data.id:c.id,d=a.getToggle(this,c).bind(a),f=r.data_selection_grouped||!t||t.indexOf(g)>=0,p=!e||e.indexOf(u)>=0,h=l.classed(i.SELECTED);if(l.classed(i.line)||l.classed(i.area)){return};if(f&&p){if(r.data_selection_isselectable(c)&&!h){d(!0,l.classed(i.SELECTED,!0),c,u)}}
else if(o(n)&&n){if(h){d(!1,l.classed(i.SELECTED,!1),c,u)}}})};n.unselect=function(t,e){var n=this.internal,r=n.d3,a=n.config;if(!a.data_selection_enabled){return};n.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(s,o){var c=r.select(this),u=s.data?s.data.id:s.id,l=n.getToggle(this,s).bind(n),d=a.data_selection_grouped||!t||t.indexOf(u)>=0,h=!e||e.indexOf(o)>=0,g=c.classed(i.SELECTED);if(c.classed(i.line)||c.classed(i.area)){return};if(d&&h){if(a.data_selection_isselectable(s)){if(g){l(!1,c.classed(i.SELECTED,!1),s,o)}}}})};n.transform=function(t,e){var i=this.internal,n=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;i.transformTo(e,t,n)};e.transformTo=function(t,e,i){var n=this,r=!n.hasArcType(),a=i||{withTransitionForAxis:r};a.withTransitionForTransform=!1;n.transiting=!1;n.setTargetType(t,e);n.updateTargets(n.data.targets);n.updateAndRedraw(a)};n.groups=function(t){var i=this.internal,e=i.config;if(l(t)){return e.data_groups};e.data_groups=t;i.redraw();return e.data_groups};n.xgrids=function(t){var i=this.internal,e=i.config;if(!t){return e.grid_x_lines};e.grid_x_lines=t;i.redrawWithoutRescale();return e.grid_x_lines};n.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t?t:[]))};n.xgrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!0)};n.ygrids=function(t){var i=this.internal,e=i.config;if(!t){return e.grid_y_lines};e.grid_y_lines=t;i.redrawWithoutRescale();return e.grid_y_lines};n.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t?t:[]))};n.ygrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!1)};n.regions=function(t){var i=this.internal,e=i.config;if(!t){return e.regions};e.regions=t;i.redrawWithoutRescale();return e.regions};n.regions.add=function(t){var i=this.internal,e=i.config;if(!t){return e.regions};e.regions=e.regions.concat(t);i.redrawWithoutRescale();return e.regions};n.regions.remove=function(t){var e=this.internal,n=e.config,a,r,s;t=t||{};a=e.getOption(t,"duration",n.transition_duration);r=e.getOption(t,"classes",[i.region]);s=e.main.select("."+i.regions).selectAll(r.map(function(t){return"."+t}));(a?s.transition().duration(a):s).style("opacity",0).remove();n.regions=n.regions.filter(function(t){var e=!1;if(!t["class"]){return!0};t["class"].split(" ").forEach(function(t){if(r.indexOf(t)>=0){e=!0}});return!e});return n.regions};n.data=function(t){var e=this.internal.data.targets;return typeof t==="undefined"?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})};n.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))};n.data.values=function(t){var e,i=null;if(t){e=this.data(t);i=e[0]?e[0].values.map(function(t){return t.value}):null};return i};n.data.names=function(t){this.internal.clearLegendItemTextBoxCache();return this.internal.updateDataAttributes("names",t)};n.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)};n.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)};n.category=function(t,e){var i=this.internal,n=i.config;if(arguments.length>1){n.axis_x_categories[t]=e;i.redraw()};return n.axis_x_categories[t]};n.categories=function(t){var i=this.internal,e=i.config;if(!arguments.length){return e.axis_x_categories};e.axis_x_categories=t;i.redraw();return e.axis_x_categories};n.color=function(t){var e=this.internal;return e.color(t)};n.x=function(t){var e=this.internal;if(arguments.length){e.updateTargetX(e.data.targets,t);e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})};return e.data.xs};n.xs=function(t){var e=this.internal;if(arguments.length){e.updateTargetXs(e.data.targets,t);e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})};return e.data.xs};n.axis=function(){};n.axis.labels=function(t){var e=this.internal;if(arguments.length){Object.keys(t).forEach(function(i){e.axis.setLabelText(i,t[i])});e.axis.updateLabels()}};n.axis.max=function(t){var i=this.internal,e=i.config;if(arguments.length){if(typeof t==="object"){if(r(t.x)){e.axis_x_max=t.x};if(r(t.y)){e.axis_y_max=t.y};if(r(t.y2)){e.axis_y2_max=t.y2}}
else{e.axis_y_max=e.axis_y2_max=t};i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})}
else{return{x:e.axis_x_max,y:e.axis_y_max,y2:e.axis_y2_max}}};n.axis.min=function(t){var i=this.internal,e=i.config;if(arguments.length){if(typeof t==="object"){if(r(t.x)){e.axis_x_min=t.x};if(r(t.y)){e.axis_y_min=t.y};if(r(t.y2)){e.axis_y2_min=t.y2}}
else{e.axis_y_min=e.axis_y2_min=t};i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})}
else{return{x:e.axis_x_min,y:e.axis_y_min,y2:e.axis_y2_min}}};n.axis.range=function(t){if(arguments.length){if(o(t.max)){this.axis.max(t.max)};if(o(t.min)){this.axis.min(t.min)}}
else{return{max:this.axis.max(),min:this.axis.min()}}};n.legend=function(){};n.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t));e.updateAndRedraw({withLegend:!0})};n.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t));e.updateAndRedraw({withLegend:!0})};n.resize=function(t){var i=this.internal,e=i.config;e.size_width=t?t.width:null;e.size_height=t?t.height:null;this.flush()};n.flush=function(){var t=this.internal;t.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})};n.destroy=function(){var e=this.internal;t.clearInterval(e.intervalForObserveInserted);if(e.resizeTimeout!==undefined){t.clearTimeout(e.resizeTimeout)};if(t.detachEvent){t.detachEvent("onresize",e.resizeFunction)}
else if(t.removeEventListener){t.removeEventListener("resize",e.resizeFunction)}
else{var i=t.onresize;if(i&&i.add&&i.remove){i.remove(e.resizeFunction)}};e.selectChart.classed("c3",!1).html("");Object.keys(e).forEach(function(t){e[t]=null});return null};n.tooltip=function(){};n.tooltip.show=function(t){var e=this.internal,i,n;if(t.mouse){n=t.mouse};if(t.data){if(e.isMultipleX()){n=[e.x(t.data.x),e.getYScale(t.data.id)(t.data.value)];i=null}
else{i=r(t.data.index)?t.data.index:e.getIndexByX(t.data.x)}}
else if(typeof t.x!=="undefined"){i=e.getIndexByX(t.x)}
else if(typeof t.index!=="undefined"){i=t.index};e.dispatchEvent("mouseover",i,n);e.dispatchEvent("mousemove",i,n);e.config.tooltip_onshow.call(e,t.data)};n.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0);this.internal.config.tooltip_onhide.call(this)};var p;function A(t,e){var n=t.scale.linear(),o="bottom",r=6,a,m=3,c=null,l,h,s=0,g=!0,u;e=e||{};a=e.withOuterTick?6:0;function f(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+s)+", 0)"})};function x(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})};function S(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]};function v(t){var i,n,e=[];if(t.ticks){return t.ticks.apply(t,h)};n=t.domain();for(i=Math.ceil(n[0]);i<n[1];i++){e.push(i)};if(e.length>0&&e[0]>0){e.unshift(e[0]-(e[1]-e[0]))};return e};function b(){var i=n.copy(),t;if(e.isCategory){t=n.domain();i.domain([t[0],t[1]-1])};return i};function d(t){var e=l?l(t):t;return typeof e!=="undefined"?e:""};function A(t){if(p){return p};var e={h:11.5,w:5.5};t.select("text").text(d).each(function(t){var i=this.getBoundingClientRect(),n=d(t),a=i.height,r=n?(i.width/n.length):undefined;if(a&&r){e.h=a;e.w=r}}).text("");p=e;return e};function y(i){return e.withoutTransition?i:t.transition(i)};function i(l){l.each(function(){var k=i.g=t.select(this),I=this.__chart__||n,l=this.__chart__=b(),X=c?c:v(l),O=k.selectAll(".tick").data(X,l),C=O.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),W=O.exit().remove(),M=y(O).style("opacity",1),T,R,H,g=n.rangeExtent?n.rangeExtent():S(n.range()),Y=k.selectAll(".domain").data([0]),D=(Y.enter().append("path").attr("class","domain"),y(Y));C.append("line");C.append("text");var w=C.select("line"),V=M.select("line"),G=C.select("text"),E=M.select("text");if(e.isCategory){s=Math.ceil((l(1)-l(0))/2);R=u?0:s;H=u?s:0}
else{s=R=0};var P,p,F=A(k.select(".tick")),N=[],h=Math.max(r,0)+m,U=o==="left"||o==="right";function Q(t,i){var a=d(t),r,n,s,c=[];if(Object.prototype.toString.call(a)==="[object Array]"){return a};if(!i||i<=0){i=U?95:e.isCategory?(Math.ceil(l(X[1])-l(X[0]))-12):110};function o(t,e){n=undefined;for(var a=1;a<e.length;a++){if(e.charAt(a)===" "){n=a};r=e.substr(0,a+1);s=F.w*r.length;if(i<s){return o(t.concat(e.substr(0,n?n:a)),e.slice(n?n+1:a))}};return t.concat(e)};return o(c,a+"")};function z(t,e){var i=F.h;if(e===0){if(o==="left"||o==="right"){i=-((N[t.index]-1)*(F.h/2)-3)}
else{i=".71em"}};return i};function Z(t){var e=n(t)+(u?0:s);return g[0]<e&&e<g[1]?r:0};P=O.select("text");p=P.selectAll("tspan").data(function(t,i){var n=e.tickMultiline?Q(t,e.tickWidth):[].concat(d(t));N[i]=n.length;return n.map(function(t){return{index:i,splitted:t}})});p.enter().append("tspan");p.exit().remove();p.text(function(t){return t.splitted});var L=e.tickTextRotate;function K(t){if(!t){return"middle"};return t>0?"start":"end"};function q(t){if(!t){return""};return"rotate("+t+")"};function J(t){if(!t){return 0};return 8*Math.sin(Math.PI*(t/180))};function tt(t){if(!t){return h};return 11.5-2.5*(t/15)*(t>0?1:-1)};switch(o){case"bottom":{T=f;w.attr("y2",r);G.attr("y",h);V.attr("x1",R).attr("x2",R).attr("y2",Z);E.attr("x",0).attr("y",tt(L)).style("text-anchor",K(L)).attr("transform",q(L));p.attr("x",0).attr("dy",z).attr("dx",J(L));D.attr("d","M"+g[0]+","+a+"V0H"+g[1]+"V"+a);break};case"top":{T=f;w.attr("y2",-r);G.attr("y",-h);V.attr("x2",0).attr("y2",-r);E.attr("x",0).attr("y",-h);P.style("text-anchor","middle");p.attr("x",0).attr("dy","0em");D.attr("d","M"+g[0]+","+-a+"V0H"+g[1]+"V"+-a);break};case"left":{T=x;w.attr("x2",-r);G.attr("x",-h);V.attr("x2",-r).attr("y1",H).attr("y2",H);E.attr("x",-h).attr("y",s);P.style("text-anchor","end");p.attr("x",-h).attr("dy",z);D.attr("d","M"+-a+","+g[0]+"H0V"+g[1]+"H"+-a);break};case"right":{T=x;w.attr("x2",r);G.attr("x",h);V.attr("x2",r).attr("y2",0);E.attr("x",h).attr("y",0);P.style("text-anchor","start");p.attr("x",h).attr("dy",z);D.attr("d","M"+a+","+g[0]+"H0V"+g[1]+"H"+a);break}};if(l.rangeBand){var B=l,j=B.rangeBand()/2;I=l=function(t){return B(t)+j}}
else if(I.rangeBand){I=l}
else{W.call(T,l)};C.call(T,I);M.call(T,l)})};i.scale=function(t){if(!arguments.length){return n};n=t;return i};i.orient=function(t){if(!arguments.length){return o};var e={top:1,right:1,bottom:1,left:1};o=t in e?t+"":"bottom";return i};i.tickFormat=function(t){if(!arguments.length){return l};l=t;return i};i.tickCentered=function(t){if(!arguments.length){return u};u=t;return i};i.tickOffset=function(){return s};i.tickInterval=function(){var t,n;if(e.isCategory){t=s*2}
else{n=i.g.select("path.domain").node().getTotalLength()-a*2;t=n/i.g.selectAll("line").size()};return t===Infinity?0:t};i.ticks=function(){if(!arguments.length){return h};h=arguments;return i};i.tickCulling=function(t){if(!arguments.length){return g};g=t;return i};i.tickValues=function(t){if(typeof t==="function"){c=function(){return t(n.domain())}}
else{if(!arguments.length){return c};c=t};return i};return i};e.isSafari=function(){var e=t.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0};e.isChrome=function(){var e=t.navigator.userAgent;return e.indexOf("Chrome")>=0};if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")};var n=Array.prototype.slice.call(arguments,1),a=this,e=function(){},i=function(){return a.apply(this instanceof e?this:t,n.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;i.prototype=new e();return i}}(function(){"use strict";if(!("SVGPathSeg" in t)){t.SVGPathSeg=function(t,e,i){this.pathSegType=t;this.pathSegTypeAsLetter=e;this._owningPathSegList=i};SVGPathSeg.PATHSEG_UNKNOWN=0;SVGPathSeg.PATHSEG_CLOSEPATH=1;SVGPathSeg.PATHSEG_MOVETO_ABS=2;SVGPathSeg.PATHSEG_MOVETO_REL=3;SVGPathSeg.PATHSEG_LINETO_ABS=4;SVGPathSeg.PATHSEG_LINETO_REL=5;SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6;SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9;SVGPathSeg.PATHSEG_ARC_ABS=10;SVGPathSeg.PATHSEG_ARC_REL=11;SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12;SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13;SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14;SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15;SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16;SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19;SVGPathSeg.prototype._segmentChanged=function(){if(this._owningPathSegList)this._owningPathSegList.segmentChanged(this)};t.SVGPathSegClosePath=function(t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)};SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"};SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter};SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(undefined)};t.SVGPathSegMovetoAbs=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t);this._x=e;this._y=i};SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"};SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegMovetoRel=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",t);this._x=e;this._y=i};SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"};SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegLinetoAbs=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",t);this._x=e;this._y=i};SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"};SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegLinetoRel=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",t);this._x=e;this._y=i};SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"};SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegCurvetoCubicAbs=function(t,e,i,n,a,r,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t);this._x=e;this._y=i;this._x1=n;this._y1=a;this._x2=r;this._y2=s};SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"};SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegCurvetoCubicRel=function(t,e,i,n,a,r,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t);this._x=e;this._y=i;this._x1=n;this._y1=a;this._x2=r;this._y2=s};SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"};SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegCurvetoQuadraticAbs=function(t,e,i,n,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t);this._x=e;this._y=i;this._x1=n;this._y1=a};SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"};SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegCurvetoQuadraticRel=function(t,e,i,n,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t);this._x=e;this._y=i;this._x1=n;this._y1=a};SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"};SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegArcAbs=function(t,e,i,n,a,r,s,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",t);this._x=e;this._y=i;this._r1=n;this._r2=a;this._angle=r;this._largeArcFlag=s;this._sweepFlag=o};SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"};SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegArcRel=function(t,e,i,n,a,r,s,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",t);this._x=e;this._y=i;this._r1=n;this._r2=a;this._angle=r;this._largeArcFlag=s;this._sweepFlag=o};SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"};SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegLinetoHorizontalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t);this._x=e};SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"};SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(undefined,this._x)};Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegLinetoHorizontalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t);this._x=e};SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"};SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(undefined,this._x)};Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegLinetoVerticalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t);this._y=e};SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"};SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(undefined,this._y)};Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegLinetoVerticalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t);this._y=e};SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"};SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(undefined,this._y)};Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t);this._x=e;this._y=i;this._x2=n;this._y2=a};SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"};SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t);this._x=e;this._y=i;this._x2=n;this._y2=a};SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"};SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t);this._x=e;this._y=i};SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"};SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});t.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t);this._x=e;this._y=i};SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"};SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;this._segmentChanged()},enumerable:!0});Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;this._segmentChanged()},enumerable:!0});SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(undefined)};SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new SVGPathSegMovetoAbs(undefined,t,e)};SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new SVGPathSegMovetoRel(undefined,t,e)};SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new SVGPathSegLinetoAbs(undefined,t,e)};SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new SVGPathSegLinetoRel(undefined,t,e)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,i,n,a,r){return new SVGPathSegCurvetoCubicAbs(undefined,t,e,i,n,a,r)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,i,n,a,r){return new SVGPathSegCurvetoCubicRel(undefined,t,e,i,n,a,r)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,i,n){return new SVGPathSegCurvetoQuadraticAbs(undefined,t,e,i,n)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,i,n){return new SVGPathSegCurvetoQuadraticRel(undefined,t,e,i,n)};SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,i,n,a,r,s){return new SVGPathSegArcAbs(undefined,t,e,i,n,a,r,s)};SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,i,n,a,r,s){return new SVGPathSegArcRel(undefined,t,e,i,n,a,r,s)};SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new SVGPathSegLinetoHorizontalAbs(undefined,t)};SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new SVGPathSegLinetoHorizontalRel(undefined,t)};SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new SVGPathSegLinetoVerticalAbs(undefined,t)};SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new SVGPathSegLinetoVerticalRel(undefined,t)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n){return new SVGPathSegCurvetoCubicSmoothAbs(undefined,t,e,i,n)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n){return new SVGPathSegCurvetoCubicSmoothRel(undefined,t,e,i,n)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined,t,e)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothRel(undefined,t,e)}};if(!("SVGPathSegList" in t)){t.SVGPathSegList=function(t){this._pathElement=t;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={"attributes":!0,"attributeFilter":["d"]};this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){this._checkPathSynchronizedToList();return this._list.length},enumerable:!0});Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){if(!this._pathSegList)this._pathSegList=new SVGPathSegList(this);return this._pathSegList},enumerable:!0});Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0});Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0});Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0});SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())};SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(!this._pathElement)return;var e=!1;t.forEach(function(t){if(t.attributeName=="d")e=!0});if(e)this._list=this._parsePath(this._pathElement.getAttribute("d"))};SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()};SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(t){t._owningPathSegList=null});this._list=[];this._writeListToPath()};SVGPathSegList.prototype.initialize=function(t){this._checkPathSynchronizedToList();this._list=[t];t._owningPathSegList=this;this._writeListToPath();return t};SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"};SVGPathSegList.prototype.getItem=function(t){this._checkPathSynchronizedToList();this._checkValidIndex(t);return this._list[t]};SVGPathSegList.prototype.insertItemBefore=function(t,e){this._checkPathSynchronizedToList();if(e>this.numberOfItems)e=this.numberOfItems;if(t._owningPathSegList){t=t.clone()};this._list.splice(e,0,t);t._owningPathSegList=this;this._writeListToPath();return t};SVGPathSegList.prototype.replaceItem=function(t,e){this._checkPathSynchronizedToList();if(t._owningPathSegList){t=t.clone()};this._checkValidIndex(e);this._list[e]=t;t._owningPathSegList=this;this._writeListToPath();return t};SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList();this._checkValidIndex(t);var e=this._list[t];this._list.splice(t,1);this._writeListToPath();return e};SVGPathSegList.prototype.appendItem=function(t){this._checkPathSynchronizedToList();if(t._owningPathSegList){t=t.clone()};this._list.push(t);t._owningPathSegList=this;this._writeListToPath();return t};SVGPathSegList._pathSegArrayAsString=function(t){var e="",i=!0;t.forEach(function(t){if(i){i=!1;e+=t._asPathString()}
else{e+=" "+t._asPathString()}});return e};SVGPathSegList.prototype._parsePath=function(t){if(!t||t.length==0)return[];var e=this,s=function(){this.pathSegList=[]};s.prototype.appendSegment=function(t){this.pathSegList.push(t)};var i=function(t){this._string=t;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(t==" "||t=="\n"||t=="\t"||t=="\r"||t=="\f")};i.prototype._skipOptionalSpaces=function(){while(this._currentIndex<this._endIndex&&this._isCurrentSpace())this._currentIndex++;return this._currentIndex<this._endIndex};i.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=",")return!1;if(this._skipOptionalSpaces()){if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","){this._currentIndex++;this._skipOptionalSpaces()}};return this._currentIndex<this._endIndex};i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex};i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)};i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}};i.prototype._nextCommandHelper=function(t,e){if((t=="+"||t=="-"||t=="."||(t>="0"&&t<="9"))&&e!=SVGPathSeg.PATHSEG_CLOSEPATH){if(e==SVGPathSeg.PATHSEG_MOVETO_ABS)return SVGPathSeg.PATHSEG_LINETO_ABS;if(e==SVGPathSeg.PATHSEG_MOVETO_REL)return SVGPathSeg.PATHSEG_LINETO_REL;return e};return SVGPathSeg.PATHSEG_UNKNOWN};i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==SVGPathSeg.PATHSEG_MOVETO_ABS||t==SVGPathSeg.PATHSEG_MOVETO_REL};i.prototype._parseNumber=function(){var t=0,r=0,l=1,s=0,o=1,c=1,u=this._currentIndex;this._skipOptionalSpaces();if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+")this._currentIndex++;else if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;o=-1};if(this._currentIndex==this._endIndex||((this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!="."))return undefined;var a=this._currentIndex;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")this._currentIndex++;if(this._currentIndex!=a){var i=this._currentIndex-1,n=1;while(i>=a){r+=n*(this._string.charAt(i--)-"0");n*=10}};if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){this._currentIndex++;if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return undefined;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")s+=(this._string.charAt(this._currentIndex++)-"0")*(l*=0.1)};if(this._currentIndex!=u&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&(this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m")){this._currentIndex++;if(this._string.charAt(this._currentIndex)=="+"){this._currentIndex++}
else if(this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;c=-1};if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return undefined;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){t*=10;t+=(this._string.charAt(this._currentIndex)-"0");this._currentIndex++}};var e=r+s;e*=o;if(t)e*=Math.pow(10,c*t);if(u==this._currentIndex)return undefined;this._skipOptionalSpacesOrDelimiter();return e};i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return undefined;var t=!1,e=this._string.charAt(this._currentIndex++);if(e=="0")t=!1;else if(e=="1")t=!0;else return undefined;this._skipOptionalSpacesOrDelimiter();return t};i.prototype.parseSegment=function(){var n=this._string[this._currentIndex],i=this._pathSegTypeFromChar(n);if(i==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;i=this._nextCommandHelper(n,this._previousCommand);if(i==SVGPathSeg.PATHSEG_UNKNOWN)return null}
else{this._currentIndex++};this._previousCommand=i;switch(i){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:this._skipOptionalSpaces();return new SVGPathSegClosePath(e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var t={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(e,t.x,t.y,t.x1,t.y1,t.x2,t.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var t={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(e,t.x,t.y,t.x1,t.y1,t.x2,t.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var t={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(e,t.x,t.y,t.x2,t.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var t={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(e,t.x,t.y,t.x2,t.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var t={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(e,t.x,t.y,t.x1,t.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var t={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(e,t.x,t.y,t.x1,t.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var t={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(e,t.x,t.y,t.x1,t.y1,t.arcAngle,t.arcLarge,t.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var t={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(e,t.x,t.y,t.x1,t.y1,t.arcAngle,t.arcLarge,t.arcSweep);default:throw"Unknown path seg type."}};var r=new s(),n=new i(t);if(!n.initialCommandIsMoveTo())return[];while(n.hasMoreData()){var a=n.parseSegment();if(!a)return[];r.appendSegment(a)};return r.pathSegList}}}());if(typeof define==="function"&&define.amd){define("c3",["d3"],function(){return h})}
else if("undefined"!==typeof exports&&"undefined"!==typeof module){module.exports=h}
else{t.c3=h}})(window);
(function(i,e,n){var a=i.L,t={};t.version='0.7.7';if(typeof module==='object'&&typeof module.exports==='object'){module.exports=t}
else if(typeof define==='function'&&define.amd){define(t)};t.noConflict=function(){i.L=a;return this};i.L=t;t.Util={extend:function(t){var o=Array.prototype.slice.call(arguments,1),i,e,s,n;for(e=0,s=o.length;e<s;e++){n=o[e]||{};for(i in n){if(n.hasOwnProperty(i)){t[i]=n[i]}}};return t},bind:function(t,i){var e=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(i,e||arguments)}},stamp:(function(){var i=0,t='_leaflet_id';return function(e){e[t]=e[t]||++i;return e[t]}}()),invokeEach:function(t,i,e){var n,o;if(typeof t==='object'){o=Array.prototype.slice.call(arguments,3);for(n in t){i.apply(e,[n,t[n]].concat(o))};return!0};return!1},limitExecByInterval:function(t,i,e){var n,o;return function s(){var a=arguments;if(n){o=!0;return};n=!0;setTimeout(function(){n=!1;if(o){s.apply(e,a);o=!1}},i);t.apply(e,a)}},falseFn:function(){return!1},formatNum:function(t,i){var e=Math.pow(10,i||5);return Math.round(t*e)/e},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,'')},splitWords:function(i){return t.Util.trim(i).split(/\s+/)},setOptions:function(i,e){i.options=t.extend({},i.options,e);return i.options},getParamString:function(t,i,e){var o=[];for(var n in t){o.push(encodeURIComponent(e?n.toUpperCase():n)+'='+encodeURIComponent(t[n]))};return((!i||i.indexOf('?')===-1)?'?':'&')+o.join('&')},template:function(t,i){return t.replace(/\{ *([\w_]+) *\}/g,function(t,e){var o=i[e];if(o===n){throw new Error('No value provided for variable '+t)}
else if(typeof o==='function'){o=o(i)};return o})},isArray:Array.isArray||function(t){return(Object.prototype.toString.call(t)==='[object Array]')},emptyImageUrl:'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='};(function(){function e(t){var e,n,o=['webkit','moz','o','ms'];for(e=0;e<o.length&&!n;e++){n=i[o[e]+t]};return n};var o=0;function s(t){var e=+new Date(),n=Math.max(0,16-(e-o));o=e+n;return i.setTimeout(t,n)};var n=i.requestAnimationFrame||e('RequestAnimationFrame')||s,a=i.cancelAnimationFrame||e('CancelAnimationFrame')||e('CancelRequestAnimationFrame')||function(t){i.clearTimeout(t)};t.Util.requestAnimFrame=function(e,o,a,r){e=t.bind(e,o);if(a&&n===s){e()}
else{return n.call(i,e,r)}};t.Util.cancelAnimFrame=function(t){if(t){a.call(i,t)}}}());t.extend=t.Util.extend;t.bind=t.Util.bind;t.stamp=t.Util.stamp;t.setOptions=t.Util.setOptions;t.Class=function(){};t.Class.extend=function(i){var n=function(){if(this.initialize){this.initialize.apply(this,arguments)};if(this._initHooks){this.callInitHooks()}},a=function(){};a.prototype=this.prototype;var e=new a();e.constructor=n;n.prototype=e;for(var o in this){if(this.hasOwnProperty(o)&&o!=='prototype'){n[o]=this[o]}};if(i.statics){t.extend(n,i.statics);delete i.statics};if(i.includes){t.Util.extend.apply(null,[e].concat(i.includes));delete i.includes};if(i.options&&e.options){i.options=t.extend({},e.options,i.options)};t.extend(e,i);e._initHooks=[];var s=this;n.__super__=s.prototype;e.callInitHooks=function(){if(this._initHooksCalled){return};if(s.prototype.callInitHooks){s.prototype.callInitHooks.call(this)};this._initHooksCalled=!0;for(var t=0,i=e._initHooks.length;t<i;t++){e._initHooks[t].call(this)}};return n};t.Class.include=function(i){t.extend(this.prototype,i)};t.Class.mergeOptions=function(i){t.extend(this.prototype.options,i)};t.Class.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),e=typeof t==='function'?t:function(){this[t].apply(this,i)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(e)};var o='_leaflet_events';t.Mixin={};t.Mixin.Events={addEventListener:function(i,e,n){if(t.Util.invokeEach(i,this.addEventListener,this,e,n)){return this};var s=this[o]=this[o]||{},r=n&&n!==this&&t.stamp(n),h,p,c,a,l,f,u;i=t.Util.splitWords(i);for(h=0,p=i.length;h<p;h++){c={action:e,context:n||this};a=i[h];if(r){l=a+'_idx';f=l+'_len';u=s[l]=s[l]||{};if(!u[r]){u[r]=[];s[f]=(s[f]||0)+1};u[r].push(c)}
else{s[a]=s[a]||[];s[a].push(c)}};return this},hasEventListeners:function(t){var i=this[o];return!!i&&((t in i&&i[t].length>0)||(t+'_idx' in i&&i[t+'_idx_len']>0))},removeEventListener:function(i,e,n){if(!this[o]){return this};if(!i){return this.clearAllEventListeners()};if(t.Util.invokeEach(i,this.removeEventListener,this,e,n)){return this};var a=this[o],f=n&&n!==this&&t.stamp(n),l,d,u,s,r,c,p,h,m;i=t.Util.splitWords(i);for(l=0,d=i.length;l<d;l++){u=i[l];c=u+'_idx';p=c+'_len';h=a[c];if(!e){delete a[u];delete a[c];delete a[p]}
else{s=f&&h?h[f]:a[u];if(s){for(r=s.length-1;r>=0;r--){if((s[r].action===e)&&(!n||(s[r].context===n))){m=s.splice(r,1);m[0].action=t.Util.falseFn}};if(n&&h&&(s.length===0)){delete h[f];a[p]--}}}};return this},clearAllEventListeners:function(){delete this[o];return this},fireEvent:function(i,e){if(!this.hasEventListeners(i)){return this};var u=t.Util.extend({},e,{type:i,target:this});var r=this[o],s,n,a,h,l;if(r[i]){s=r[i].slice();for(n=0,a=s.length;n<a;n++){s[n].action.call(s[n].context,u)}};h=r[i+'_idx'];for(l in h){s=h[l].slice();if(s){for(n=0,a=s.length;n<a;n++){s[n].action.call(s[n].context,u)}}};return this},addOneTimeEventListener:function(i,e,n){if(t.Util.invokeEach(i,this.addOneTimeEventListener,this,e,n)){return this};var o=t.bind(function(){this.removeEventListener(i,e,n).removeEventListener(i,o,n)},this);return this.addEventListener(i,e,n).addEventListener(i,o,n)}};t.Mixin.Events.on=t.Mixin.Events.addEventListener;t.Mixin.Events.off=t.Mixin.Events.removeEventListener;t.Mixin.Events.once=t.Mixin.Events.addOneTimeEventListener;t.Mixin.Events.fire=t.Mixin.Events.fireEvent;(function(){var s='ActiveXObject' in i,v=s&&!e.addEventListener,o=navigator.userAgent.toLowerCase(),r=o.indexOf('webkit')!==-1,y=o.indexOf('chrome')!==-1,u=o.indexOf('phantom')!==-1,P=o.indexOf('android')!==-1,c=o.search('android [23]')!==-1,L=o.indexOf('gecko')!==-1,a=typeof orientation!==n+'',f=!i.PointerEvent&&i.MSPointerEvent,p=(i.PointerEvent&&i.navigator.pointerEnabled)||f,x=('devicePixelRatio' in i&&i.devicePixelRatio>1)||('matchMedia' in i&&i.matchMedia('(min-resolution:144dpi)')&&i.matchMedia('(min-resolution:144dpi)').matches),h=e.documentElement,d=s&&('transition' in h.style),l=('WebKitCSSMatrix' in i)&&('m11' in new i.WebKitCSSMatrix())&&!c,m='MozPerspective' in h.style,g='OTransition' in h.style,w=!i.L_DISABLE_3D&&(d||l||m||g)&&!u,T=!i.L_NO_TOUCH&&!u&&(p||'ontouchstart' in i||(i.DocumentTouch&&e instanceof i.DocumentTouch));t.Browser={ie:s,ielt9:v,webkit:r,gecko:L&&!r&&!i.opera&&!s,android:P,android23:c,chrome:y,ie3d:d,webkit3d:l,gecko3d:m,opera3d:g,any3d:w,mobile:a,mobileWebkit:a&&r,mobileWebkit3d:a&&l,mobileOpera:a&&i.opera,touch:T,msPointer:f,pointer:p,retina:x}}());t.Point=function(t,i,e){this.x=(e?Math.round(t):t);this.y=(e?Math.round(i):i)};t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},add:function(i){return this.clone()._add(t.point(i))},_add:function(t){this.x+=t.x;this.y+=t.y;return this},subtract:function(i){return this.clone()._subtract(t.point(i))},_subtract:function(t){this.x-=t.x;this.y-=t.y;return this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){this.x/=t;this.y/=t;return this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){this.x*=t;this.y*=t;return this},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},distanceTo:function(i){i=t.point(i);var e=i.x-this.x,n=i.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(i){i=t.point(i);return i.x===this.x&&i.y===this.y},contains:function(i){i=t.point(i);return Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return'Point('+t.Util.formatNum(this.x)+', '+t.Util.formatNum(this.y)+')'}};t.point=function(i,e,o){if(i instanceof t.Point){return i};if(t.Util.isArray(i)){return new t.Point(i[0],i[1])};if(i===n||i===null){return i};return new t.Point(i,e,o)};t.Bounds=function(t,i){if(!t){return};var n=i?[t,i]:t;for(var e=0,o=n.length;e<o;e++){this.extend(n[e])}};t.Bounds.prototype={extend:function(i){i=t.point(i);if(!this.min&&!this.max){this.min=i.clone();this.max=i.clone()}
else{this.min.x=Math.min(i.x,this.min.x);this.max.x=Math.max(i.x,this.max.x);this.min.y=Math.min(i.y,this.min.y);this.max.y=Math.max(i.y,this.max.y)};return this},getCenter:function(i){return new t.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return new t.Point(this.min.x,this.max.y)},getTopRight:function(){return new t.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var e,n;if(typeof i[0]==='number'||i instanceof t.Point){i=t.point(i)}
else{i=t.bounds(i)};if(i instanceof t.Bounds){e=i.min;n=i.max}
else{e=n=i};return(e.x>=this.min.x)&&(n.x<=this.max.x)&&(e.y>=this.min.y)&&(n.y<=this.max.y)},intersects:function(i){i=t.bounds(i);var e=this.min,n=this.max,o=i.min,s=i.max,a=(s.x>=e.x)&&(o.x<=n.x),r=(s.y>=e.y)&&(o.y<=n.y);return a&&r},isValid:function(){return!!(this.min&&this.max)}};t.bounds=function(i,e){if(!i||i instanceof t.Bounds){return i};return new t.Bounds(i,e)};t.Transformation=function(t,i,e,n){this._a=t;this._b=i;this._c=e;this._d=n};t.Transformation.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){i=i||1;t.x=i*(this._a*t.x+this._b);t.y=i*(this._c*t.y+this._d);return t},untransform:function(i,e){e=e||1;return new t.Point((i.x/e-this._b)/this._a,(i.y/e-this._d)/this._c)}};t.DomUtil={get:function(t){return(typeof t==='string'?e.getElementById(t):t)},getStyle:function(t,i){var n=t.style[i];if(!n&&t.currentStyle){n=t.currentStyle[i]};if((!n||n==='auto')&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);n=o?o[i]:null};return n==='auto'?null:n},getViewportOffset:function(i){var o=0,s=0,n=i,a=e.body,h=e.documentElement,r;do{o+=n.offsetTop||0;s+=n.offsetLeft||0;o+=parseInt(t.DomUtil.getStyle(n,'borderTopWidth'),10)||0;s+=parseInt(t.DomUtil.getStyle(n,'borderLeftWidth'),10)||0;r=t.DomUtil.getStyle(n,'position');if(n.offsetParent===a&&r==='absolute'){break};if(r==='fixed'){o+=a.scrollTop||h.scrollTop||0;s+=a.scrollLeft||h.scrollLeft||0;break};if(r==='relative'&&!n.offsetLeft){var u=t.DomUtil.getStyle(n,'width'),c=t.DomUtil.getStyle(n,'max-width'),l=n.getBoundingClientRect();if(u!=='none'||c!=='none'){s+=l.left+n.clientLeft};o+=l.top+(a.scrollTop||h.scrollTop||0);break};n=n.offsetParent}
while(n);n=i;do{if(n===a){break};o-=n.scrollTop||0;s-=n.scrollLeft||0;n=n.parentNode}
while(n);return new t.Point(s,o)},documentIsLtr:function(){if(!t.DomUtil._docIsLtrCached){t.DomUtil._docIsLtrCached=!0;t.DomUtil._docIsLtr=t.DomUtil.getStyle(e.body,'direction')==='ltr'};return t.DomUtil._docIsLtr},create:function(t,i,n){var o=e.createElement(t);o.className=i;if(n){n.appendChild(o)};return o},hasClass:function(i,e){if(i.classList!==n){return i.classList.contains(e)};var o=t.DomUtil._getClass(i);return o.length>0&&new RegExp('(^|\\s)'+e+'(\\s|$)').test(o)},addClass:function(i,e){if(i.classList!==n){var a=t.Util.splitWords(e);for(var o=0,r=a.length;o<r;o++){i.classList.add(a[o])}}
else if(!t.DomUtil.hasClass(i,e)){var s=t.DomUtil._getClass(i);t.DomUtil._setClass(i,(s?s+' ':'')+e)}},removeClass:function(i,e){if(i.classList!==n){i.classList.remove(e)}
else{t.DomUtil._setClass(i,t.Util.trim((' '+t.DomUtil._getClass(i)+' ').replace(' '+e+' ',' ')))}},_setClass:function(t,i){if(t.className.baseVal===n){t.className=i}
else{t.className.baseVal=i}},_getClass:function(t){return t.className.baseVal===n?t.className:t.className.baseVal},setOpacity:function(t,i){if('opacity' in t.style){t.style.opacity=i}
else if('filter' in t.style){var e=!1,o='DXImageTransform.Microsoft.Alpha';try{e=t.filters.item(o)}catch(n){if(i===1){return}};i=Math.round(i*100);if(e){e.Enabled=(i!==100);e.Opacity=i}
else{t.style.filter+=' progid:'+o+'(opacity='+i+')'}}},testProp:function(t){var n=e.documentElement.style;for(var i=0;i<t.length;i++){if(t[i]in n){return t[i]}};return!1},getTranslateString:function(i){var e=t.Browser.webkit3d,n='translate'+(e?'3d':'')+'(',o=(e?',0':'')+')';return n+i.x+'px,'+i.y+'px'+o},getScaleString:function(i,e){var n=t.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*i))),o=' scale('+i+') ';return n+o},setPosition:function(i,e,n){i._leaflet_pos=e;if(!n&&t.Browser.any3d){i.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(e)}
else{i.style.left=e.x+'px';i.style.top=e.y+'px'}},getPosition:function(t){return t._leaflet_pos}};t.DomUtil.TRANSFORM=t.DomUtil.testProp(['transform','WebkitTransform','OTransform','MozTransform','msTransform']);t.DomUtil.TRANSITION=t.DomUtil.testProp(['webkitTransition','transition','OTransition','MozTransition','msTransition']);t.DomUtil.TRANSITION_END=t.DomUtil.TRANSITION==='webkitTransition'||t.DomUtil.TRANSITION==='OTransition'?t.DomUtil.TRANSITION+'End':'transitionend';(function(){if('onselectstart' in e){t.extend(t.DomUtil,{disableTextSelection:function(){t.DomEvent.on(i,'selectstart',t.DomEvent.preventDefault)},enableTextSelection:function(){t.DomEvent.off(i,'selectstart',t.DomEvent.preventDefault)}})}
else{var n=t.DomUtil.testProp(['userSelect','WebkitUserSelect','OUserSelect','MozUserSelect','msUserSelect']);t.extend(t.DomUtil,{disableTextSelection:function(){if(n){var t=e.documentElement.style;this._userSelect=t[n];t[n]='none'}},enableTextSelection:function(){if(n){e.documentElement.style[n]=this._userSelect;delete this._userSelect}}})};t.extend(t.DomUtil,{disableImageDrag:function(){t.DomEvent.on(i,'dragstart',t.DomEvent.preventDefault)},enableImageDrag:function(){t.DomEvent.off(i,'dragstart',t.DomEvent.preventDefault)}})})();t.LatLng=function(t,i,e){t=parseFloat(t);i=parseFloat(i);if(isNaN(t)||isNaN(i)){throw new Error('Invalid LatLng object: ('+t+', '+i+')')};this.lat=t;this.lng=i;if(e!==n){this.alt=parseFloat(e)}};t.extend(t.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1.0E-9});t.LatLng.prototype={equals:function(i){if(!i){return!1};i=t.latLng(i);var e=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return e<=t.LatLng.MAX_MARGIN},toString:function(i){return'LatLng('+t.Util.formatNum(this.lat,i)+', '+t.Util.formatNum(this.lng,i)+')'},distanceTo:function(i){i=t.latLng(i);var a=6378137,e=t.LatLng.DEG_TO_RAD,r=(i.lat-this.lat)*e,h=(i.lng-this.lng)*e,l=this.lat*e,u=i.lat*e,n=Math.sin(r/2),o=Math.sin(h/2),s=n*n+o*o*Math.cos(l)*Math.cos(u);return a*2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))},wrap:function(i,e){var n=this.lng;i=i||-180;e=e||180;n=(n+e)%(e-i)+(n<i||n===e?e:i);return new t.LatLng(this.lat,n)}};t.latLng=function(i,e){if(i instanceof t.LatLng){return i};if(t.Util.isArray(i)){if(typeof i[0]==='number'||typeof i[0]==='string'){return new t.LatLng(i[0],i[1],i[2])}
else{return null}};if(i===n||i===null){return i};if(typeof i==='object'&&'lat' in i){return new t.LatLng(i.lat,'lng' in i?i.lng:i.lon)};if(e===n){return null};return new t.LatLng(i,e)};t.LatLngBounds=function(t,i){if(!t){return};var n=i?[t,i]:t;for(var e=0,o=n.length;e<o;e++){this.extend(n[e])}};t.LatLngBounds.prototype={extend:function(i){if(!i){return this};var e=t.latLng(i);if(e!==null){i=e}
else{i=t.latLngBounds(i)};if(i instanceof t.LatLng){if(!this._southWest&&!this._northEast){this._southWest=new t.LatLng(i.lat,i.lng);this._northEast=new t.LatLng(i.lat,i.lng)}
else{this._southWest.lat=Math.min(i.lat,this._southWest.lat);this._southWest.lng=Math.min(i.lng,this._southWest.lng);this._northEast.lat=Math.max(i.lat,this._northEast.lat);this._northEast.lng=Math.max(i.lng,this._northEast.lng)}}
else if(i instanceof t.LatLngBounds){this.extend(i._southWest);this.extend(i._northEast)};return this},pad:function(i){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*i,s=Math.abs(e.lng-n.lng)*i;return new t.LatLngBounds(new t.LatLng(e.lat-o,e.lng-s),new t.LatLng(n.lat+o,n.lng+s))},getCenter:function(){return new t.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new t.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new t.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){if(typeof i[0]==='number'||i instanceof t.LatLng){i=t.latLng(i)}
else{i=t.latLngBounds(i)};var o=this._southWest,s=this._northEast,e,n;if(i instanceof t.LatLngBounds){e=i.getSouthWest();n=i.getNorthEast()}
else{e=n=i};return(e.lat>=o.lat)&&(n.lat<=s.lat)&&(e.lng>=o.lng)&&(n.lng<=s.lng)},intersects:function(i){i=t.latLngBounds(i);var e=this._southWest,n=this._northEast,o=i.getSouthWest(),s=i.getNorthEast(),a=(s.lat>=e.lat)&&(o.lat<=n.lat),r=(s.lng>=e.lng)&&(o.lng<=n.lng);return a&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(',')},equals:function(i){if(!i){return!1};i=t.latLngBounds(i);return this._southWest.equals(i.getSouthWest())&&this._northEast.equals(i.getNorthEast())},isValid:function(){return!!(this._southWest&&this._northEast)}};t.latLngBounds=function(i,e){if(!i||i instanceof t.LatLngBounds){return i};return new t.LatLngBounds(i,e)};t.Projection={};t.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(i){var n=t.LatLng.DEG_TO_RAD,o=this.MAX_LATITUDE,s=Math.max(Math.min(o,i.lat),-o),a=i.lng*n,e=s*n;e=Math.log(Math.tan((Math.PI/4)+(e/2)));return new t.Point(a,e)},unproject:function(i){var e=t.LatLng.RAD_TO_DEG,n=i.x*e,o=(2*Math.atan(Math.exp(i.y))-(Math.PI/2))*e;return new t.LatLng(o,n)}};t.Projection.LonLat={project:function(i){return new t.Point(i.lng,i.lat)},unproject:function(i){return new t.LatLng(i.y,i.x)}};t.CRS={latLngToPoint:function(t,i){var e=this.projection.project(t),n=this.scale(i);return this.transformation._transform(e,n)},pointToLatLng:function(t,i){var e=this.scale(i),n=this.transformation.untransform(t,e);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(i){var e=this.scale(i);return t.point(e,e)}};t.CRS.Simple=t.extend({},t.CRS,{projection:t.Projection.LonLat,transformation:new t.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}});t.CRS.EPSG3857=t.extend({},t.CRS,{code:'EPSG:3857',projection:t.Projection.SphericalMercator,transformation:new t.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(t){var i=this.projection.project(t),e=6378137;return i.multiplyBy(e)}});t.CRS.EPSG900913=t.extend({},t.CRS.EPSG3857,{code:'EPSG:900913'});t.CRS.EPSG4326=t.extend({},t.CRS,{code:'EPSG:4326',projection:t.Projection.LonLat,transformation:new t.Transformation(1/360,0.5,-1/360,0.5)});t.Map=t.Class.extend({includes:t.Mixin.Events,options:{crs:t.CRS.EPSG3857,fadeAnimation:t.DomUtil.TRANSITION&&!t.Browser.android23,trackResize:!0,markerZoomAnimation:t.DomUtil.TRANSITION&&t.Browser.any3d},initialize:function(i,e){e=t.setOptions(this,e);this._initContainer(i);this._initLayout();this._onResize=t.bind(this._onResize,this);this._initEvents();if(e.maxBounds){this.setMaxBounds(e.maxBounds)};if(e.center&&e.zoom!==n){this.setView(t.latLng(e.center),e.zoom,{reset:!0})};this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(e.layers)},setView:function(i,e){e=e===n?this.getZoom():e;this._resetView(t.latLng(i),this._limitZoom(e));return this},setZoom:function(t,i){if(!this._loaded){this._zoom=this._limitZoom(t);return this};return this.setView(this.getCenter(),t,{zoom:i})},zoomIn:function(t,i){return this.setZoom(this._zoom+(t||1),i)},zoomOut:function(t,i){return this.setZoom(this._zoom-(t||1),i)},setZoomAround:function(i,e,n){var s=this.getZoomScale(e),o=this.getSize().divideBy(2),a=i instanceof t.Point?i:this.latLngToContainerPoint(i),r=a.subtract(o).multiplyBy(1-1/s),h=this.containerPointToLatLng(o.add(r));return this.setView(h,e,{zoom:n})},fitBounds:function(i,e){e=e||{};i=i.getBounds?i.getBounds():t.latLngBounds(i);var o=t.point(e.paddingTopLeft||e.padding||[0,0]),s=t.point(e.paddingBottomRight||e.padding||[0,0]),n=this.getBoundsZoom(i,!1,o.add(s));n=(e.maxZoom)?Math.min(e.maxZoom,n):n;var a=s.subtract(o).divideBy(2),r=this.project(i.getSouthWest(),n),h=this.project(i.getNorthEast(),n),l=this.unproject(r.add(h).divideBy(2).add(a),n);return this.setView(l,n,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(i){this.fire('movestart');this._rawPanBy(t.point(i));this.fire('move');return this.fire('moveend')},setMaxBounds:function(i){i=t.latLngBounds(i);this.options.maxBounds=i;if(!i){return this.off('moveend',this._panInsideMaxBounds,this)};if(this._loaded){this._panInsideMaxBounds()};return this.on('moveend',this._panInsideMaxBounds,this)},panInsideBounds:function(t,i){var e=this.getCenter(),n=this._limitCenter(e,this._zoom,t);if(e.equals(n)){return this};return this.panTo(n,i)},addLayer:function(i){var e=t.stamp(i);if(this._layers[e]){return this};this._layers[e]=i;if(i.options&&(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))){this._zoomBoundLayers[e]=i;this._updateZoomLevels()};if(this.options.zoomAnimation&&t.TileLayer&&(i instanceof t.TileLayer)){this._tileLayersNum++;this._tileLayersToLoad++;i.on('load',this._onTileLayerLoad,this)};if(this._loaded){this._layerAdd(i)};return this},removeLayer:function(i){var e=t.stamp(i);if(!this._layers[e]){return this};if(this._loaded){i.onRemove(this)};delete this._layers[e];if(this._loaded){this.fire('layerremove',{layer:i})};if(this._zoomBoundLayers[e]){delete this._zoomBoundLayers[e];this._updateZoomLevels()};if(this.options.zoomAnimation&&t.TileLayer&&(i instanceof t.TileLayer)){this._tileLayersNum--;this._tileLayersToLoad--;i.off('load',this._onTileLayerLoad,this)};return this},hasLayer:function(i){if(!i){return!1};return(t.stamp(i)in this._layers)},eachLayer:function(t,i){for(var e in this._layers){t.call(i,this._layers[e])};return this},invalidateSize:function(i){if(!this._loaded){return this};i=t.extend({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var n=this.getSize(),s=o.divideBy(2).round(),a=n.divideBy(2).round(),e=s.subtract(a);if(!e.x&&!e.y){return this};if(i.animate&&i.pan){this.panBy(e)}
else{if(i.pan){this._rawPanBy(e)};this.fire('move');if(i.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(t.bind(this.fire,this,'moveend'),200)}
else{this.fire('moveend')}};return this.fire('resize',{oldSize:o,newSize:n})},addHandler:function(t,i){if(!i){return this};var e=this[t]=new i(this);this._handlers.push(e);if(this.options[t]){e.enable()};return this},remove:function(){if(this._loaded){this.fire('unload')};this._initEvents('off');try{delete this._container._leaflet}catch(t){this._container._leaflet=n};this._clearPanes();if(this._clearControlPos){this._clearControlPos()};this._clearHandlers();return this},getCenter:function(){this._checkIfLoaded();if(this._initialCenter&&!this._moved()){return this._initialCenter};return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),e=this.unproject(i.getBottomLeft()),n=this.unproject(i.getTopRight());return new t.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===n?(this._layersMinZoom===n?0:this._layersMinZoom):this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?(this._layersMaxZoom===n?Infinity:this._layersMaxZoom):this.options.maxZoom},getBoundsZoom:function(i,e,n){i=t.latLngBounds(i);var o=this.getMinZoom()-(e?1:0),h=this.getMaxZoom(),a=this.getSize(),l=i.getNorthWest(),u=i.getSouthEast(),r=!0,s;n=t.point(n||[0,0]);do{o++;s=this.project(u,o).subtract(this.project(l,o)).add(n);r=!e?a.contains(s):s.x<a.x||s.y<a.y}
while(r&&o<=h);if(r&&e){return null};return e?o:o-1},getSize:function(){if(!this._size||this._sizeChanged){this._size=new t.Point(this._container.clientWidth,this._container.clientHeight);this._sizeChanged=!1};return this._size.clone()},getPixelBounds:function(){var i=this._getTopLeftPoint();return new t.Bounds(i,i.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var i=this.options.crs;return i.scale(t)/i.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+(Math.log(t)/Math.LN2)},project:function(i,e){e=e===n?this._zoom:e;return this.options.crs.latLngToPoint(t.latLng(i),e)},unproject:function(i,e){e=e===n?this._zoom:e;return this.options.crs.pointToLatLng(t.point(i),e)},layerPointToLatLng:function(i){var e=t.point(i).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(i){var e=this.project(t.latLng(i))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(i){return t.point(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return t.point(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var e=this.containerPointToLayerPoint(t.point(i));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(t.latLng(i)))},mouseEventToContainerPoint:function(i){return t.DomEvent.getMousePosition(i,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(i){var e=this._container=t.DomUtil.get(i);if(!e){throw new Error('Map container not found.')}
else if(e._leaflet){throw new Error('Map container is already initialized.')};e._leaflet=!0},_initLayout:function(){var e=this._container;t.DomUtil.addClass(e,'leaflet-container'+(t.Browser.touch?' leaflet-touch':'')+(t.Browser.retina?' leaflet-retina':'')+(t.Browser.ielt9?' leaflet-oldie':'')+(this.options.fadeAnimation?' leaflet-fade-anim':''));var i=t.DomUtil.getStyle(e,'position');if(i!=='absolute'&&i!=='relative'&&i!=='fixed'){e.style.position='relative'};this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var i=this._panes={};this._mapPane=i.mapPane=this._createPane('leaflet-map-pane',this._container);this._tilePane=i.tilePane=this._createPane('leaflet-tile-pane',this._mapPane);i.objectsPane=this._createPane('leaflet-objects-pane',this._mapPane);i.shadowPane=this._createPane('leaflet-shadow-pane');i.overlayPane=this._createPane('leaflet-overlay-pane');i.markerPane=this._createPane('leaflet-marker-pane');i.popupPane=this._createPane('leaflet-popup-pane');var e=' leaflet-zoom-hide';if(!this.options.markerZoomAnimation){t.DomUtil.addClass(i.markerPane,e);t.DomUtil.addClass(i.shadowPane,e);t.DomUtil.addClass(i.popupPane,e)}},_createPane:function(i,e){return t.DomUtil.create('div',i,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(i){i=i?(t.Util.isArray(i)?i:[i]):[];for(var e=0,n=i.length;e<n;e++){this.addLayer(i[e])}},_resetView:function(i,e,n,o){var s=(this._zoom!==e);if(!o){this.fire('movestart');if(s){this.fire('zoomstart')}};this._zoom=e;this._initialCenter=i;this._initialTopLeftPoint=this._getNewTopLeftPoint(i);if(!n){t.DomUtil.setPosition(this._mapPane,new t.Point(0,0))}
else{this._initialTopLeftPoint._add(this._getMapPanePos())};this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0;this.fire('viewreset',{hard:!n});if(a){this.fire('load');this.eachLayer(this._layerAdd,this)};this.fire('move');if(s||o){this.fire('zoomend')};this.fire('moveend',{hard:!n})},_rawPanBy:function(i){t.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var i,e=Infinity,o=-Infinity,s=this._getZoomSpan();for(i in this._zoomBoundLayers){var t=this._zoomBoundLayers[i];if(!isNaN(t.options.minZoom)){e=Math.min(e,t.options.minZoom)};if(!isNaN(t.options.maxZoom)){o=Math.max(o,t.options.maxZoom)}};if(i===n){this._layersMaxZoom=this._layersMinZoom=n}
else{this._layersMaxZoom=o;this._layersMinZoom=e};if(s!==this._getZoomSpan()){this.fire('zoomlevelschange')}},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error('Set map center and zoom first.')}},_initEvents:function(e){if(!t.DomEvent){return};e=e||'on';t.DomEvent[e](this._container,'click',this._onMouseClick,this);var o=['dblclick','mousedown','mouseup','mouseenter','mouseleave','mousemove','contextmenu'],n,s;for(n=0,s=o.length;n<s;n++){t.DomEvent[e](this._container,o[n],this._fireMouseEvent,this)};if(this.options.trackResize){t.DomEvent[e](i,'resize',this._onResize,this)}},_onResize:function(){t.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=t.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(i){if(!this._loaded||(!i._simulated&&((this.dragging&&this.dragging.moved())||(this.boxZoom&&this.boxZoom.moved())))||t.DomEvent._skipped(i)){return};this.fire('preclick');this._fireMouseEvent(i)},_fireMouseEvent:function(i){if(!this._loaded||t.DomEvent._skipped(i)){return};var e=i.type;e=(e==='mouseenter'?'mouseover':(e==='mouseleave'?'mouseout':e));if(!this.hasEventListeners(e)){return};if(e==='contextmenu'){t.DomEvent.preventDefault(i)};var n=this.mouseEventToContainerPoint(i),o=this.containerPointToLayerPoint(n),s=this.layerPointToLatLng(o);this.fire(e,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:i})},_onTileLayerLoad:function(){this._tileLayersToLoad--;if(this._tileLayersNum&&!this._tileLayersToLoad){this.fire('tilelayersload')}},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++){this._handlers[t].disable()}},whenReady:function(t,i){if(this._loaded){t.call(i||this,this)}
else{this.on('load',t,i)};return this},_layerAdd:function(t){t.onAdd(this);this.fire('layeradd',{layer:t})},_getMapPanePos:function(){return t.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,i){var e=this.getSize()._divideBy(2);return this.project(t,i)._subtract(e)._round()},_latLngToNewLayerPoint:function(t,i,e){var n=this._getNewTopLeftPoint(e,i).add(this._getMapPanePos());return this.project(t,i)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,e,n){if(!n){return i};var o=this.project(i,e),s=this.getSize().divideBy(2),a=new t.Bounds(o.subtract(s),o.add(s)),r=this._getBoundsOffset(a,n,e);return this.unproject(o.add(r),e)},_limitOffset:function(i,e){if(!e){return i};var n=this.getPixelBounds(),o=new t.Bounds(n.min.add(i),n.max.add(i));return i.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(i,e,n){var o=this.project(e.getNorthWest(),n).subtract(i.min),s=this.project(e.getSouthEast(),n).subtract(i.max),a=this._rebound(o.x,-s.x),r=this._rebound(o.y,-s.y);return new t.Point(a,r)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),e=this.getMaxZoom();return Math.max(i,Math.min(e,t))}});t.map=function(i,e){return new t.Map(i,e)};t.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(i){var s=t.LatLng.DEG_TO_RAD,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,i.lat),-a),o=this.R_MAJOR,c=this.R_MINOR,f=i.lng*s*o,e=u*s,r=c/o,h=Math.sqrt(1.0-r*r),n=h*Math.sin(e);n=Math.pow((1-n)/(1+n),h*0.5);var l=Math.tan(0.5*((Math.PI*0.5)-e))/n;e=-o*Math.log(l);return new t.Point(f,e)},unproject:function(i){var a=t.LatLng.RAD_TO_DEG,n=this.R_MAJOR,u=this.R_MINOR,c=i.x*a/n,r=u/n,h=Math.sqrt(1-(r*r)),l=Math.exp(-i.y/n),e=(Math.PI/2)-2*Math.atan(l),f=15,p=1e-7,d=f,o=0.1,s;while((Math.abs(o)>p)&&(--d>0)){s=h*Math.sin(e);o=(Math.PI/2)-2*Math.atan(l*Math.pow((1.0-s)/(1.0+s),0.5*h))-e;e+=o};return new t.LatLng(e*a,c)}};t.CRS.EPSG3395=t.extend({},t.CRS,{code:'EPSG:3395',projection:t.Projection.Mercator,transformation:(function(){var e=t.Projection.Mercator,n=e.R_MAJOR,i=0.5/(Math.PI*n);return new t.Transformation(i,0.5,-i,0.5)}())});t.TileLayer=t.Class.extend({includes:t.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:'abc',errorTileUrl:'',attribution:'',zoomOffset:0,opacity:1,unloadInvisibleTiles:t.Browser.mobile,updateWhenIdle:t.Browser.mobile},initialize:function(i,e){e=t.setOptions(this,e);if(e.detectRetina&&t.Browser.retina&&e.maxZoom>0){e.tileSize=Math.floor(e.tileSize/2);e.zoomOffset++;if(e.minZoom>0){e.minZoom--};this.options.maxZoom--};if(e.bounds){e.bounds=t.latLngBounds(e.bounds)};this._url=i;var n=this.options.subdomains;if(typeof n==='string'){this.options.subdomains=n.split('')}},onAdd:function(i){this._map=i;this._animated=i._zoomAnimated;this._initContainer();i.on({'viewreset':this._reset,'moveend':this._update},this);if(this._animated){i.on({'zoomanim':this._animateZoom,'zoomend':this._endZoomAnim},this)};if(!this.options.updateWhenIdle){this._limitedUpdate=t.Util.limitExecByInterval(this._update,150,this);i.on('move',this._limitedUpdate,this)};this._reset();this._update()},addTo:function(t){t.addLayer(this);return this},onRemove:function(t){this._container.parentNode.removeChild(this._container);t.off({'viewreset':this._reset,'moveend':this._update},this);if(this._animated){t.off({'zoomanim':this._animateZoom,'zoomend':this._endZoomAnim},this)};if(!this.options.updateWhenIdle){t.off('move',this._limitedUpdate,this)};this._container=null;this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;if(this._container){t.appendChild(this._container);this._setAutoZIndex(t,Math.max)};return this},bringToBack:function(){var t=this._map._panes.tilePane;if(this._container){t.insertBefore(this._container,t.firstChild);this._setAutoZIndex(t,Math.min)};return this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){this.options.opacity=t;if(this._map){this._updateOpacity()};return this},setZIndex:function(t){this.options.zIndex=t;this._updateZIndex();return this},setUrl:function(t,i){this._url=t;if(!i){this.redraw()};return this},redraw:function(){if(this._map){this._reset({hard:!0});this._update()};return this},_updateZIndex:function(){if(this._container&&this.options.zIndex!==n){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(t,i){var o=t.children,n=-i(Infinity,-Infinity),s,e,a;for(e=0,a=o.length;e<a;e++){if(o[e]!==this._container){s=parseInt(o[e].style.zIndex,10);if(!isNaN(s)){n=i(n,s)}}};this.options.zIndex=this._container.style.zIndex=(isFinite(n)?n:0)+i(1,-1)},_updateOpacity:function(){var i,e=this._tiles;if(t.Browser.ielt9){for(i in e){t.DomUtil.setOpacity(e[i],this.options.opacity)}}
else{t.DomUtil.setOpacity(this._container,this.options.opacity)}},_initContainer:function(){var e=this._map._panes.tilePane;if(!this._container){this._container=t.DomUtil.create('div','leaflet-layer');this._updateZIndex();if(this._animated){var i='leaflet-tile-container';this._bgBuffer=t.DomUtil.create('div',i,this._container);this._tileContainer=t.DomUtil.create('div',i,this._container)}
else{this._tileContainer=this._container};e.appendChild(this._container);if(this.options.opacity<1){this._updateOpacity()}}},_reset:function(t){for(var i in this._tiles){this.fire('tileunload',{tile:this._tiles[i]})};this._tiles={};this._tilesToLoad=0;if(this.options.reuseTiles){this._unusedTiles=[]};this._tileContainer.innerHTML='';if(this._animated&&t&&t.hard){this._clearBgBuffer()};this._initContainer()},_getTileSize:function(){var t=this._map,n=t.getZoom()+this.options.zoomOffset,i=this.options.maxNativeZoom,e=this.options.tileSize;if(i&&n>i){e=Math.round(t.getZoomScale(n)/t.getZoomScale(i)*e)};return e},_update:function(){if(!this._map){return};var e=this._map,n=e.getPixelBounds(),o=e.getZoom(),s=this._getTileSize();if(o>this.options.maxZoom||o<this.options.minZoom){return};var i=t.bounds(n.min.divideBy(s)._floor(),n.max.divideBy(s)._floor());this._addTilesFromCenterOut(i);if(this.options.unloadInvisibleTiles||this.options.reuseTiles){this._removeOtherTiles(i)}},_addTilesFromCenterOut:function(i){var o=[],l=i.getCenter(),s,n,r;for(s=i.min.y;s<=i.max.y;s++){for(n=i.min.x;n<=i.max.x;n++){r=new t.Point(n,s);if(this._tileShouldBeLoaded(r)){o.push(r)}}};var a=o.length;if(a===0){return};o.sort(function(t,i){return t.distanceTo(l)-i.distanceTo(l)});var h=e.createDocumentFragment();if(!this._tilesToLoad){this.fire('loading')};this._tilesToLoad+=a;for(n=0;n<a;n++){this._addTile(o[n],h)};this._tileContainer.appendChild(h)},_tileShouldBeLoaded:function(t){if((t.x+':'+t.y)in this._tiles){return!1};var i=this.options;if(!i.continuousWorld){var a=this._getWrapTileNum();if((i.noWrap&&(t.x<0||t.x>=a.x))||t.y<0||t.y>=a.y){return!1}};if(i.bounds){var e=this._getTileSize(),s=t.multiplyBy(e),r=s.add([e,e]),n=this._map.unproject(s),o=this._map.unproject(r);if(!i.continuousWorld&&!i.noWrap){n=n.wrap();o=o.wrap()};if(!i.bounds.intersects([n,o])){return!1}};return!0},_removeOtherTiles:function(t){var i,e,n,o;for(o in this._tiles){i=o.split(':');e=parseInt(i[0],10);n=parseInt(i[1],10);if(e<t.min.x||e>t.max.x||n<t.min.y||n>t.max.y){this._removeTile(o)}}},_removeTile:function(i){var e=this._tiles[i];this.fire('tileunload',{tile:e,url:e.src});if(this.options.reuseTiles){t.DomUtil.removeClass(e,'leaflet-tile-loaded');this._unusedTiles.push(e)}
else if(e.parentNode===this._tileContainer){this._tileContainer.removeChild(e)};if(!t.Browser.android){e.onload=null;e.src=t.Util.emptyImageUrl};delete this._tiles[i]},_addTile:function(i,e){var o=this._getTilePos(i),n=this._getTile();t.DomUtil.setPosition(n,o,t.Browser.chrome);this._tiles[i.x+':'+i.y]=n;this._loadTile(n,i);if(n.parentNode!==this._tileContainer){e.appendChild(n)}},_getZoomForUrl:function(){var t=this.options,i=this._map.getZoom();if(t.zoomReverse){i=t.maxZoom-i};i+=t.zoomOffset;return t.maxNativeZoom?Math.min(i,t.maxNativeZoom):i},_getTilePos:function(t){var i=this._map.getPixelOrigin(),e=this._getTileSize();return t.multiplyBy(e).subtract(i)},getTileUrl:function(i){return t.Util.template(this._url,t.extend({s:this._getSubdomain(i),z:i.z,x:i.x,y:i.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,i=t.getSize(this._map.getZoom());return i.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var i=this._getWrapTileNum();if(!this.options.continuousWorld&&!this.options.noWrap){t.x=((t.x%i.x)+i.x)%i.x};if(this.options.tms){t.y=i.y-t.y-1};t.z=this._getZoomForUrl()},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();this._resetTile(t);return t};return this._createTile()},_resetTile:function(){},_createTile:function(){var i=t.DomUtil.create('img','leaflet-tile');i.style.width=i.style.height=this._getTileSize()+'px';i.galleryimg='no';i.onselectstart=i.onmousemove=t.Util.falseFn;if(t.Browser.ielt9&&this.options.opacity!==n){t.DomUtil.setOpacity(i,this.options.opacity)};if(t.Browser.mobileWebkit3d){i.style.WebkitBackfaceVisibility='hidden'};return i},_loadTile:function(t,i){t._layer=this;t.onload=this._tileOnLoad;t.onerror=this._tileOnError;this._adjustTilePoint(i);t.src=this.getTileUrl(i);this.fire('tileloadstart',{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--;if(this._animated){t.DomUtil.addClass(this._tileContainer,'leaflet-zoom-animated')};if(!this._tilesToLoad){this.fire('load');if(this._animated){clearTimeout(this._clearBgBufferTimer);this._clearBgBufferTimer=setTimeout(t.bind(this._clearBgBuffer,this),500)}}},_tileOnLoad:function(){var i=this._layer;if(this.src!==t.Util.emptyImageUrl){t.DomUtil.addClass(this,'leaflet-tile-loaded');i.fire('tileload',{tile:this,url:this.src})};i._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire('tileerror',{tile:this,url:this.src});var i=t.options.errorTileUrl;if(i){this.src=i};t._tileLoaded()}});t.tileLayer=function(i,e){return new t.TileLayer(i,e)};t.TileLayer.WMS=t.TileLayer.extend({defaultWmsParams:{service:'WMS',request:'GetMap',version:'1.1.1',layers:'',styles:'',format:'image/jpeg',transparent:!1},initialize:function(i,e){this._url=i;var n=t.extend({},this.defaultWmsParams),s=e.tileSize||this.options.tileSize;if(e.detectRetina&&t.Browser.retina){n.width=n.height=s*2}
else{n.width=n.height=s};for(var o in e){if(!this.options.hasOwnProperty(o)&&o!=='crs'){n[o]=e[o]}};this.wmsParams=n;t.setOptions(this,e)},onAdd:function(i){this._crs=this.options.crs||i.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?'crs':'srs';this.wmsParams[e]=this._crs.code;t.TileLayer.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._map,o=this.options.tileSize,a=i.multiplyBy(o),h=a.add([o,o]),e=this._crs.project(s.unproject(a,i.z)),n=this._crs.project(s.unproject(h,i.z)),l=this._wmsVersion>=1.3&&this._crs===t.CRS.EPSG4326?[n.y,e.x,e.y,n.x].join(','):[e.x,n.y,n.x,e.y].join(','),r=t.Util.template(this._url,{s:this._getSubdomain(i)});return r+t.Util.getParamString(this.wmsParams,r,!0)+'&BBOX='+l},setParams:function(i,e){t.extend(this.wmsParams,i);if(!e){this.redraw()};return this}});t.tileLayer.wms=function(i,e){return new t.TileLayer.WMS(i,e)};t.TileLayer.Canvas=t.TileLayer.extend({options:{async:!1},initialize:function(i){t.setOptions(this,i)},redraw:function(){if(this._map){this._reset({hard:!0});this._update()};for(var t in this._tiles){this._redrawTile(this._tiles[t])};return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var i=t.DomUtil.create('canvas','leaflet-tile');i.width=i.height=this.options.tileSize;i.onselectstart=i.onmousemove=t.Util.falseFn;return i},_loadTile:function(t,i){t._layer=this;t._tilePoint=i;this._redrawTile(t);if(!this.options.async){this.tileDrawn(t)}},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}});t.tileLayer.canvas=function(i){return new t.TileLayer.Canvas(i)};t.ImageOverlay=t.Class.extend({includes:t.Mixin.Events,options:{opacity:1},initialize:function(i,e,n){this._url=i;this._bounds=t.latLngBounds(e);t.setOptions(this,n)},onAdd:function(i){this._map=i;if(!this._image){this._initImage()};i._panes.overlayPane.appendChild(this._image);i.on('viewreset',this._reset,this);if(i.options.zoomAnimation&&t.Browser.any3d){i.on('zoomanim',this._animateZoom,this)};this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image);t.off('viewreset',this._reset,this);if(t.options.zoomAnimation){t.off('zoomanim',this._animateZoom,this)}},addTo:function(t){t.addLayer(this);return this},setOpacity:function(t){this.options.opacity=t;this._updateOpacity();return this},bringToFront:function(){if(this._image){this._map._panes.overlayPane.appendChild(this._image)};return this},bringToBack:function(){var t=this._map._panes.overlayPane;if(this._image){t.insertBefore(this._image,t.firstChild)};return this},setUrl:function(t){this._url=t;this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=t.DomUtil.create('img','leaflet-image-layer');if(this._map.options.zoomAnimation&&t.Browser.any3d){t.DomUtil.addClass(this._image,'leaflet-zoom-animated')}
else{t.DomUtil.addClass(this._image,'leaflet-zoom-hide')};this._updateOpacity();t.extend(this._image,{galleryimg:'no',onselectstart:t.Util.falseFn,onmousemove:t.Util.falseFn,onload:t.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(i){var e=this._map,s=this._image,n=e.getZoomScale(i.zoom),a=this._bounds.getNorthWest(),r=this._bounds.getSouthEast(),o=e._latLngToNewLayerPoint(a,i.zoom,i.center),h=e._latLngToNewLayerPoint(r,i.zoom,i.center)._subtract(o),l=o._add(h._multiplyBy((1/2)*(1-1/n)));s.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(l)+' scale('+n+') '},_reset:function(){var i=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);t.DomUtil.setPosition(i,e);i.style.width=n.x+'px';i.style.height=n.y+'px'},_onImageLoad:function(){this.fire('load')},_updateOpacity:function(){t.DomUtil.setOpacity(this._image,this.options.opacity)}});t.imageOverlay=function(i,e,n){return new t.ImageOverlay(i,e,n)};t.Icon=t.Class.extend({options:{className:''},initialize:function(i){t.setOptions(this,i)},createIcon:function(t){return this._createIcon('icon',t)},createShadow:function(t){return this._createIcon('shadow',t)},_createIcon:function(t,i){var n=this._getIconUrl(t);if(!n){if(t==='icon'){throw new Error('iconUrl not set in Icon options (see the docs).')};return null};var e;if(!i||i.tagName!=='IMG'){e=this._createImg(n)}
else{e=this._createImg(n,i)};this._setIconStyles(e,t);return e},_setIconStyles:function(i,e){var o=this.options,s=t.point(o[e+'Size']),n;if(e==='shadow'){n=t.point(o.shadowAnchor||o.iconAnchor)}
else{n=t.point(o.iconAnchor)};if(!n&&s){n=s.divideBy(2,!0)};i.className='leaflet-marker-'+e+' '+o.className;if(n){i.style.marginLeft=(-n.x)+'px';i.style.marginTop=(-n.y)+'px'};if(s){i.style.width=s.x+'px';i.style.height=s.y+'px'}},_createImg:function(t,i){i=i||e.createElement('img');i.src=t;return i},_getIconUrl:function(i){if(t.Browser.retina&&this.options[i+'RetinaUrl']){return this.options[i+'RetinaUrl']};return this.options[i+'Url']}});t.icon=function(i){return new t.Icon(i)};t.Icon.Default=t.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(i){var n=i+'Url';if(this.options[n]){return this.options[n]};if(t.Browser.retina&&i==='icon'){i+='-2x'};var e=t.Icon.Default.imagePath;if(!e){throw new Error('Couldn\'t autodetect L.Icon.Default.imagePath, set it manually.')};return e+'/marker-'+i+'.png'}});t.Icon.Default.imagePath=(function(){var o=e.getElementsByTagName('script'),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,t,a,i,r,n;for(t=0,a=o.length;t<a;t++){i=o[t].src;r=i.match(s);if(r){n=i.split(s)[0];return(n?n+'/':'')+'images'}}}());t.Marker=t.Class.extend({includes:t.Mixin.Events,options:{icon:new t.Icon.Default(),title:'',alt:'',clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(i,e){t.setOptions(this,e);this._latlng=t.latLng(i)},onAdd:function(t){this._map=t;t.on('viewreset',this.update,this);this._initIcon();this.update();this.fire('add');if(t.options.zoomAnimation&&t.options.markerZoomAnimation){t.on('zoomanim',this._animateZoom,this)}},addTo:function(t){t.addLayer(this);return this},onRemove:function(t){if(this.dragging){this.dragging.disable()};this._removeIcon();this._removeShadow();this.fire('remove');t.off({'viewreset':this.update,'zoomanim':this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(i){this._latlng=t.latLng(i);this.update();return this.fire('move',{latlng:this._latlng})},setZIndexOffset:function(t){this.options.zIndexOffset=t;this.update();return this},setIcon:function(t){this.options.icon=t;if(this._map){this._initIcon();this.update()};if(this._popup){this.bindPopup(this._popup)};return this},update:function(){if(this._icon){this._setPos(this._map.latLngToLayerPoint(this._latlng).round())};return this},_initIcon:function(){var i=this.options,a=this._map,l=(a.options.zoomAnimation&&a.options.markerZoomAnimation),r=l?'leaflet-zoom-animated':'leaflet-zoom-hide',e=i.icon.createIcon(this._icon),h=!1;if(e!==this._icon){if(this._icon){this._removeIcon()};h=!0;if(i.title){e.title=i.title};if(i.alt){e.alt=i.alt}};t.DomUtil.addClass(e,r);if(i.keyboard){e.tabIndex='0'};this._icon=e;this._initInteraction();if(i.riseOnHover){t.DomEvent.on(e,'mouseover',this._bringToFront,this).on(e,'mouseout',this._resetZIndex,this)};var n=i.icon.createShadow(this._shadow),s=!1;if(n!==this._shadow){this._removeShadow();s=!0};if(n){t.DomUtil.addClass(n,r)};this._shadow=n;if(i.opacity<1){this._updateOpacity()};var o=this._map._panes;if(h){o.markerPane.appendChild(this._icon)};if(n&&s){o.shadowPane.appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){t.DomEvent.off(this._icon,'mouseover',this._bringToFront).off(this._icon,'mouseout',this._resetZIndex)};this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){this._map._panes.shadowPane.removeChild(this._shadow)};this._shadow=null},_setPos:function(i){t.DomUtil.setPosition(this._icon,i);if(this._shadow){t.DomUtil.setPosition(this._shadow,i)};this._zIndex=i.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(!this.options.clickable){return};var i=this._icon,n=['dblclick','mousedown','mouseover','mouseout','contextmenu'];t.DomUtil.addClass(i,'leaflet-clickable');t.DomEvent.on(i,'click',this._onMouseClick,this);t.DomEvent.on(i,'keypress',this._onKeyPress,this);for(var e=0;e<n.length;e++){t.DomEvent.on(i,n[e],this._fireMouseEvent,this)};if(t.Handler.MarkerDrag){this.dragging=new t.Handler.MarkerDrag(this);if(this.options.draggable){this.dragging.enable()}}},_onMouseClick:function(i){var e=this.dragging&&this.dragging.moved();if(this.hasEventListeners(i.type)||e){t.DomEvent.stopPropagation(i)};if(e){return};if((!this.dragging||!this.dragging._enabled)&&this._map.dragging&&this._map.dragging.moved()){return};this.fire(i.type,{originalEvent:i,latlng:this._latlng})},_onKeyPress:function(t){if(t.keyCode===13){this.fire('click',{originalEvent:t,latlng:this._latlng})}},_fireMouseEvent:function(i){this.fire(i.type,{originalEvent:i,latlng:this._latlng});if(i.type==='contextmenu'&&this.hasEventListeners(i.type)){t.DomEvent.preventDefault(i)};if(i.type!=='mousedown'){t.DomEvent.stopPropagation(i)}
else{t.DomEvent.preventDefault(i)}},setOpacity:function(t){this.options.opacity=t;if(this._map){this._updateOpacity()};return this},_updateOpacity:function(){t.DomUtil.setOpacity(this._icon,this.options.opacity);if(this._shadow){t.DomUtil.setOpacity(this._shadow,this.options.opacity)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});t.marker=function(i,e){return new t.Marker(i,e)};t.DivIcon=t.Icon.extend({options:{iconSize:[12,12],className:'leaflet-div-icon',html:!1},createIcon:function(t){var i=(t&&t.tagName==='DIV')?t:e.createElement('div'),n=this.options;if(n.html!==!1){i.innerHTML=n.html}
else{i.innerHTML=''};if(n.bgPos){i.style.backgroundPosition=(-n.bgPos.x)+'px '+(-n.bgPos.y)+'px'};this._setIconStyles(i,'icon');return i},createShadow:function(){return null}});t.divIcon=function(i){return new t.DivIcon(i)};t.Map.mergeOptions({closePopupOnClick:!0});t.Popup=t.Class.extend({includes:t.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:'',zoomAnimation:!0},initialize:function(i,e){t.setOptions(this,i);this._source=e;this._animated=t.Browser.any3d&&this.options.zoomAnimation;this._isOpen=!1},onAdd:function(i){this._map=i;if(!this._container){this._initLayout()};var e=i.options.fadeAnimation;if(e){t.DomUtil.setOpacity(this._container,0)};i._panes.popupPane.appendChild(this._container);i.on(this._getEvents(),this);this.update();if(e){t.DomUtil.setOpacity(this._container,1)};this.fire('open');i.fire('popupopen',{popup:this});if(this._source){this._source.fire('popupopen',{popup:this})}},addTo:function(t){t.addLayer(this);return this},openOn:function(t){t.openPopup(this);return this},onRemove:function(i){i._panes.popupPane.removeChild(this._container);t.Util.falseFn(this._container.offsetWidth);i.off(this._getEvents(),this);if(i.options.fadeAnimation){t.DomUtil.setOpacity(this._container,0)};this._map=null;this.fire('close');i.fire('popupclose',{popup:this});if(this._source){this._source.fire('popupclose',{popup:this})}},getLatLng:function(){return this._latlng},setLatLng:function(i){this._latlng=t.latLng(i);if(this._map){this._updatePosition();this._adjustPan()};return this},getContent:function(){return this._content},setContent:function(t){this._content=t;this.update();return this},update:function(){if(!this._map){return};this._container.style.visibility='hidden';this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility='';this._adjustPan()},_getEvents:function(){var t={viewreset:this._updatePosition};if(this._animated){t.zoomanim=this._zoomAnimation};if('closeOnClick' in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick){t.preclick=this._close};if(this.options.keepInView){t.moveend=this._adjustPan};return t},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var i='leaflet-popup',s=i+' '+this.options.className+' leaflet-zoom-'+(this._animated?'animated':'hide'),o=this._container=t.DomUtil.create('div',s),e;if(this.options.closeButton){e=this._closeButton=t.DomUtil.create('a',i+'-close-button',o);e.href='#close';e.innerHTML='&#215;';t.DomEvent.disableClickPropagation(e);t.DomEvent.on(e,'click',this._onCloseButtonClick,this)};var n=this._wrapper=t.DomUtil.create('div',i+'-content-wrapper',o);t.DomEvent.disableClickPropagation(n);this._contentNode=t.DomUtil.create('div',i+'-content',n);t.DomEvent.disableScrollPropagation(this._contentNode);t.DomEvent.on(n,'contextmenu',t.DomEvent.stopPropagation);this._tipContainer=t.DomUtil.create('div',i+'-tip-container',o);this._tip=t.DomUtil.create('div',i+'-tip',this._tipContainer)},_updateContent:function(){if(!this._content){return};if(typeof this._content==='string'){this._contentNode.innerHTML=this._content}
else{while(this._contentNode.hasChildNodes()){this._contentNode.removeChild(this._contentNode.firstChild)};this._contentNode.appendChild(this._content)};this.fire('contentupdate')},_updateLayout:function(){var n=this._contentNode,i=n.style;i.width='';i.whiteSpace='nowrap';var e=n.offsetWidth;e=Math.min(e,this.options.maxWidth);e=Math.max(e,this.options.minWidth);i.width=(e+1)+'px';i.whiteSpace='';i.height='';var a=n.offsetHeight,o=this.options.maxHeight,s='leaflet-popup-scrolled';if(o&&a>o){i.height=o+'px';t.DomUtil.addClass(n,s)}
else{t.DomUtil.removeClass(n,s)};this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(!this._map){return};var i=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=t.point(this.options.offset);if(e){t.DomUtil.setPosition(this._container,i)};this._containerBottom=-n.y-(e?0:i.y);this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:i.x);this._container.style.bottom=this._containerBottom+'px';this._container.style.left=this._containerLeft+'px'},_zoomAnimation:function(i){var e=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);t.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(!this.options.autoPan){return};var r=this._map,h=this._container.offsetHeight,u=this._containerWidth,c=new t.Point(this._containerLeft,-h-this._containerBottom);if(this._animated){c._add(t.DomUtil.getPosition(this._container))};var i=r.layerPointToContainerPoint(c),l=t.point(this.options.autoPanPadding),o=t.point(this.options.autoPanPaddingTopLeft||l),s=t.point(this.options.autoPanPaddingBottomRight||l),a=r.getSize(),e=0,n=0;if(i.x+u+s.x>a.x){e=i.x+u-a.x+s.x};if(i.x-e-o.x<0){e=i.x-o.x};if(i.y+h+s.y>a.y){n=i.y+h-a.y+s.y};if(i.y-n-o.y<0){n=i.y-o.y};if(e||n){r.fire('autopanstart').panBy([e,n])}},_onCloseButtonClick:function(i){this._close();t.DomEvent.stop(i)}});t.popup=function(i,e){return new t.Popup(i,e)};t.Map.include({openPopup:function(i,e,n){this.closePopup();if(!(i instanceof t.Popup)){var o=i;i=new t.Popup(n).setLatLng(e).setContent(o)};i._isOpen=!0;this._popup=i;return this.addLayer(i)},closePopup:function(t){if(!t||t===this._popup){t=this._popup;this._popup=null};if(t){this.removeLayer(t);t._isOpen=!1};return this}});t.Marker.include({openPopup:function(){if(this._popup&&this._map&&!this._map.hasLayer(this._popup)){this._popup.setLatLng(this._latlng);this._map.openPopup(this._popup)};return this},closePopup:function(){if(this._popup){this._popup._close()};return this},togglePopup:function(){if(this._popup){if(this._popup._isOpen){this.closePopup()}
else{this.openPopup()}};return this},bindPopup:function(i,e){var n=t.point(this.options.icon.options.popupAnchor||[0,0]);n=n.add(t.Popup.prototype.options.offset);if(e&&e.offset){n=n.add(e.offset)};e=t.extend({offset:n},e);if(!this._popupHandlersAdded){this.on('click',this.togglePopup,this).on('remove',this.closePopup,this).on('move',this._movePopup,this);this._popupHandlersAdded=!0};if(i instanceof t.Popup){t.setOptions(i,e);this._popup=i;i._source=this}
else{this._popup=new t.Popup(e,this).setContent(i)};return this},setPopupContent:function(t){if(this._popup){this._popup.setContent(t)};return this},unbindPopup:function(){if(this._popup){this._popup=null;this.off('click',this.togglePopup,this).off('remove',this.closePopup,this).off('move',this._movePopup,this);this._popupHandlersAdded=!1};return this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}});t.LayerGroup=t.Class.extend({initialize:function(t){this._layers={};var i,e;if(t){for(i=0,e=t.length;i<e;i++){this.addLayer(t[i])}}},addLayer:function(t){var i=this.getLayerId(t);this._layers[i]=t;if(this._map){this._map.addLayer(t)};return this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);if(this._map&&this._layers[i]){this._map.removeLayer(this._layers[i])};delete this._layers[i];return this},hasLayer:function(t){if(!t){return!1};return(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){this.eachLayer(this.removeLayer,this);return this},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),e,i;for(e in this._layers){i=this._layers[e];if(i[t]){i[t].apply(i,n)}};return this},onAdd:function(t){this._map=t;this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t);this._map=null},addTo:function(t){t.addLayer(this);return this},eachLayer:function(t,i){for(var e in this._layers){t.call(i,this._layers[e])};return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var i in this._layers){t.push(this._layers[i])};return t},setZIndex:function(t){return this.invoke('setZIndex',t)},getLayerId:function(i){return t.stamp(i)}});t.layerGroup=function(i){return new t.LayerGroup(i)};t.FeatureGroup=t.LayerGroup.extend({includes:t.Mixin.Events,statics:{EVENTS:'click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose'},addLayer:function(i){if(this.hasLayer(i)){return this};if('on' in i){i.on(t.FeatureGroup.EVENTS,this._propagateEvent,this)};t.LayerGroup.prototype.addLayer.call(this,i);if(this._popupContent&&i.bindPopup){i.bindPopup(this._popupContent,this._popupOptions)};return this.fire('layeradd',{layer:i})},removeLayer:function(i){if(!this.hasLayer(i)){return this};if(i in this._layers){i=this._layers[i]};if('off' in i){i.off(t.FeatureGroup.EVENTS,this._propagateEvent,this)};t.LayerGroup.prototype.removeLayer.call(this,i);if(this._popupContent){this.invoke('unbindPopup')};return this.fire('layerremove',{layer:i})},bindPopup:function(t,i){this._popupContent=t;this._popupOptions=i;return this.invoke('bindPopup',t,i)},openPopup:function(t){for(var i in this._layers){this._layers[i].openPopup(t);break};return this},setStyle:function(t){return this.invoke('setStyle',t)},bringToFront:function(){return this.invoke('bringToFront')},bringToBack:function(){return this.invoke('bringToBack')},getBounds:function(){var i=new t.LatLngBounds();this.eachLayer(function(e){i.extend(e instanceof t.Marker?e.getLatLng():e.getBounds())});return i},_propagateEvent:function(i){i=t.extend({layer:i.target,target:this},i);this.fire(i.type,i)}});t.featureGroup=function(i){return new t.FeatureGroup(i)};t.Path=t.Class.extend({includes:[t.Mixin.Events],statics:{CLIP_PADDING:(function(){var e=t.Browser.mobile?1280:2000,n=(e/Math.max(i.outerWidth,i.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,n))})()},options:{stroke:!0,color:'#0033ff',dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(i){t.setOptions(this,i)},onAdd:function(t){this._map=t;if(!this._container){this._initElements();this._initEvents()};this.projectLatlngs();this._updatePath();if(this._container){this._map._pathRoot.appendChild(this._container)};this.fire('add');t.on({'viewreset':this.projectLatlngs,'moveend':this._updatePath},this)},addTo:function(t){t.addLayer(this);return this},onRemove:function(i){i._pathRoot.removeChild(this._container);this.fire('remove');this._map=null;if(t.Browser.vml){this._container=null;this._stroke=null;this._fill=null};i.off({'viewreset':this.projectLatlngs,'moveend':this._updatePath},this)},projectLatlngs:function(){},setStyle:function(i){t.setOptions(this,i);if(this._container){this._updateStyle()};return this},redraw:function(){if(this._map){this.projectLatlngs();this._updatePath()};return this}});t.Map.include({_updatePathViewport:function(){var i=t.Path.CLIP_PADDING,e=this.getSize(),o=t.DomUtil.getPosition(this._mapPane),n=o.multiplyBy(-1)._subtract(e.multiplyBy(i)._round()),s=n.add(e.multiplyBy(1+i*2)._round());this._pathViewport=new t.Bounds(n,s)}});t.Path.SVG_NS='http://www.w3.org/2000/svg';t.Browser.svg=!!(e.createElementNS&&e.createElementNS(t.Path.SVG_NS,'svg').createSVGRect);t.Path=t.Path.extend({statics:{SVG:t.Browser.svg},bringToFront:function(){var i=this._map._pathRoot,t=this._container;if(t&&i.lastChild!==t){i.appendChild(t)};return this},bringToBack:function(){var i=this._map._pathRoot,t=this._container,e=i.firstChild;if(t&&e!==t){i.insertBefore(t,e)};return this},getPathString:function(){},_createElement:function(i){return e.createElementNS(t.Path.SVG_NS,i)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement('g');this._path=this._createElement('path');if(this.options.className){t.DomUtil.addClass(this._path,this.options.className)};this._container.appendChild(this._path)},_initStyle:function(){if(this.options.stroke){this._path.setAttribute('stroke-linejoin','round');this._path.setAttribute('stroke-linecap','round')};if(this.options.fill){this._path.setAttribute('fill-rule','evenodd')};if(this.options.pointerEvents){this._path.setAttribute('pointer-events',this.options.pointerEvents)};if(!this.options.clickable&&!this.options.pointerEvents){this._path.setAttribute('pointer-events','none')};this._updateStyle()},_updateStyle:function(){if(this.options.stroke){this._path.setAttribute('stroke',this.options.color);this._path.setAttribute('stroke-opacity',this.options.opacity);this._path.setAttribute('stroke-width',this.options.weight);if(this.options.dashArray){this._path.setAttribute('stroke-dasharray',this.options.dashArray)}
else{this._path.removeAttribute('stroke-dasharray')};if(this.options.lineCap){this._path.setAttribute('stroke-linecap',this.options.lineCap)};if(this.options.lineJoin){this._path.setAttribute('stroke-linejoin',this.options.lineJoin)}}
else{this._path.setAttribute('stroke','none')};if(this.options.fill){this._path.setAttribute('fill',this.options.fillColor||this.options.color);this._path.setAttribute('fill-opacity',this.options.fillOpacity)}
else{this._path.setAttribute('fill','none')}},_updatePath:function(){var t=this.getPathString();if(!t){t='M0 0'};this._path.setAttribute('d',t)},_initEvents:function(){if(this.options.clickable){if(t.Browser.svg||!t.Browser.vml){t.DomUtil.addClass(this._path,'leaflet-clickable')};t.DomEvent.on(this._container,'click',this._onMouseClick,this);var e=['dblclick','mousedown','mouseover','mouseout','mousemove','contextmenu'];for(var i=0;i<e.length;i++){t.DomEvent.on(this._container,e[i],this._fireMouseEvent,this)}}},_onMouseClick:function(t){if(this._map.dragging&&this._map.dragging.moved()){return};this._fireMouseEvent(t)},_fireMouseEvent:function(i){if(!this._map||!this.hasEventListeners(i.type)){return};var e=this._map,n=e.mouseEventToContainerPoint(i),o=e.containerPointToLayerPoint(n),s=e.layerPointToLatLng(o);this.fire(i.type,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:i});if(i.type==='contextmenu'){t.DomEvent.preventDefault(i)};if(i.type!=='mousemove'){t.DomEvent.stopPropagation(i)}}});t.Map.include({_initPathRoot:function(){if(!this._pathRoot){this._pathRoot=t.Path.prototype._createElement('svg');this._panes.overlayPane.appendChild(this._pathRoot);if(this.options.zoomAnimation&&t.Browser.any3d){t.DomUtil.addClass(this._pathRoot,'leaflet-zoom-animated');this.on({'zoomanim':this._animatePathZoom,'zoomend':this._endPathZoom})}
else{t.DomUtil.addClass(this._pathRoot,'leaflet-zoom-hide')};this.on('moveend',this._updateSvgViewport);this._updateSvgViewport()}},_animatePathZoom:function(i){var e=this.getZoomScale(i.zoom),n=this._getCenterOffset(i.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(n)+' scale('+e+') ';this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(this._pathZooming){return};this._updatePathViewport();var n=this._pathViewport,e=n.min,o=n.max,s=o.x-e.x,a=o.y-e.y,i=this._pathRoot,r=this._panes.overlayPane;if(t.Browser.mobileWebkit){r.removeChild(i)};t.DomUtil.setPosition(i,e);i.setAttribute('width',s);i.setAttribute('height',a);i.setAttribute('viewBox',[e.x,e.y,s,a].join(' '));if(t.Browser.mobileWebkit){r.appendChild(i)}}});t.Path.include({bindPopup:function(i,e){if(i instanceof t.Popup){this._popup=i}
else{if(!this._popup||e){this._popup=new t.Popup(e,this)};this._popup.setContent(i)};if(!this._popupHandlersAdded){this.on('click',this._openPopup,this).on('remove',this.closePopup,this);this._popupHandlersAdded=!0};return this},unbindPopup:function(){if(this._popup){this._popup=null;this.off('click',this._openPopup).off('remove',this.closePopup);this._popupHandlersAdded=!1};return this},openPopup:function(t){if(this._popup){t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)];this._openPopup({latlng:t})};return this},closePopup:function(){if(this._popup){this._popup._close()};return this},_openPopup:function(t){this._popup.setLatLng(t.latlng);this._map.openPopup(this._popup)}});t.Browser.vml=!t.Browser.svg&&(function(){try{var n=e.createElement('div');n.innerHTML='<v:shape adj="1"/>';var i=n.firstChild;i.style.behavior='url(#default#VML)';return i&&(typeof i.adj==='object')}catch(t){return!1}}());t.Path=t.Browser.svg||!t.Browser.vml?t.Path:t.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:(function(){try{e.namespaces.add('lvml','urn:schemas-microsoft-com:vml');return function(t){return e.createElement('<lvml:'+t+' class="lvml">')}}catch(t){return function(t){return e.createElement('<'+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),_initPath:function(){var i=this._container=this._createElement('shape');t.DomUtil.addClass(i,'leaflet-vml-shape'+(this.options.className?' '+this.options.className:''));if(this.options.clickable){t.DomUtil.addClass(i,'leaflet-clickable')};i.coordsize='1 1';this._path=this._createElement('path');i.appendChild(this._path);this._map._pathRoot.appendChild(i)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var e=this._stroke,n=this._fill,i=this.options,o=this._container;o.stroked=i.stroke;o.filled=i.fill;if(i.stroke){if(!e){e=this._stroke=this._createElement('stroke');e.endcap='round';o.appendChild(e)};e.weight=i.weight+'px';e.color=i.color;e.opacity=i.opacity;if(i.dashArray){e.dashStyle=t.Util.isArray(i.dashArray)?i.dashArray.join(' '):i.dashArray.replace(/( *, *)/g,' ')}
else{e.dashStyle=''};if(i.lineCap){e.endcap=i.lineCap.replace('butt','flat')};if(i.lineJoin){e.joinstyle=i.lineJoin}}
else if(e){o.removeChild(e);this._stroke=null};if(i.fill){if(!n){n=this._fill=this._createElement('fill');o.appendChild(n)};n.color=i.fillColor||i.color;n.opacity=i.fillOpacity}
else if(n){o.removeChild(n);this._fill=null}},_updatePath:function(){var t=this._container.style;t.display='none';this._path.v=this.getPathString()+' ';t.display=''}});t.Map.include(t.Browser.svg||!t.Browser.vml?{}:{_initPathRoot:function(){if(this._pathRoot){return};var t=this._pathRoot=e.createElement('div');t.className='leaflet-vml-container';this._panes.overlayPane.appendChild(t);this.on('moveend',this._updatePathViewport);this._updatePathViewport()}});t.Browser.canvas=(function(){return!!e.createElement('canvas').getContext}());t.Path=(t.Path.SVG&&!i.L_PREFER_CANVAS)||!t.Browser.canvas?t.Path:t.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){if(this._map){this.projectLatlngs();this._requestUpdate()};return this},setStyle:function(i){t.setOptions(this,i);if(this._map){this._updateStyle();this._requestUpdate()};return this},onRemove:function(t){t.off('viewreset',this.projectLatlngs,this).off('moveend',this._updatePath,this);if(this.options.clickable){this._map.off('click',this._onClick,this);this._map.off('mousemove',this._onMouseMove,this)};this._requestUpdate();this.fire('remove');this._map=null},_requestUpdate:function(){if(this._map&&!t.Path._updateRequest){t.Path._updateRequest=t.Util.requestAnimFrame(this._fireMapMoveEnd,this._map)}},_fireMapMoveEnd:function(){t.Path._updateRequest=null;this.fire('moveend')},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;if(t.stroke){this._ctx.lineWidth=t.weight;this._ctx.strokeStyle=t.color};if(t.fill){this._ctx.fillStyle=t.fillColor||t.color};if(t.lineCap){this._ctx.lineCap=t.lineCap};if(t.lineJoin){this._ctx.lineJoin=t.lineJoin}},_drawPath:function(){var i,e,o,s,n,a;this._ctx.beginPath();for(i=0,o=this._parts.length;i<o;i++){for(e=0,s=this._parts[i].length;e<s;e++){n=this._parts[i][e];a=(e===0?'move':'line')+'To';this._ctx[a](n.x,n.y)};if(this instanceof t.Polygon){this._ctx.closePath()}}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(this._checkIfEmpty()){return};var t=this._ctx,i=this.options;this._drawPath();t.save();this._updateStyle();if(i.fill){t.globalAlpha=i.fillOpacity;t.fill(i.fillRule||'evenodd')};if(i.stroke){t.globalAlpha=i.opacity;t.stroke()};t.restore()},_initEvents:function(){if(this.options.clickable){this._map.on('mousemove',this._onMouseMove,this);this._map.on('click dblclick contextmenu',this._fireMouseEvent,this)}},_fireMouseEvent:function(t){if(this._containsPoint(t.layerPoint)){this.fire(t.type,t)}},_onMouseMove:function(t){if(!this._map||this._map._animatingZoom){return};if(this._containsPoint(t.layerPoint)){this._ctx.canvas.style.cursor='pointer';this._mouseInside=!0;this.fire('mouseover',t)}
else if(this._mouseInside){this._ctx.canvas.style.cursor='';this._mouseInside=!1;this.fire('mouseout',t)}}});t.Map.include((t.Path.SVG&&!i.L_PREFER_CANVAS)||!t.Browser.canvas?{}:{_initPathRoot:function(){var t=this._pathRoot,i;if(!t){t=this._pathRoot=e.createElement('canvas');t.style.position='absolute';i=this._canvasCtx=t.getContext('2d');i.lineCap='round';i.lineJoin='round';this._panes.overlayPane.appendChild(t);if(this.options.zoomAnimation){this._pathRoot.className='leaflet-zoom-animated';this.on('zoomanim',this._animatePathZoom);this.on('zoomend',this._endPathZoom)};this.on('moveend',this._updateCanvasViewport);this._updateCanvasViewport()}},_updateCanvasViewport:function(){if(this._pathZooming){return};this._updatePathViewport();var n=this._pathViewport,i=n.min,o=n.max.subtract(i),e=this._pathRoot;t.DomUtil.setPosition(e,i);e.width=o.x;e.height=o.y;e.getContext('2d').translate(-i.x,-i.y)}});t.LineUtil={simplify:function(t,i){if(!i||!t.length){return t.slice()};var e=i*i;t=this._reducePoints(t,e);t=this._simplifyDP(t,e);return t},pointToSegmentDistance:function(t,i,e){return Math.sqrt(this._sqClosestPointOnSegment(t,i,e,!0))},closestPointOnSegment:function(t,i,e){return this._sqClosestPointOnSegment(t,i,e)},_simplifyDP:function(t,i){var o=t.length,r=typeof Uint8Array!==n+''?Uint8Array:Array,s=new r(o);s[0]=s[o-1]=1;this._simplifyDPStep(t,s,i,0,o-1);var e,a=[];for(e=0;e<o;e++){if(s[e]){a.push(t[e])}};return a},_simplifyDPStep:function(t,i,e,n,o){var r=0,a,s,h;for(s=n+1;s<=o-1;s++){h=this._sqClosestPointOnSegment(t[s],t[n],t[o],!0);if(h>r){a=s;r=h}};if(r>e){i[a]=1;this._simplifyDPStep(t,i,e,n,a);this._simplifyDPStep(t,i,e,a,o)}},_reducePoints:function(t,i){var s=[t[0]];for(var e=1,n=0,o=t.length;e<o;e++){if(this._sqDist(t[e],t[n])>i){s.push(t[e]);n=e}};if(n<o-1){s.push(t[o-1])};return s},clipSegment:function(t,i,e,n){var o=n?this._lastCode:this._getBitCode(t,e),s=this._getBitCode(i,e),r,a,h;this._lastCode=s;while(!0){if(!(o|s)){return[t,i]}
else if(o&s){return!1}
else{r=o||s;a=this._getEdgeIntersection(t,i,r,e);h=this._getBitCode(a,e);if(r===o){t=a;o=h}
else{i=a;s=h}}}},_getEdgeIntersection:function(i,e,n,o){var s=e.x-i.x,a=e.y-i.y,r=o.min,h=o.max;if(n&8){return new t.Point(i.x+s*(h.y-i.y)/a,h.y)}
else if(n&4){return new t.Point(i.x+s*(r.y-i.y)/a,r.y)}
else if(n&2){return new t.Point(h.x,i.y+a*(h.x-i.x)/s)}
else if(n&1){return new t.Point(r.x,i.y+a*(r.x-i.x)/s)}},_getBitCode:function(t,i){var e=0;if(t.x<i.min.x){e|=1}
else if(t.x>i.max.x){e|=2};if(t.y<i.min.y){e|=4}
else if(t.y>i.max.y){e|=8};return e},_sqDist:function(t,i){var e=i.x-t.x,n=i.y-t.y;return e*e+n*n},_sqClosestPointOnSegment:function(i,e,n,o){var r=e.x,h=e.y,s=n.x-r,a=n.y-h,u=s*s+a*a,l;if(u>0){l=((i.x-r)*s+(i.y-h)*a)/u;if(l>1){r=n.x;h=n.y}
else if(l>0){r+=s*l;h+=a*l}};s=i.x-r;a=i.y-h;return o?s*s+a*a:new t.Point(r,h)}};t.Polyline=t.Path.extend({initialize:function(i,e){t.Path.prototype.initialize.call(this,e);this._latlngs=this._convertLatLngs(i)},options:{smoothFactor:1.0,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,i=this._latlngs.length;t<i;t++){this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])}},getPathString:function(){for(var t=0,e=this._parts.length,i='';t<e;t++){i+=this._getPathPartStr(this._parts[t])};return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){this._latlngs=this._convertLatLngs(t);return this.redraw()},addLatLng:function(i){this._latlngs.push(t.latLng(i));return this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);this._convertLatLngs(this._latlngs,!0);this.redraw();return t},closestLayerPoint:function(i){var a=Infinity,u=this._parts,r,h,n=null;for(var s=0,f=u.length;s<f;s++){var o=u[s];for(var e=1,c=o.length;e<c;e++){r=o[e-1];h=o[e];var l=t.LineUtil._sqClosestPointOnSegment(i,r,h,!0);if(l<a){a=l;n=t.LineUtil._sqClosestPointOnSegment(i,r,h)}}};if(n){n.distance=Math.sqrt(a)};return n},getBounds:function(){return new t.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(i,e){var n,o,s=e?i:[];for(n=0,o=i.length;n<o;n++){if(t.Util.isArray(i[n])&&typeof i[n][0]!=='number'){return};s[n]=t.latLng(i[n])};return s},_initEvents:function(){t.Path.prototype._initEvents.call(this)},_getPathPartStr:function(i){var a=t.Path.VML;for(var e=0,s=i.length,o='',n;e<s;e++){n=i[e];if(a){n._round()};o+=(e?'L':'M')+n.x+' '+n.y};return o},_clipPoints:function(){var n=this._originalPoints,a=n.length,i,e,o;if(this.options.noClip){this._parts=[n];return};this._parts=[];var s=this._parts,r=this._map._pathViewport,h=t.LineUtil;for(i=0,e=0;i<a-1;i++){o=h.clipSegment(n[i],n[i+1],r,i);if(!o){continue};s[e]=s[e]||[];s[e].push(o[0]);if((o[1]!==n[i+1])||(i===a-2)){s[e].push(o[1]);e++}}},_simplifyPoints:function(){var e=this._parts,o=t.LineUtil;for(var i=0,n=e.length;i<n;i++){e[i]=o.simplify(e[i],this.options.smoothFactor)}},_updatePath:function(){if(!this._map){return};this._clipPoints();this._simplifyPoints();t.Path.prototype._updatePath.call(this)}});t.polyline=function(i,e){return new t.Polyline(i,e)};t.PolyUtil={};t.PolyUtil.clipPolygon=function(i,e){var a,p=[1,4,2,8],n,f,c,r,h,l,s,o,u=t.LineUtil;for(n=0,l=i.length;n<l;n++){i[n]._code=u._getBitCode(i[n],e)};for(c=0;c<4;c++){s=p[c];a=[];for(n=0,l=i.length,f=l-1;n<l;f=n++){r=i[n];h=i[f];if(!(r._code&s)){if(h._code&s){o=u._getEdgeIntersection(h,r,s,e);o._code=u._getBitCode(o,e);a.push(o)};a.push(r)}
else if(!(h._code&s)){o=u._getEdgeIntersection(h,r,s,e);o._code=u._getBitCode(o,e);a.push(o)}};i=a};return i};t.Polygon=t.Polyline.extend({options:{fill:!0},initialize:function(i,e){t.Polyline.prototype.initialize.call(this,i,e);this._initWithHoles(i)},_initWithHoles:function(i){var e,o,n;if(i&&t.Util.isArray(i[0])&&(typeof i[0][0]!=='number')){this._latlngs=this._convertLatLngs(i[0]);this._holes=i.slice(1);for(e=0,o=this._holes.length;e<o;e++){n=this._holes[e]=this._convertLatLngs(this._holes[e]);if(n[0].equals(n[n.length-1])){n.pop()}}};i=this._latlngs;if(i.length>=2&&i[0].equals(i[i.length-1])){i.pop()}},projectLatlngs:function(){t.Polyline.prototype.projectLatlngs.call(this);this._holePoints=[];if(!this._holes){return};var i,e,n,o;for(i=0,n=this._holes.length;i<n;i++){this._holePoints[i]=[];for(e=0,o=this._holes[i].length;e<o;e++){this._holePoints[i][e]=this._map.latLngToLayerPoint(this._holes[i][e])}}},setLatLngs:function(i){if(i&&t.Util.isArray(i[0])&&(typeof i[0][0]!=='number')){this._initWithHoles(i);return this.redraw()}
else{return t.Polyline.prototype.setLatLngs.call(this,i)}},_clipPoints:function(){var s=this._originalPoints,n=[];this._parts=[s].concat(this._holePoints);if(this.options.noClip){return};for(var i=0,o=this._parts.length;i<o;i++){var e=t.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);if(e.length){n.push(e)}};this._parts=n},_getPathPartStr:function(i){var e=t.Polyline.prototype._getPathPartStr.call(this,i);return e+(t.Browser.svg?'z':'x')}});t.polygon=function(i,e){return new t.Polygon(i,e)};(function(){function i(i){return t.FeatureGroup.extend({initialize:function(t,i){this._layers={};this._options=i;this.setLatLngs(t)},setLatLngs:function(t){var e=0,n=t.length;this.eachLayer(function(i){if(e<n){i.setLatLngs(t[e++])}
else{this.removeLayer(i)}},this);while(e<n){this.addLayer(new i(t[e++],this._options))};return this},getLatLngs:function(){var t=[];this.eachLayer(function(i){t.push(i.getLatLngs())});return t}})};t.MultiPolyline=i(t.Polyline);t.MultiPolygon=i(t.Polygon);t.multiPolyline=function(i,e){return new t.MultiPolyline(i,e)};t.multiPolygon=function(i,e){return new t.MultiPolygon(i,e)}}());t.Rectangle=t.Polygon.extend({initialize:function(i,e){t.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(i),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(i){i=t.latLngBounds(i);return[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});t.rectangle=function(i,e){return new t.Rectangle(i,e)};t.Circle=t.Path.extend({initialize:function(i,e,n){t.Path.prototype.initialize.call(this,n);this._latlng=t.latLng(i);this._mRadius=e},options:{fill:!0},setLatLng:function(i){this._latlng=t.latLng(i);return this.redraw()},setRadius:function(t){this._mRadius=t;return this.redraw()},projectLatlngs:function(){var i=this._getLngRadius(),t=this._latlng,e=this._map.latLngToLayerPoint([t.lat,t.lng-i]);this._point=this._map.latLngToLayerPoint(t);this._radius=Math.max(this._point.x-e.x,1)},getBounds:function(){var e=this._getLngRadius(),n=(this._mRadius/40075017)*360,i=this._latlng;return new t.LatLngBounds([i.lat-n,i.lng-e],[i.lat+n,i.lng+e])},getLatLng:function(){return this._latlng},getPathString:function(){var e=this._point,i=this._radius;if(this._checkIfEmpty()){return''};if(t.Browser.svg){return'M'+e.x+','+(e.y-i)+'A'+i+','+i+',0,1,1,'+(e.x-0.1)+','+(e.y-i)+' z'}
else{e._round();i=Math.round(i);return'AL '+e.x+','+e.y+' '+i+','+i+' 0,'+(65535*360)}},getRadius:function(){return this._mRadius},_getLatRadius:function(){return(this._mRadius/40075017)*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(t.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map){return!1};var t=this._map._pathViewport,i=this._radius,e=this._point;return e.x-i>t.max.x||e.y-i>t.max.y||e.x+i<t.min.x||e.y+i<t.min.y}});t.circle=function(i,e,n){return new t.Circle(i,e,n)};t.CircleMarker=t.Circle.extend({options:{radius:10,weight:2},initialize:function(i,e){t.Circle.prototype.initialize.call(this,i,null,e);this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){t.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(i){t.Circle.prototype.setLatLng.call(this,i);if(this._popup&&this._popup._isOpen){this._popup.setLatLng(i)};return this},setRadius:function(t){this.options.radius=this._radius=t;return this.redraw()},getRadius:function(){return this._radius}});t.circleMarker=function(i,e){return new t.CircleMarker(i,e)};t.Polyline.include(!t.Path.CANVAS?{}:{_containsPoint:function(i,e){var o,n,a,h,r,l,s,u=this.options.weight/2;if(t.Browser.touch){u+=10};for(o=0,h=this._parts.length;o<h;o++){s=this._parts[o];for(n=0,r=s.length,a=r-1;n<r;a=n++){if(!e&&(n===0)){continue};l=t.LineUtil.pointToSegmentDistance(i,s[a],s[n]);if(l<=u){return!0}}};return!1}});t.Polygon.include(!t.Path.CANVAS?{}:{_containsPoint:function(i){var r=!1,n,e,o,s,a,h,u,l;if(t.Polyline.prototype._containsPoint.call(this,i,!0)){return!0};for(s=0,u=this._parts.length;s<u;s++){n=this._parts[s];for(a=0,l=n.length,h=l-1;a<l;h=a++){e=n[a];o=n[h];if(((e.y>i.y)!==(o.y>i.y))&&(i.x<(o.x-e.x)*(i.y-e.y)/(o.y-e.y)+e.x)){r=!r}}};return r}});t.Circle.include(!t.Path.CANVAS?{}:{_drawPath:function(){var t=this._point;this._ctx.beginPath();this._ctx.arc(t.x,t.y,this._radius,0,Math.PI*2,!1)},_containsPoint:function(t){var i=this._point,e=this.options.stroke?this.options.weight/2:0;return(t.distanceTo(i)<=this._radius+e)}});t.CircleMarker.include(!t.Path.CANVAS?{}:{_updateStyle:function(){t.Path.prototype._updateStyle.call(this)}});t.GeoJSON=t.FeatureGroup.extend({initialize:function(i,e){t.setOptions(this,e);this._layers={};if(i){this.addData(i)}},addData:function(i){var a=t.Util.isArray(i)?i:i.features,o,r,s;if(a){for(o=0,r=a.length;o<r;o++){s=a[o];if(s.geometries||s.geometry||s.features||s.coordinates){this.addData(a[o])}};return this};var e=this.options;if(e.filter&&!e.filter(i)){return};var n=t.GeoJSON.geometryToLayer(i,e.pointToLayer,e.coordsToLatLng,e);n.feature=t.GeoJSON.asFeature(i);n.defaultOptions=n.options;this.resetStyle(n);if(e.onEachFeature){e.onEachFeature(i,n)};return this.addLayer(n)},resetStyle:function(i){var e=this.options.style;if(e){t.Util.extend(i.options,i.defaultOptions);this._setLayerStyle(i,e)}},setStyle:function(t){this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){if(typeof i==='function'){i=i(t.feature)};if(t.setStyle){t.setStyle(i)}}});t.extend(t.GeoJSON,{geometryToLayer:function(i,e,n,o){var l=i.type==='Feature'?i.geometry:i,s=l.coordinates,u=[],h,a,r,c;n=n||this.coordsToLatLng;switch(l.type){case'Point':h=n(s);return e?e(i,h):new t.Marker(h);case'MultiPoint':for(r=0,c=s.length;r<c;r++){h=n(s[r]);u.push(e?e(i,h):new t.Marker(h))};return new t.FeatureGroup(u);case'LineString':a=this.coordsToLatLngs(s,0,n);return new t.Polyline(a,o);case'Polygon':if(s.length===2&&!s[1].length){throw new Error('Invalid GeoJSON object.')};a=this.coordsToLatLngs(s,1,n);return new t.Polygon(a,o);case'MultiLineString':a=this.coordsToLatLngs(s,1,n);return new t.MultiPolyline(a,o);case'MultiPolygon':a=this.coordsToLatLngs(s,2,n);return new t.MultiPolygon(a,o);case'GeometryCollection':for(r=0,c=l.geometries.length;r<c;r++){u.push(this.geometryToLayer({geometry:l.geometries[r],type:'Feature',properties:i.properties},e,n,o))};return new t.FeatureGroup(u);default:throw new Error('Invalid GeoJSON object.')}},coordsToLatLng:function(i){return new t.LatLng(i[1],i[0],i[2])},coordsToLatLngs:function(t,i,e){var o,n,s,a=[];for(n=0,s=t.length;n<s;n++){o=i?this.coordsToLatLngs(t[n],i-1,e):(e||this.coordsToLatLng)(t[n]);a.push(o)};return a},latLngToCoords:function(t){var i=[t.lng,t.lat];if(t.alt!==n){i.push(t.alt)};return i},latLngsToCoords:function(i){var n=[];for(var e=0,o=i.length;e<o;e++){n.push(t.GeoJSON.latLngToCoords(i[e]))};return n},getFeature:function(i,e){return i.feature?t.extend({},i.feature,{geometry:e}):t.GeoJSON.asFeature(e)},asFeature:function(t){if(t.type==='Feature'){return t};return{type:'Feature',properties:{},geometry:t}}});var s={toGeoJSON:function(){return t.GeoJSON.getFeature(this,{type:'Point',coordinates:t.GeoJSON.latLngToCoords(this.getLatLng())})}};t.Marker.include(s);t.Circle.include(s);t.CircleMarker.include(s);t.Polyline.include({toGeoJSON:function(){return t.GeoJSON.getFeature(this,{type:'LineString',coordinates:t.GeoJSON.latLngsToCoords(this.getLatLngs())})}});t.Polygon.include({toGeoJSON:function(){var i=[t.GeoJSON.latLngsToCoords(this.getLatLngs())],e,o,n;i[0].push(i[0][0]);if(this._holes){for(e=0,o=this._holes.length;e<o;e++){n=t.GeoJSON.latLngsToCoords(this._holes[e]);n.push(n[0]);i.push(n)}};return t.GeoJSON.getFeature(this,{type:'Polygon',coordinates:i})}});(function(){function i(i){return function(){var e=[];this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)});return t.GeoJSON.getFeature(this,{type:i,coordinates:e})}};t.MultiPolyline.include({toGeoJSON:i('MultiLineString')});t.MultiPolygon.include({toGeoJSON:i('MultiPolygon')});t.LayerGroup.include({toGeoJSON:function(){var e=this.feature&&this.feature.geometry,n=[],o;if(e&&e.type==='MultiPoint'){return i('MultiPoint').call(this)};var s=e&&e.type==='GeometryCollection';this.eachLayer(function(i){if(i.toGeoJSON){o=i.toGeoJSON();n.push(s?o.geometry:t.GeoJSON.asFeature(o))}});if(s){return t.GeoJSON.getFeature(this,{geometries:n,type:'GeometryCollection'})};return{type:'FeatureCollection',features:n}}})}());t.geoJson=function(i,e){return new t.GeoJSON(i,e)};t.DomEvent={addListener:function(i,e,n,o){var r=t.stamp(n),h='_leaflet_'+e+r,s,a,l;if(i[h]){return this};s=function(e){return n.call(o||i,e||t.DomEvent._getEvent())};if(t.Browser.pointer&&e.indexOf('touch')===0){return this.addPointerListener(i,e,s,r)};if(t.Browser.touch&&(e==='dblclick')&&this.addDoubleTapListener){this.addDoubleTapListener(i,s,r)};if('addEventListener' in i){if(e==='mousewheel'){i.addEventListener('DOMMouseScroll',s,!1);i.addEventListener(e,s,!1)}
else if((e==='mouseenter')||(e==='mouseleave')){a=s;l=(e==='mouseenter'?'mouseover':'mouseout');s=function(e){if(!t.DomEvent._checkMouse(i,e)){return};return a(e)};i.addEventListener(l,s,!1)}
else if(e==='click'&&t.Browser.android){a=s;s=function(i){return t.DomEvent._filterClick(i,a)};i.addEventListener(e,s,!1)}
else{i.addEventListener(e,s,!1)}}
else if('attachEvent' in i){i.attachEvent('on'+e,s)};i[h]=s;return this},removeListener:function(i,e,n){var s=t.stamp(n),a='_leaflet_'+e+s,o=i[a];if(!o){return this};if(t.Browser.pointer&&e.indexOf('touch')===0){this.removePointerListener(i,e,s)}
else if(t.Browser.touch&&(e==='dblclick')&&this.removeDoubleTapListener){this.removeDoubleTapListener(i,s)}
else if('removeEventListener' in i){if(e==='mousewheel'){i.removeEventListener('DOMMouseScroll',o,!1);i.removeEventListener(e,o,!1)}
else if((e==='mouseenter')||(e==='mouseleave')){i.removeEventListener((e==='mouseenter'?'mouseover':'mouseout'),o,!1)}
else{i.removeEventListener(e,o,!1)}}
else if('detachEvent' in i){i.detachEvent('on'+e,o)};i[a]=null;return this},stopPropagation:function(i){if(i.stopPropagation){i.stopPropagation()}
else{i.cancelBubble=!0};t.DomEvent._skipped(i);return this},disableScrollPropagation:function(i){var e=t.DomEvent.stopPropagation;return t.DomEvent.on(i,'mousewheel',e).on(i,'MozMousePixelScroll',e)},disableClickPropagation:function(i){var n=t.DomEvent.stopPropagation;for(var e=t.Draggable.START.length-1;e>=0;e--){t.DomEvent.on(i,t.Draggable.START[e],n)};return t.DomEvent.on(i,'click',t.DomEvent._fakeStop).on(i,'dblclick',n)},preventDefault:function(t){if(t.preventDefault){t.preventDefault()}
else{t.returnValue=!1};return this},stop:function(i){return t.DomEvent.preventDefault(i).stopPropagation(i)},getMousePosition:function(i,e){if(!e){return new t.Point(i.clientX,i.clientY)};var n=e.getBoundingClientRect();return new t.Point(i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var i=0;if(t.wheelDelta){i=t.wheelDelta/120};if(t.detail){i=-t.detail/3};return i},_skipEvents:{},_fakeStop:function(i){t.DomEvent._skipEvents[i.type]=!0},_skipped:function(t){var i=this._skipEvents[t.type];this._skipEvents[t.type]=!1;return i},_checkMouse:function(t,i){var e=i.relatedTarget;if(!e){return!0};try{while(e&&(e!==t)){e=e.parentNode}}catch(n){return!1};return(e!==t)},_getEvent:function(){var t=i.event;if(!t){var e=arguments.callee.caller;while(e){t=e['arguments'][0];if(t&&i.Event===t.constructor){break};e=e.caller}};return t},_filterClick:function(i,e){var o=(i.timeStamp||i.originalEvent.timeStamp),n=t.DomEvent._lastClick&&(o-t.DomEvent._lastClick);if((n&&n>100&&n<500)||(i.target._simulatedClick&&!i._simulated)){t.DomEvent.stop(i);return};t.DomEvent._lastClick=o;return e(i)}};t.DomEvent.on=t.DomEvent.addListener;t.DomEvent.off=t.DomEvent.removeListener;t.Draggable=t.Class.extend({includes:t.Mixin.Events,statics:{START:t.Browser.touch?['touchstart','mousedown']:['mousedown'],END:{mousedown:'mouseup',touchstart:'touchend',pointerdown:'touchend',MSPointerDown:'touchend'},MOVE:{mousedown:'mousemove',touchstart:'touchmove',pointerdown:'touchmove',MSPointerDown:'touchmove'}},initialize:function(t,i){this._element=t;this._dragStartTarget=i||t},enable:function(){if(this._enabled){return};for(var i=t.Draggable.START.length-1;i>=0;i--){t.DomEvent.on(this._dragStartTarget,t.Draggable.START[i],this._onDown,this)};this._enabled=!0},disable:function(){if(!this._enabled){return};for(var i=t.Draggable.START.length-1;i>=0;i--){t.DomEvent.off(this._dragStartTarget,t.Draggable.START[i],this._onDown,this)};this._enabled=!1;this._moved=!1},_onDown:function(i){this._moved=!1;if(i.shiftKey||((i.which!==1)&&(i.button!==1)&&!i.touches)){return};t.DomEvent.stopPropagation(i);if(t.Draggable._disabled){return};t.DomUtil.disableImageDrag();t.DomUtil.disableTextSelection();if(this._moving){return};var n=i.touches?i.touches[0]:i;this._startPoint=new t.Point(n.clientX,n.clientY);this._startPos=this._newPos=t.DomUtil.getPosition(this._element);t.DomEvent.on(e,t.Draggable.MOVE[i.type],this._onMove,this).on(e,t.Draggable.END[i.type],this._onUp,this)},_onMove:function(i){if(i.touches&&i.touches.length>1){this._moved=!0;return};var o=(i.touches&&i.touches.length===1?i.touches[0]:i),s=new t.Point(o.clientX,o.clientY),n=s.subtract(this._startPoint);if(!n.x&&!n.y){return};if(t.Browser.touch&&Math.abs(n.x)+Math.abs(n.y)<3){return};t.DomEvent.preventDefault(i);if(!this._moved){this.fire('dragstart');this._moved=!0;this._startPos=t.DomUtil.getPosition(this._element).subtract(n);t.DomUtil.addClass(e.body,'leaflet-dragging');this._lastTarget=i.target||i.srcElement;t.DomUtil.addClass(this._lastTarget,'leaflet-drag-target')};this._newPos=this._startPos.add(n);this._moving=!0;t.Util.cancelAnimFrame(this._animRequest);this._animRequest=t.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)},_updatePosition:function(){this.fire('predrag');t.DomUtil.setPosition(this._element,this._newPos);this.fire('drag')},_onUp:function(){t.DomUtil.removeClass(e.body,'leaflet-dragging');if(this._lastTarget){t.DomUtil.removeClass(this._lastTarget,'leaflet-drag-target');this._lastTarget=null};for(var i in t.Draggable.MOVE){t.DomEvent.off(e,t.Draggable.MOVE[i],this._onMove).off(e,t.Draggable.END[i],this._onUp)};t.DomUtil.enableImageDrag();t.DomUtil.enableTextSelection();if(this._moved&&this._moving){t.Util.cancelAnimFrame(this._animRequest);this.fire('dragend',{distance:this._newPos.distanceTo(this._startPos)})};this._moving=!1}});t.Handler=t.Class.extend({initialize:function(t){this._map=t},enable:function(){if(this._enabled){return};this._enabled=!0;this.addHooks()},disable:function(){if(!this._enabled){return};this._enabled=!1;this.removeHooks()},enabled:function(){return!!this._enabled}});t.Map.mergeOptions({dragging:!0,inertia:!t.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,inertiaThreshold:t.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1});t.Map.Drag=t.Handler.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new t.Draggable(i._mapPane,i._container);this._draggable.on({'dragstart':this._onDragStart,'drag':this._onDrag,'dragend':this._onDragEnd},this);if(i.options.worldCopyJump){this._draggable.on('predrag',this._onPreDrag,this);i.on('viewreset',this._onViewReset,this);i.whenReady(this._onViewReset,this)}};this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;if(t._panAnim){t._panAnim.stop()};t.fire('movestart').fire('dragstart');if(t.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date(),i=this._lastPos=this._draggable._newPos;this._positions.push(i);this._times.push(t);if(t-this._times[0]>200){this._positions.shift();this._times.shift()}};this._map.fire('move').fire('drag')},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var e=this._worldWidth,i=Math.round(e/2),t=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-i+t)%e+i-t,s=(n+i+t)%e-i-t,a=Math.abs(o+t)<Math.abs(s+t)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(i){var e=this._map,o=e.options,u=+new Date()-this._lastTime,d=!o.inertia||u>o.inertiaThreshold||!this._positions[0];e.fire('dragend',i);if(d){e.fire('moveend')}
else{var c=this._lastPos.subtract(this._positions[0]),f=(this._lastTime+u-this._times[0])/1000,s=o.easeLinearity,a=c.multiplyBy(s/f),r=a.distanceTo([0,0]),h=Math.min(o.inertiaMaxSpeed,r),p=a.multiplyBy(h/r),l=h/(o.inertiaDeceleration*s),n=p.multiplyBy(-l/2).round();if(!n.x||!n.y){e.fire('moveend')}
else{n=e._limitOffset(n,e.options.maxBounds);t.Util.requestAnimFrame(function(){e.panBy(n,{duration:l,easeLinearity:s,noMoveStart:!0})})}}}});t.Map.addInitHook('addHandler','dragging',t.Map.Drag);t.Map.mergeOptions({doubleClickZoom:!0});t.Map.DoubleClickZoom=t.Handler.extend({addHooks:function(){this._map.on('dblclick',this._onDoubleClick,this)},removeHooks:function(){this._map.off('dblclick',this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,e=i.getZoom()+(t.originalEvent.shiftKey?-1:1);if(i.options.doubleClickZoom==='center'){i.setZoom(e)}
else{i.setZoomAround(t.containerPoint,e)}}});t.Map.addInitHook('addHandler','doubleClickZoom',t.Map.DoubleClickZoom);t.Map.mergeOptions({scrollWheelZoom:!0});t.Map.ScrollWheelZoom=t.Handler.extend({addHooks:function(){t.DomEvent.on(this._map._container,'mousewheel',this._onWheelScroll,this);t.DomEvent.on(this._map._container,'MozMousePixelScroll',t.DomEvent.preventDefault);this._delta=0},removeHooks:function(){t.DomEvent.off(this._map._container,'mousewheel',this._onWheelScroll);t.DomEvent.off(this._map._container,'MozMousePixelScroll',t.DomEvent.preventDefault)},_onWheelScroll:function(i){var n=t.DomEvent.getWheelDelta(i);this._delta+=n;this._lastMousePos=this._map.mouseEventToContainerPoint(i);if(!this._startTime){this._startTime=+new Date()};var e=Math.max(40-(+new Date()-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(t.bind(this._performZoom,this),e);t.DomEvent.preventDefault(i);t.DomEvent.stopPropagation(i)},_performZoom:function(){var i=this._map,t=this._delta,e=i.getZoom();t=t>0?Math.ceil(t):Math.floor(t);t=Math.max(Math.min(t,4),-4);t=i._limitZoom(e+t)-e;this._delta=0;this._startTime=null;if(!t){return};if(i.options.scrollWheelZoom==='center'){i.setZoom(e+t)}
else{i.setZoomAround(this._lastMousePos,e+t)}}});t.Map.addInitHook('addHandler','scrollWheelZoom',t.Map.ScrollWheelZoom);t.extend(t.DomEvent,{_touchstart:t.Browser.msPointer?'MSPointerDown':t.Browser.pointer?'pointerdown':'touchstart',_touchend:t.Browser.msPointer?'MSPointerUp':t.Browser.pointer?'pointerup':'touchend',addDoubleTapListener:function(i,n,o){var r,u=!1,m=250,s,c='_leaflet_',f=this._touchstart,p=this._touchend,a=[];function d(i){var n;if(t.Browser.pointer){a.push(i.pointerId);n=a.length}
else{n=i.touches.length};if(n>1){return};var e=Date.now(),o=e-(r||e);s=i.touches?i.touches[0]:i;u=(o>0&&o<=m);r=e};function h(i){if(t.Browser.pointer){var l=a.indexOf(i.pointerId);if(l===-1){return};a.splice(l,1)};if(u){if(t.Browser.pointer){var h={},e;for(var o in s){e=s[o];if(typeof e==='function'){h[o]=e.bind(s)}
else{h[o]=e}};s=h};s.type='dblclick';n(s);r=null}};i[c+f+o]=d;i[c+p+o]=h;var l=t.Browser.pointer?e.documentElement:i;i.addEventListener(f,d,!1);l.addEventListener(p,h,!1);if(t.Browser.pointer){l.addEventListener(t.DomEvent.POINTER_CANCEL,h,!1)};return this},removeDoubleTapListener:function(i,n){var o='_leaflet_';i.removeEventListener(this._touchstart,i[o+this._touchstart+n],!1);(t.Browser.pointer?e.documentElement:i).removeEventListener(this._touchend,i[o+this._touchend+n],!1);if(t.Browser.pointer){e.documentElement.removeEventListener(t.DomEvent.POINTER_CANCEL,i[o+this._touchend+n],!1)};return this}});t.extend(t.DomEvent,{POINTER_DOWN:t.Browser.msPointer?'MSPointerDown':'pointerdown',POINTER_MOVE:t.Browser.msPointer?'MSPointerMove':'pointermove',POINTER_UP:t.Browser.msPointer?'MSPointerUp':'pointerup',POINTER_CANCEL:t.Browser.msPointer?'MSPointerCancel':'pointercancel',_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,i,e,n){switch(i){case'touchstart':return this.addPointerListenerStart(t,i,e,n);case'touchend':return this.addPointerListenerEnd(t,i,e,n);case'touchmove':return this.addPointerListenerMove(t,i,e,n);default:throw'Unknown touch event type'}},addPointerListenerStart:function(i,n,o,s){var l='_leaflet_',a=this._pointers,h=function(i){if(i.pointerType!=='mouse'&&i.pointerType!==i.MSPOINTER_TYPE_MOUSE){t.DomEvent.preventDefault(i)};var n=!1;for(var e=0;e<a.length;e++){if(a[e].pointerId===i.pointerId){n=!0;break}};if(!n){a.push(i)};i.touches=a.slice();i.changedTouches=[i];o(i)};i[l+'touchstart'+s]=h;i.addEventListener(this.POINTER_DOWN,h,!1);if(!this._pointerDocumentListener){var r=function(t){for(var i=0;i<a.length;i++){if(a[i].pointerId===t.pointerId){a.splice(i,1);break}}};e.documentElement.addEventListener(this.POINTER_UP,r,!1);e.documentElement.addEventListener(this.POINTER_CANCEL,r,!1);this._pointerDocumentListener=!0};return this},addPointerListenerMove:function(t,i,e,n){var a='_leaflet_',o=this._pointers;function s(t){if((t.pointerType===t.MSPOINTER_TYPE_MOUSE||t.pointerType==='mouse')&&t.buttons===0){return};for(var i=0;i<o.length;i++){if(o[i].pointerId===t.pointerId){o[i]=t;break}};t.touches=o.slice();t.changedTouches=[t];e(t)};t[a+'touchmove'+n]=s;t.addEventListener(this.POINTER_MOVE,s,!1);return this},addPointerListenerEnd:function(t,i,e,n){var a='_leaflet_',o=this._pointers,s=function(t){for(var i=0;i<o.length;i++){if(o[i].pointerId===t.pointerId){o.splice(i,1);break}};t.touches=o.slice();t.changedTouches=[t];e(t)};t[a+'touchend'+n]=s;t.addEventListener(this.POINTER_UP,s,!1);t.addEventListener(this.POINTER_CANCEL,s,!1);return this},removePointerListener:function(t,i,e){var o='_leaflet_',n=t[o+i+e];switch(i){case'touchstart':t.removeEventListener(this.POINTER_DOWN,n,!1);break;case'touchmove':t.removeEventListener(this.POINTER_MOVE,n,!1);break;case'touchend':t.removeEventListener(this.POINTER_UP,n,!1);t.removeEventListener(this.POINTER_CANCEL,n,!1);break};return this}});t.Map.mergeOptions({touchZoom:t.Browser.touch&&!t.Browser.android23,bounceAtZoomLimits:!0});t.Map.TouchZoom=t.Handler.extend({addHooks:function(){t.DomEvent.on(this._map._container,'touchstart',this._onTouchStart,this)},removeHooks:function(){t.DomEvent.off(this._map._container,'touchstart',this._onTouchStart,this)},_onTouchStart:function(i){var n=this._map;if(!i.touches||i.touches.length!==2||n._animatingZoom||this._zooming){return};var o=n.mouseEventToLayerPoint(i.touches[0]),s=n.mouseEventToLayerPoint(i.touches[1]),a=n._getCenterLayerPoint();this._startCenter=o.add(s)._divideBy(2);this._startDist=o.distanceTo(s);this._moved=!1;this._zooming=!0;this._centerOffset=a.subtract(this._startCenter);if(n._panAnim){n._panAnim.stop()};t.DomEvent.on(e,'touchmove',this._onTouchMove,this).on(e,'touchend',this._onTouchEnd,this);t.DomEvent.preventDefault(i)},_onTouchMove:function(i){var e=this._map;if(!i.touches||i.touches.length!==2||!this._zooming){return};var n=e.mouseEventToLayerPoint(i.touches[0]),o=e.mouseEventToLayerPoint(i.touches[1]);this._scale=n.distanceTo(o)/this._startDist;this._delta=n._add(o)._divideBy(2)._subtract(this._startCenter);if(this._scale===1){return};if(!e.options.bounceAtZoomLimits){if((e.getZoom()===e.getMinZoom()&&this._scale<1)||(e.getZoom()===e.getMaxZoom()&&this._scale>1)){return}};if(!this._moved){t.DomUtil.addClass(e._mapPane,'leaflet-touching');e.fire('movestart').fire('zoomstart');this._moved=!0};t.Util.cancelAnimFrame(this._animRequest);this._animRequest=t.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container);t.DomEvent.preventDefault(i)},_updateOnMove:function(){var t=this._map,i=this._getScaleOrigin(),e=t.layerPointToLatLng(i),n=t.getScaleZoom(this._scale);t._animateZoom(e,n,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return};var i=this._map;this._zooming=!1;t.DomUtil.removeClass(i._mapPane,'leaflet-touching');t.Util.cancelAnimFrame(this._animRequest);t.DomEvent.off(e,'touchmove',this._onTouchMove).off(e,'touchend',this._onTouchEnd);var o=this._getScaleOrigin(),r=i.layerPointToLatLng(o),s=i.getZoom(),n=i.getScaleZoom(this._scale)-s,h=(n>0?Math.ceil(n):Math.floor(n)),a=i._limitZoom(s+h),l=i.getZoomScale(a)/this._scale;i._animateZoom(r,a,o,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}});t.Map.addInitHook('addHandler','touchZoom',t.Map.TouchZoom);t.Map.mergeOptions({tap:!0,tapTolerance:15});t.Map.Tap=t.Handler.extend({addHooks:function(){t.DomEvent.on(this._map._container,'touchstart',this._onDown,this)},removeHooks:function(){t.DomEvent.off(this._map._container,'touchstart',this._onDown,this)},_onDown:function(i){if(!i.touches){return};t.DomEvent.preventDefault(i);this._fireClick=!0;if(i.touches.length>1){this._fireClick=!1;clearTimeout(this._holdTimeout);return};var n=i.touches[0],o=n.target;this._startPos=this._newPos=new t.Point(n.clientX,n.clientY);if(o.tagName&&o.tagName.toLowerCase()==='a'){t.DomUtil.addClass(o,'leaflet-active')};this._holdTimeout=setTimeout(t.bind(function(){if(this._isTapValid()){this._fireClick=!1;this._onUp();this._simulateEvent('contextmenu',n)}},this),1000);t.DomEvent.on(e,'touchmove',this._onMove,this).on(e,'touchend',this._onUp,this)},_onUp:function(i){clearTimeout(this._holdTimeout);t.DomEvent.off(e,'touchmove',this._onMove,this).off(e,'touchend',this._onUp,this);if(this._fireClick&&i&&i.changedTouches){var o=i.changedTouches[0],n=o.target;if(n&&n.tagName&&n.tagName.toLowerCase()==='a'){t.DomUtil.removeClass(n,'leaflet-active')};if(this._isTapValid()){this._simulateEvent('click',o)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(i){var e=i.touches[0];this._newPos=new t.Point(e.clientX,e.clientY)},_simulateEvent:function(t,n){var o=e.createEvent('MouseEvents');o._simulated=!0;n.target._simulatedClick=!0;o.initMouseEvent(t,!0,!0,i,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(o)}});if(t.Browser.touch&&!t.Browser.pointer){t.Map.addInitHook('addHandler','tap',t.Map.Tap)};t.Map.mergeOptions({boxZoom:!0});t.Map.BoxZoom=t.Handler.extend({initialize:function(t){this._map=t;this._container=t._container;this._pane=t._panes.overlayPane;this._moved=!1},addHooks:function(){t.DomEvent.on(this._container,'mousedown',this._onMouseDown,this)},removeHooks:function(){t.DomEvent.off(this._container,'mousedown',this._onMouseDown);this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(i){this._moved=!1;if(!i.shiftKey||((i.which!==1)&&(i.button!==1))){return!1};t.DomUtil.disableTextSelection();t.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(i);t.DomEvent.on(e,'mousemove',this._onMouseMove,this).on(e,'mouseup',this._onMouseUp,this).on(e,'keydown',this._onKeyDown,this)},_onMouseMove:function(i){if(!this._moved){this._box=t.DomUtil.create('div','leaflet-zoom-box',this._pane);t.DomUtil.setPosition(this._box,this._startLayerPoint);this._container.style.cursor='crosshair';this._map.fire('boxzoomstart')};var e=this._startLayerPoint,n=this._box,o=this._map.mouseEventToLayerPoint(i),s=o.subtract(e),a=new t.Point(Math.min(o.x,e.x),Math.min(o.y,e.y));t.DomUtil.setPosition(n,a);this._moved=!0;n.style.width=(Math.max(0,Math.abs(s.x)-4))+'px';n.style.height=(Math.max(0,Math.abs(s.y)-4))+'px'},_finish:function(){if(this._moved){this._pane.removeChild(this._box);this._container.style.cursor=''};t.DomUtil.enableTextSelection();t.DomUtil.enableImageDrag();t.DomEvent.off(e,'mousemove',this._onMouseMove).off(e,'mouseup',this._onMouseUp).off(e,'keydown',this._onKeyDown)},_onMouseUp:function(i){this._finish();var e=this._map,o=e.mouseEventToLayerPoint(i);if(this._startLayerPoint.equals(o)){return};var n=new t.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(o));e.fitBounds(n);e.fire('boxzoomend',{boxZoomBounds:n})},_onKeyDown:function(t){if(t.keyCode===27){this._finish()}}});t.Map.addInitHook('addHandler','boxZoom',t.Map.BoxZoom);t.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});t.Map.Keyboard=t.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t;this._setPanOffset(t.options.keyboardPanOffset);this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var i=this._map._container;if(i.tabIndex===-1){i.tabIndex='0'};t.DomEvent.on(i,'focus',this._onFocus,this).on(i,'blur',this._onBlur,this).on(i,'mousedown',this._onMouseDown,this);this._map.on('focus',this._addHooks,this).on('blur',this._removeHooks,this)},removeHooks:function(){this._removeHooks();var i=this._map._container;t.DomEvent.off(i,'focus',this._onFocus,this).off(i,'blur',this._onBlur,this).off(i,'mousedown',this._onMouseDown,this);this._map.off('focus',this._addHooks,this).off('blur',this._removeHooks,this)},_onMouseDown:function(){if(this._focused){return};var t=e.body,n=e.documentElement,o=t.scrollTop||n.scrollTop,s=t.scrollLeft||n.scrollLeft;this._map._container.focus();i.scrollTo(s,o)},_onFocus:function(){this._focused=!0;this._map.fire('focus')},_onBlur:function(){this._focused=!1;this._map.fire('blur')},_setPanOffset:function(t){var o=this._panKeys={},e=this.keyCodes,i,n;for(i=0,n=e.left.length;i<n;i++){o[e.left[i]]=[-1*t,0]};for(i=0,n=e.right.length;i<n;i++){o[e.right[i]]=[t,0]};for(i=0,n=e.down.length;i<n;i++){o[e.down[i]]=[0,t]};for(i=0,n=e.up.length;i<n;i++){o[e.up[i]]=[0,-1*t]}},_setZoomOffset:function(t){var o=this._zoomKeys={},e=this.keyCodes,i,n;for(i=0,n=e.zoomIn.length;i<n;i++){o[e.zoomIn[i]]=t};for(i=0,n=e.zoomOut.length;i<n;i++){o[e.zoomOut[i]]=-t}},_addHooks:function(){t.DomEvent.on(e,'keydown',this._onKeyDown,this)},_removeHooks:function(){t.DomEvent.off(e,'keydown',this._onKeyDown,this)},_onKeyDown:function(i){var n=i.keyCode,e=this._map;if(n in this._panKeys){if(e._panAnim&&e._panAnim._inProgress){return};e.panBy(this._panKeys[n]);if(e.options.maxBounds){e.panInsideBounds(e.options.maxBounds)}}
else if(n in this._zoomKeys){e.setZoom(e.getZoom()+this._zoomKeys[n])}
else{return};t.DomEvent.stop(i)}});t.Map.addInitHook('addHandler','keyboard',t.Map.Keyboard);t.Handler.MarkerDrag=t.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var i=this._marker._icon;if(!this._draggable){this._draggable=new t.Draggable(i,i)};this._draggable.on('dragstart',this._onDragStart,this).on('drag',this._onDrag,this).on('dragend',this._onDragEnd,this);this._draggable.enable();t.DomUtil.addClass(this._marker._icon,'leaflet-marker-draggable')},removeHooks:function(){this._draggable.off('dragstart',this._onDragStart,this).off('drag',this._onDrag,this).off('dragend',this._onDragEnd,this);this._draggable.disable();t.DomUtil.removeClass(this._marker._icon,'leaflet-marker-draggable')},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire('movestart').fire('dragstart')},_onDrag:function(){var i=this._marker,e=i._shadow,n=t.DomUtil.getPosition(i._icon),o=i._map.layerPointToLatLng(n);if(e){t.DomUtil.setPosition(e,n)};i._latlng=o;i.fire('move',{latlng:o}).fire('drag')},_onDragEnd:function(t){this._marker.fire('moveend').fire('dragend',t)}});t.Control=t.Class.extend({options:{position:'topright'},initialize:function(i){t.setOptions(this,i)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;if(i){i.removeControl(this)};this.options.position=t;if(i){i.addControl(this)};return this},getContainer:function(){return this._container},addTo:function(i){this._map=i;var e=this._container=this.onAdd(i),o=this.getPosition(),n=i._controlCorners[o];t.DomUtil.addClass(e,'leaflet-control');if(o.indexOf('bottom')!==-1){n.insertBefore(e,n.firstChild)}
else{n.appendChild(e)};return this},removeFrom:function(t){var i=this.getPosition(),e=t._controlCorners[i];e.removeChild(this._container);this._map=null;if(this.onRemove){this.onRemove(t)};return this},_refocusOnMap:function(){if(this._map){this._map.getContainer().focus()}}});t.control=function(i){return new t.Control(i)};t.Map.include({addControl:function(t){t.addTo(this);return this},removeControl:function(t){t.removeFrom(this);return this},_initControlPos:function(){var n=this._controlCorners={},e='leaflet-',o=this._controlContainer=t.DomUtil.create('div',e+'control-container',this._container);function i(i,s){var a=e+i+' '+e+s;n[i+s]=t.DomUtil.create('div',a,o)};i('top','left');i('top','right');i('bottom','left');i('bottom','right')},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});t.Control.Zoom=t.Control.extend({options:{position:'topleft',zoomInText:'+',zoomInTitle:'Zoom in',zoomOutText:'-',zoomOutTitle:'Zoom out'},onAdd:function(i){var e='leaflet-control-zoom',n=t.DomUtil.create('div',e+' leaflet-bar');this._map=i;this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+'-in',n,this._zoomIn,this);this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+'-out',n,this._zoomOut,this);this._updateDisabled();i.on('zoomend zoomlevelschange',this._updateDisabled,this);return n},onRemove:function(t){t.off('zoomend zoomlevelschange',this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(i,e,n,o,a,r){var s=t.DomUtil.create('a',n,o);s.innerHTML=i;s.href='#';s.title=e;var h=t.DomEvent.stopPropagation;t.DomEvent.on(s,'click',h).on(s,'mousedown',h).on(s,'dblclick',h).on(s,'click',t.DomEvent.preventDefault).on(s,'click',a,r).on(s,'click',this._refocusOnMap,r);return s},_updateDisabled:function(){var i=this._map,e='leaflet-disabled';t.DomUtil.removeClass(this._zoomInButton,e);t.DomUtil.removeClass(this._zoomOutButton,e);if(i._zoom===i.getMinZoom()){t.DomUtil.addClass(this._zoomOutButton,e)};if(i._zoom===i.getMaxZoom()){t.DomUtil.addClass(this._zoomInButton,e)}}});t.Map.mergeOptions({zoomControl:!0});t.Map.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new t.Control.Zoom();this.addControl(this.zoomControl)}});t.control.zoom=function(i){return new t.Control.Zoom(i)};t.Control.Attribution=t.Control.extend({options:{position:'bottomright',prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(i){t.setOptions(this,i);this._attributions={}},onAdd:function(i){this._container=t.DomUtil.create('div','leaflet-control-attribution');t.DomEvent.disableClickPropagation(this._container);for(var e in i._layers){if(i._layers[e].getAttribution){this.addAttribution(i._layers[e].getAttribution())}};i.on('layeradd',this._onLayerAdd,this).on('layerremove',this._onLayerRemove,this);this._update();return this._container},onRemove:function(t){t.off('layeradd',this._onLayerAdd).off('layerremove',this._onLayerRemove)},setPrefix:function(t){this.options.prefix=t;this._update();return this},addAttribution:function(t){if(!t){return};if(!this._attributions[t]){this._attributions[t]=0};this._attributions[t]++;this._update();return this},removeAttribution:function(t){if(!t){return};if(this._attributions[t]){this._attributions[t]--;this._update()};return this},_update:function(){if(!this._map){return};var i=[];for(var e in this._attributions){if(this._attributions[e]){i.push(e)}};var t=[];if(this.options.prefix){t.push(this.options.prefix)};if(i.length){t.push(i.join(', '))};this._container.innerHTML=t.join(' | ')},_onLayerAdd:function(t){if(t.layer.getAttribution){this.addAttribution(t.layer.getAttribution())}},_onLayerRemove:function(t){if(t.layer.getAttribution){this.removeAttribution(t.layer.getAttribution())}}});t.Map.mergeOptions({attributionControl:!0});t.Map.addInitHook(function(){if(this.options.attributionControl){this.attributionControl=(new t.Control.Attribution()).addTo(this)}});t.control.attribution=function(i){return new t.Control.Attribution(i)};t.Control.Scale=t.Control.extend({options:{position:'bottomleft',maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(i){this._map=i;var e='leaflet-control-scale',n=t.DomUtil.create('div',e),o=this.options;this._addScales(o,e,n);i.on(o.updateWhenIdle?'moveend':'move',this._update,this);i.whenReady(this._update,this);return n},onRemove:function(t){t.off(this.options.updateWhenIdle?'moveend':'move',this._update,this)},_addScales:function(i,e,n){if(i.metric){this._mScale=t.DomUtil.create('div',e+'-line',n)};if(i.imperial){this._iScale=t.DomUtil.create('div',e+'-line',n)}},_update:function(){var t=this._map.getBounds(),o=t.getCenter().lat,s=6378137*Math.PI*Math.cos(o*Math.PI/180),a=s*(t.getNorthEast().lng-t.getSouthWest().lng)/180,i=this._map.getSize(),e=this.options,n=0;if(i.x>0){n=a*(e.maxWidth/i.x)};this._updateScales(e,n)},_updateScales:function(t,i){if(t.metric&&i){this._updateMetric(i)};if(t.imperial&&i){this._updateImperial(i)}},_updateMetric:function(t){var i=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(i/t)+'px';this._mScale.innerHTML=i<1000?i+' m':(i/1000)+' km'},_updateImperial:function(t){var i=t*3.2808399,e=this._iScale,n,o,s;if(i>5280){n=i/5280;o=this._getRoundNum(n);e.style.width=this._getScaleWidth(o/n)+'px';e.innerHTML=o+' mi'}
else{s=this._getRoundNum(i);e.style.width=this._getScaleWidth(s/i)+'px';e.innerHTML=s+' ft'}},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+'').length-1),i=t/e;i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1;return e*i}});t.control.scale=function(i){return new t.Control.Scale(i)};t.Control.Layers=t.Control.extend({options:{collapsed:!0,position:'topright',autoZIndex:!0},initialize:function(i,e,n){t.setOptions(this,n);this._layers={};this._lastZIndex=0;this._handlingClick=!1;for(var o in i){this._addLayer(i[o],o)};for(o in e){this._addLayer(e[o],o,!0)}},onAdd:function(t){this._initLayout();this._update();t.on('layeradd',this._onLayerChange,this).on('layerremove',this._onLayerChange,this);return this._container},onRemove:function(t){t.off('layeradd',this._onLayerChange,this).off('layerremove',this._onLayerChange,this)},addBaseLayer:function(t,i){this._addLayer(t,i);this._update();return this},addOverlay:function(t,i){this._addLayer(t,i,!0);this._update();return this},removeLayer:function(i){var e=t.stamp(i);delete this._layers[e];this._update();return this},_initLayout:function(){var e='leaflet-control-layers',i=this._container=t.DomUtil.create('div',e);i.setAttribute('aria-haspopup',!0);if(!t.Browser.touch){t.DomEvent.disableClickPropagation(i).disableScrollPropagation(i)}
else{t.DomEvent.on(i,'click',t.DomEvent.stopPropagation)};var o=this._form=t.DomUtil.create('form',e+'-list');if(this.options.collapsed){if(!t.Browser.android){t.DomEvent.on(i,'mouseover',this._expand,this).on(i,'mouseout',this._collapse,this)};var n=this._layersLink=t.DomUtil.create('a',e+'-toggle',i);n.href='#';n.title='Layers';if(t.Browser.touch){t.DomEvent.on(n,'click',t.DomEvent.stop).on(n,'click',this._expand,this)}
else{t.DomEvent.on(n,'focus',this._expand,this)};t.DomEvent.on(o,'click',function(){setTimeout(t.bind(this._onInputClick,this),0)},this);this._map.on('click',this._collapse,this)}
else{this._expand()};this._baseLayersList=t.DomUtil.create('div',e+'-base',o);this._separator=t.DomUtil.create('div',e+'-separator',o);this._overlaysList=t.DomUtil.create('div',e+'-overlays',o);i.appendChild(o)},_addLayer:function(i,e,n){var o=t.stamp(i);this._layers[o]={layer:i,name:e,overlay:n};if(this.options.autoZIndex&&i.setZIndex){this._lastZIndex++;i.setZIndex(this._lastZIndex)}},_update:function(){if(!this._container){return};this._baseLayersList.innerHTML='';this._overlaysList.innerHTML='';var i=!1,e=!1,n,t;for(n in this._layers){t=this._layers[n];this._addItem(t);e=e||t.overlay;i=i||!t.overlay};this._separator.style.display=e&&i?'':'none'},_onLayerChange:function(i){var e=this._layers[t.stamp(i.layer)];if(!e){return};if(!this._handlingClick){this._update()};var n=e.overlay?(i.type==='layeradd'?'overlayadd':'overlayremove'):(i.type==='layeradd'?'baselayerchange':null);if(n){this._map.fire(n,e)}},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';if(i){n+=' checked="checked"'};n+='/>';var o=e.createElement('div');o.innerHTML=n;return o.firstChild},_addItem:function(i){var o=e.createElement('label'),n,a=this._map.hasLayer(i.layer);if(i.overlay){n=e.createElement('input');n.type='checkbox';n.className='leaflet-control-layers-selector';n.defaultChecked=a}
else{n=this._createRadioElement('leaflet-base-layers',a)};n.layerId=t.stamp(i.layer);t.DomEvent.on(n,'click',this._onInputClick,this);var s=e.createElement('span');s.innerHTML=' '+i.name;o.appendChild(n);o.appendChild(s);var r=i.overlay?this._overlaysList:this._baseLayersList;r.appendChild(o);return o},_onInputClick:function(){var i,e,t,n=this._form.getElementsByTagName('input'),o=n.length;this._handlingClick=!0;for(i=0;i<o;i++){e=n[i];t=this._layers[e.layerId];if(e.checked&&!this._map.hasLayer(t.layer)){this._map.addLayer(t.layer)}
else if(!e.checked&&this._map.hasLayer(t.layer)){this._map.removeLayer(t.layer)}};this._handlingClick=!1;this._refocusOnMap()},_expand:function(){t.DomUtil.addClass(this._container,'leaflet-control-layers-expanded')},_collapse:function(){this._container.className=this._container.className.replace(' leaflet-control-layers-expanded','')}});t.control.layers=function(i,e,n){return new t.Control.Layers(i,e,n)};t.PosAnimation=t.Class.extend({includes:t.Mixin.Events,run:function(i,e,n,o){this.stop();this._el=i;this._inProgress=!0;this._newPos=e;this.fire('start');i.style[t.DomUtil.TRANSITION]='all '+(n||0.25)+'s cubic-bezier(0,0,'+(o||0.5)+',1)';t.DomEvent.on(i,t.DomUtil.TRANSITION_END,this._onTransitionEnd,this);t.DomUtil.setPosition(i,e);t.Util.falseFn(i.offsetWidth);this._stepTimer=setInterval(t.bind(this._onStep,this),50)},stop:function(){if(!this._inProgress){return};t.DomUtil.setPosition(this._el,this._getPos());this._onTransitionEnd();t.Util.falseFn(this._el.offsetWidth)},_onStep:function(){var t=this._getPos();if(!t){this._onTransitionEnd();return};this._el._leaflet_pos=t;this.fire('step')},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var n,o,e,a=this._el,s=i.getComputedStyle(a);if(t.Browser.any3d){e=s[t.DomUtil.TRANSFORM].match(this._transformRe);if(!e){return};n=parseFloat(e[1]);o=parseFloat(e[2])}
else{n=parseFloat(s.left);o=parseFloat(s.top)};return new t.Point(n,o,!0)},_onTransitionEnd:function(){t.DomEvent.off(this._el,t.DomUtil.TRANSITION_END,this._onTransitionEnd,this);if(!this._inProgress){return};this._inProgress=!1;this._el.style[t.DomUtil.TRANSITION]='';this._el._leaflet_pos=this._newPos;clearInterval(this._stepTimer);this.fire('step').fire('end')}});t.Map.include({setView:function(i,e,o){e=e===n?this._zoom:this._limitZoom(e);i=this._limitCenter(t.latLng(i),e,this.options.maxBounds);o=o||{};if(this._panAnim){this._panAnim.stop()};if(this._loaded&&!o.reset&&o!==!0){if(o.animate!==n){o.zoom=t.extend({animate:o.animate},o.zoom);o.pan=t.extend({animate:o.animate},o.pan)};var s=(this._zoom!==e)?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,e,o.zoom):this._tryAnimatedPan(i,o.pan);if(s){clearTimeout(this._sizeTimer);return this}};this._resetView(i,e);return this},panBy:function(i,e){i=t.point(i).round();e=e||{};if(!i.x&&!i.y){return this};if(!this._panAnim){this._panAnim=new t.PosAnimation();this._panAnim.on({'step':this._onPanTransitionStep,'end':this._onPanTransitionEnd},this)};if(!e.noMoveStart){this.fire('movestart')};if(e.animate!==!1){t.DomUtil.addClass(this._mapPane,'leaflet-pan-anim');var n=this._getMapPanePos().subtract(i);this._panAnim.run(this._mapPane,n,e.duration||0.25,e.easeLinearity)}
else{this._rawPanBy(i);this.fire('move').fire('moveend')};return this},_onPanTransitionStep:function(){this.fire('move')},_onPanTransitionEnd:function(){t.DomUtil.removeClass(this._mapPane,'leaflet-pan-anim');this.fire('moveend')},_tryAnimatedPan:function(t,i){var e=this._getCenterOffset(t)._floor();if((i&&i.animate)!==!0&&!this.getSize().contains(e)){return!1};this.panBy(e,i);return!0}});t.PosAnimation=t.DomUtil.TRANSITION?t.PosAnimation:t.PosAnimation.extend({run:function(i,e,n,o){this.stop();this._el=i;this._inProgress=!0;this._duration=n||0.25;this._easeOutPower=1/Math.max(o||0.5,0.2);this._startPos=t.DomUtil.getPosition(i);this._offset=e.subtract(this._startPos);this._startTime=+new Date();this.fire('start');this._animate()},stop:function(){if(!this._inProgress){return};this._step();this._complete()},_animate:function(){this._animId=t.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var t=(+new Date())-this._startTime,i=this._duration*1000;if(t<i){this._runFrame(this._easeOut(t/i))}
else{this._runFrame(1);this._complete()}},_runFrame:function(i){var e=this._startPos.add(this._offset.multiplyBy(i));t.DomUtil.setPosition(this._el,e);this.fire('step')},_complete:function(){t.Util.cancelAnimFrame(this._animId);this._inProgress=!1;this.fire('end')},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}});t.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});if(t.DomUtil.TRANSITION){t.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&t.DomUtil.TRANSITION&&t.Browser.any3d&&!t.Browser.android23&&!t.Browser.mobileOpera;if(this._zoomAnimated){t.DomEvent.on(this._mapPane,t.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}})};t.Map.include(!t.DomUtil.TRANSITION?{}:{_catchTransitionEnd:function(t){if(this._animatingZoom&&t.propertyName.indexOf('transform')>=0){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return!this._container.getElementsByClassName('leaflet-zoom-animated').length},_tryAnimatedZoom:function(t,i,e){if(this._animatingZoom){return!0};e=e||{};if(!this._zoomAnimated||e.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold){return!1};var n=this.getZoomScale(i),o=this._getCenterOffset(t)._divideBy(1-1/n),s=this._getCenterLayerPoint()._add(o);if(e.animate!==!0&&!this.getSize().contains(o)){return!1};this.fire('movestart').fire('zoomstart');this._animateZoom(t,i,s,n,null,!0);return!0},_animateZoom:function(i,e,n,o,s,a,r){if(!r){this._animatingZoom=!0};t.DomUtil.addClass(this._mapPane,'leaflet-zoom-anim');this._animateToCenter=i;this._animateToZoom=e;if(t.Draggable){t.Draggable._disabled=!0};t.Util.requestAnimFrame(function(){this.fire('zoomanim',{center:i,zoom:e,origin:n,scale:o,delta:s,backwards:a});setTimeout(t.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){if(!this._animatingZoom){return};this._animatingZoom=!1;t.DomUtil.removeClass(this._mapPane,'leaflet-zoom-anim');t.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0);if(t.Draggable){t.Draggable._disabled=!1}},this)}});t.TileLayer.include({_animateZoom:function(i){if(!this._animating){this._animating=!0;this._prepareBgBuffer()};var e=this._bgBuffer,n=t.DomUtil.TRANSFORM,o=i.delta?t.DomUtil.getTranslateString(i.delta):e.style[n],s=t.DomUtil.getScaleString(i.scale,i.origin);e.style[n]=i.backwards?s+' '+o:o+' '+s},_endZoomAnim:function(){var i=this._tileContainer,n=this._bgBuffer;i.style.visibility='';i.parentNode.appendChild(i);t.Util.falseFn(n.offsetWidth);var e=this._map.getZoom();if(e>this.options.maxZoom||e<this.options.minZoom){this._clearBgBuffer()};this._animating=!1},_clearBgBuffer:function(){var i=this._map;if(i&&!i._animatingZoom&&!i.touchZoom._zooming){this._bgBuffer.innerHTML='';this._bgBuffer.style[t.DomUtil.TRANSFORM]=''}},_prepareBgBuffer:function(){var e=this._tileContainer,i=this._bgBuffer,n=this._getLoadedTilesPercentage(i),o=this._getLoadedTilesPercentage(e);if(i&&n>0.5&&o<0.5){e.style.visibility='hidden';this._stopLoadingImages(e);return};i.style.visibility='hidden';i.style[t.DomUtil.TRANSFORM]='';this._tileContainer=i;i=this._bgBuffer=e;this._stopLoadingImages(i);clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(t){var n=t.getElementsByTagName('img'),i,e,o=0;for(i=0,e=n.length;i<e;i++){if(n[i].complete){o++}};return o/e},_stopLoadingImages:function(i){var o=Array.prototype.slice.call(i.getElementsByTagName('img')),n,s,e;for(n=0,s=o.length;n<s;n++){e=o[n];if(!e.complete){e.onload=t.Util.falseFn;e.onerror=t.Util.falseFn;e.src=t.Util.emptyImageUrl;e.parentNode.removeChild(e)}}}});t.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:Infinity,timeout:10000,maximumAge:0,enableHighAccuracy:!1},locate:function(i){i=this._locateOptions=t.extend(this._defaultLocateOptions,i);if(!navigator.geolocation){this._handleGeolocationError({code:0,message:'Geolocation not supported.'});return this};var e=t.bind(this._handleGeolocationResponse,this),n=t.bind(this._handleGeolocationError,this);if(i.watch){this._locationWatchId=navigator.geolocation.watchPosition(e,n,i)}
else{navigator.geolocation.getCurrentPosition(e,n,i)};return this},stopLocate:function(){if(navigator.geolocation){navigator.geolocation.clearWatch(this._locationWatchId)};if(this._locateOptions){this._locateOptions.setView=!1};return this},_handleGeolocationError:function(t){var i=t.code,e=t.message||(i===1?'permission denied':(i===2?'position unavailable':'timeout'));if(this._locateOptions.setView&&!this._loaded){this.fitWorld()};this.fire('locationerror',{code:i,message:'Geolocation error: '+e+'.'})},_handleGeolocationResponse:function(i){var e=i.coords.latitude,o=i.coords.longitude,r=new t.LatLng(e,o),s=180*i.coords.accuracy/40075017,h=s/Math.cos(t.LatLng.DEG_TO_RAD*e),l=t.latLngBounds([e-s,o-h],[e+s,o+h]),u=this._locateOptions;if(u.setView){var c=Math.min(this.getBoundsZoom(l),u.maxZoom);this.setView(r,c)};var a={latlng:r,bounds:l,timestamp:i.timestamp};for(var n in i.coords){if(typeof i.coords[n]==='number'){a[n]=i.coords[n]}};this.fire('locationfound',a)}})}(window,document));
(function(t,a){if(typeof define==='function'&&define.amd){define(['leaflet'],a)}
else if(typeof modules==='object'&&module.exports){module.exports=a(require('leaflet'))}
else{a(L)}}(this,function(a){'use strict';a.TileLayer.Provider=a.TileLayer.extend({initialize:function(e,i){var r=a.TileLayer.Provider.providers,l=e.split('.'),o=l[0],s=l[1];if(!r[o]){throw'No such provider ('+o+')'};var t={url:r[o].url,options:r[o].options};if(s&&'variants' in r[o]){if(!(s in r[o].variants)){throw'No such variant of '+o+' ('+s+')'};var n=r[o].variants[s],p;if(typeof n==='string'){p={variant:n}}
else{p=n.options};t={url:n.url||t.url,options:a.Util.extend({},t.options,p)}};var u=window.location.protocol==='file:'||t.options.forceHTTP;if(t.url.indexOf('//')===0&&u){t.url='http:'+t.url};if(t.options.retina){if(i.detectRetina&&a.Browser.retina){i.detectRetina=!1}
else{t.options.retina=''}};var m=function(a){if(a.indexOf('{attribution.')===-1){return a};return a.replace(/\{attribution.(\w*)\}/,function(a,t){return m(r[t].options.attribution)})};t.options.attribution=m(t.options.attribution);var d=a.Util.extend({},t.options,i);a.TileLayer.prototype.initialize.call(this,t.url,d)}});a.TileLayer.Provider.providers={OpenStreetMap:{url:'//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',options:{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:'http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png',options:{maxZoom:18}},DE:{url:'http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png',options:{maxZoom:18}},France:{url:'//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png',options:{attribution:'&copy; Openstreetmap France | {attribution.OpenStreetMap}'}},HOT:{url:'//{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:'http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png',options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OpenTopoMap:{url:'//{s}.tile.opentopomap.org/{z}/{x}/{y}.png',options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Thunderforest:{url:'//{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png',options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:'cycle'},variants:{OpenCycleMap:'cycle',Transport:{options:{variant:'transport',maxZoom:19}},TransportDark:{options:{variant:'transport-dark',maxZoom:19}},SpinalMap:{options:{variant:'spinal-map',maxZoom:11}},Landscape:'landscape',Outdoors:'outdoors',Pioneer:'pioneer'}},OpenMapSurfer:{url:'http://korona.geog.uni-heidelberg.de/tiles/{variant}/x={x}&y={y}&z={z}',options:{maxZoom:20,variant:'roads',attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:'roads',AdminBounds:{options:{variant:'adminb',maxZoom:19}},Grayscale:{options:{variant:'roadsg',maxZoom:19}}}},Hydda:{url:'//{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png',options:{variant:'full',attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:'full',Base:'base',RoadsAndLabels:'roads_and_labels'}},MapBox:{url:'//api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}',options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:'abcd'}},Stamen:{url:'//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}',options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:'abcd',minZoom:0,maxZoom:20,variant:'toner',ext:'png'},variants:{Toner:'toner',TonerBackground:'toner-background',TonerHybrid:'toner-hybrid',TonerLines:'toner-lines',TonerLabels:'toner-labels',TonerLite:'toner-lite',Watercolor:{options:{variant:'watercolor',minZoom:1,maxZoom:16}},Terrain:{options:{variant:'terrain',minZoom:4,maxZoom:18,bounds:[[22,-132],[70,-56]]}},TerrainBackground:{options:{variant:'terrain-background',minZoom:4,maxZoom:18,bounds:[[22,-132],[70,-56]]}},TopOSMRelief:{options:{variant:'toposm-color-relief',ext:'jpg',bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:'toposm-features',bounds:[[22,-132],[51,-56]],opacity:0.9}}}},Esri:{url:'//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}',options:{variant:'World_Street_Map',attribution:'Tiles &copy; Esri'},variants:{WorldStreetMap:{options:{attribution:'{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'}},DeLorme:{options:{variant:'Specialty/DeLorme_World_Base_Map',minZoom:1,maxZoom:11,attribution:'{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme'}},WorldTopoMap:{options:{variant:'World_Topo_Map',attribution:'{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'}},WorldImagery:{options:{variant:'World_Imagery',attribution:'{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'}},WorldTerrain:{options:{variant:'World_Terrain_Base',maxZoom:13,attribution:'{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS'}},WorldShadedRelief:{options:{variant:'World_Shaded_Relief',maxZoom:13,attribution:'{attribution.Esri} &mdash; Source: Esri'}},WorldPhysical:{options:{variant:'World_Physical_Map',maxZoom:8,attribution:'{attribution.Esri} &mdash; Source: US National Park Service'}},OceanBasemap:{options:{variant:'Ocean_Basemap',maxZoom:13,attribution:'{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri'}},NatGeoWorldMap:{options:{variant:'NatGeo_World_Map',maxZoom:16,attribution:'{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC'}},WorldGrayCanvas:{options:{variant:'Canvas/World_Light_Gray_Base',maxZoom:16,attribution:'{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ'}}}},OpenWeatherMap:{url:'http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png',options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:0.5},variants:{Clouds:'clouds',CloudsClassic:'clouds_cls',Precipitation:'precipitation',PrecipitationClassic:'precipitation_cls',Rain:'rain',RainClassic:'rain_cls',Pressure:'pressure',PressureContour:'pressure_cntr',Wind:'wind',Temperature:'temp',Snow:'snow'}},HERE:{url:'//{s}.{base}.maps.cit.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}',options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:'1234',mapID:'newest','app_id':'<insert your app_id here>','app_code':'<insert your app_code here>',base:'base',variant:'normal.day',maxZoom:20,type:'maptile',language:'eng',format:'png8',size:'256'},variants:{normalDay:'normal.day',normalDayCustom:'normal.day.custom',normalDayGrey:'normal.day.grey',normalDayMobile:'normal.day.mobile',normalDayGreyMobile:'normal.day.grey.mobile',normalDayTransit:'normal.day.transit',normalDayTransitMobile:'normal.day.transit.mobile',normalNight:'normal.night',normalNightMobile:'normal.night.mobile',normalNightGrey:'normal.night.grey',normalNightGreyMobile:'normal.night.grey.mobile',basicMap:{options:{type:'basetile'}},mapLabels:{options:{type:'labeltile',format:'png'}},trafficFlow:{options:{base:'traffic',type:'flowtile'}},carnavDayGrey:'carnav.day.grey',hybridDay:{options:{base:'aerial',variant:'hybrid.day'}},hybridDayMobile:{options:{base:'aerial',variant:'hybrid.day.mobile'}},pedestrianDay:'pedestrian.day',pedestrianNight:'pedestrian.night',satelliteDay:{options:{base:'aerial',variant:'satellite.day'}},terrainDay:{options:{base:'aerial',variant:'terrain.day'}},terrainDayMobile:{options:{base:'aerial',variant:'terrain.day.mobile'}}}},FreeMapSK:{url:'http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg',options:{minZoom:8,maxZoom:16,subdomains:'1234',bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:'http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png',options:{attribution:'{attribution.OpenStreetMap} &amp; USGS'}},CartoDB:{url:'http://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png',options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:'abcd',maxZoom:19,variant:'light_all'},variants:{Positron:'light_all',PositronNoLabels:'light_nolabels',PositronOnlyLabels:'light_only_labels',DarkMatter:'dark_all',DarkMatterNoLabels:'dark_nolabels',DarkMatterOnlyLabels:'dark_only_labels'}},HikeBike:{url:'http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png',options:{maxZoom:19,attribution:'{attribution.OpenStreetMap}',variant:'hikebike'},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:'hillshading'}}}},BasemapAT:{url:'//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}',options:{maxZoom:19,attribution:'Datenquelle: <a href="www.basemap.at">basemap.at</a>',subdomains:['','1','2','3','4'],format:'png',bounds:[[46.358770,8.782379],[49.037872,17.189532]],variant:'geolandbasemap'},variants:{basemap:'geolandbasemap',grau:'bmapgrau',overlay:'bmapoverlay',highdpi:{options:{variant:'bmaphidpi',format:'jpeg'}},orthofoto:{options:{variant:'bmaporthofoto30cm',format:'jpeg'}}}},NASAGIBS:{url:'//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}',options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:'jpg',time:'',tilematrixset:'GoogleMapsCompatible_Level'},variants:{ModisTerraTrueColorCR:'MODIS_Terra_CorrectedReflectance_TrueColor',ModisTerraBands367CR:'MODIS_Terra_CorrectedReflectance_Bands367',ViirsEarthAtNight2012:{options:{variant:'VIIRS_CityLights_2012',maxZoom:8}},ModisTerraLSTDay:{options:{variant:'MODIS_Terra_Land_Surface_Temp_Day',format:'png',maxZoom:7,opacity:0.75}},ModisTerraSnowCover:{options:{variant:'MODIS_Terra_Snow_Cover',format:'png',maxZoom:8,opacity:0.75}},ModisTerraAOD:{options:{variant:'MODIS_Terra_Aerosol',format:'png',maxZoom:6,opacity:0.75}},ModisTerraChlorophyll:{options:{variant:'MODIS_Terra_Chlorophyll_A',format:'png',maxZoom:7,opacity:0.75}}}},NLS:{url:'//nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg',options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,subdomains:'0123',}}};a.tileLayer.provider=function(t,o){return new a.TileLayer.Provider(t,o)};return a}));
;L.Icon.Label=L.Icon.extend({options:{labelClassName:''},initialize:function(e){L.Util.setOptions(this,e);L.Icon.prototype.initialize.call(this,this.options)},setLabelAsHidden:function(){this._labelHidden=!0},createIcon:function(){return this._createLabel(L.Icon.prototype.createIcon.call(this))},createShadow:function(){if(!this.options.shadowUrl){return null};var e=L.Icon.prototype.createShadow.call(this);if(e){e.style.marginLeft=(-this.options.wrapperAnchor.x)+'px';e.style.marginTop=(-this.options.wrapperAnchor.y)+'px'};return e},updateLabel:function(e,t){if(e.nodeName.toUpperCase()==='DIV'){e.childNodes[1].innerHTML=t;this.options.labelText=t}},showLabel:function(e){if(!this._labelTextIsSet()){return};e.childNodes[1].style.display='block'},hideLabel:function(e){if(!this._labelTextIsSet()){return};e.childNodes[1].style.display='none'},_createLabel:function(e){if(!this._labelTextIsSet()){return e};var t=document.createElement('div'),n=document.createElement('span');t.style.marginLeft=(-this.options.wrapperAnchor.x)+'px';t.style.marginTop=(-this.options.wrapperAnchor.y)+'px';t.className='leaflet-marker-icon-wrapper leaflet-zoom-animated';n.className='leaflet-marker-iconlabel '+this.options.labelClassName;n.innerHTML=this.options.labelText;n.style.marginLeft=this.options.labelAnchor.x+'px';n.style.marginTop=this.options.labelAnchor.y+'px';if(this._labelHidden){n.style.display='none';e.style.cursor='pointer'};e.style.marginLeft=this.options.iconAnchor.x+'px';e.style.marginTop=this.options.iconAnchor.y+'px';t.appendChild(e);t.appendChild(n);return t},_labelTextIsSet:function(){return typeof this.options.labelText!=='undefined'&&this.options.labelText!==null}});L.Icon.Label.Default=L.Icon.Label.extend({options:{labelAnchor:new L.Point(29,8),wrapperAnchor:new L.Point(13,41),iconAnchor:new L.Point(0,0),labelText:null,iconUrl:L.Icon.Default.imagePath+'/marker-icon.png',iconSize:new L.Point(25,41),popupAnchor:new L.Point(0,-33),shadowUrl:L.Icon.Default.imagePath+'/marker-shadow.png',shadowSize:new L.Point(41,41)}});L.Marker.Label=L.Marker.extend({updateLabel:function(e){this.options.icon.updateLabel(this._icon,e)},_initIcon:function(){if(!(this.options.icon instanceof L.Icon.Label)){throw new Error('Icon must be an instance of L.Icon.Label.')};if(this.options.revealing){this.options.icon.setLabelAsHidden()};L.Marker.prototype._initIcon.call(this)},_removeIcon:function(){if(this.options.revealing){L.DomEvent.off(this._icon,'mouseover',this._showLabel).off(this._icon,'mouseout',this._hideLabel)};L.Marker.prototype._removeIcon.call(this)},_initInteraction:function(){L.Marker.prototype._initInteraction.call(this);if(!this.options.revealing){return};L.DomEvent.on(this._icon,'mouseover',this._showLabel,this).on(this._icon,'mouseout',this._hideLabel,this)},_showLabel:function(){this.options.icon.showLabel(this._icon)},_hideLabel:function(){this.options.icon.hideLabel(this._icon)}});
;var App=new function(){var t=this;this.lightbox=null;this.init=function(){var t=$('body'),s=$('[data-toggle=tooltip]'),e=$('[data-toggle=tab]');this.lightbox=lity();toastr.options.newestOnTop=!0;toastr.options.progressBar=!0;toastr.options.positionClass='toast-bottom-left';s.tooltip({container:'body'});e.on('click',function(){var t=$(this),e=t.parents('[data-toggle-container]'),n=e.find('[data-toggle=tab]'),o=t.data('target'),s=$(o),i=s.parents('.tabs'),r=i.find('.tab-pane');n.removeClass('is-active');t.addClass('is-active');r.removeClass('is-active');s.addClass('is-active');return!1});t.on('click','[data-href]',function(){var t=$(this),s=t.data('href'),e=t.attr('target');if(e=='_blank'){window.open(s,'_blank')}
else{window.location=s};return!1});t.on('click','[data-lightbox]',this.lightbox)};this.request=function(t,s,e){return $.ajax({url:t,type:'get',dataType:'json',success:function(t){if(!t){e('The response from the server was empty.')}
else if(t.status=='success'){s(t)}
else{e(t.message)}},error:function(t,s){e('The response from the server was invalid.')}})};this.postRequest=function(t,s,n,e){return $.ajax({url:t,type:'post',data:s,dataType:'json',success:function(t){if(!t){e('The response from the server was empty.')}
else if(t.status=='success'){n(t)}
else{e(t.message)}},error:function(t,s){e('The response from the server was invalid.')}})};this.info=function(t,s){return toastr.info(t,s)};this.warning=function(t,s){return toastr.warning(t,s)};this.success=function(t,s){return toastr.success(t,s)};this.error=function(t,s){return toastr.error(t,s)};this.isMobile=function(){return $(window).width()<768};this.isKrugal=function(){return $(window).width()>=1400};this.removeSlot=function(t){var s=$('.'+t);s.remove()}};
;App.header=new function(){var e=this;this.init=function(){var e=$('.header-map-search'),t=$('.header-map-locate');e.each(function(){var o=$(this),t=o.find('[name=name]'),e=o.find('[type=submit]');t.on('keyup',function(){var o=t.val().trim();if(o){e.removeAttr('disabled')}
else{e.attr('disabled',!0)}});o.on('submit',function(){var o=encodeURIComponent(t.val().trim());t.attr('disabled',!0);e.attr('disabled',!0);e.html('<span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>');App.request('/map/lookup/'+o,function(o){t.removeAttr('disabled');e.removeAttr('disabled');e.html('<span class="glyphicon glyphicon-search"></span>');if(!App.home.initialised){window.location='/#/@'+o.latitude+','+o.longitude}
else{App.home.latitude=o.latitude;App.home.longitude=o.longitude;App.home.map.panTo({lat:o.latitude,lng:o.longitude});App.home.markers.center.setLatLng({lat:o.latitude,lng:o.longitude});App.home.updateMarkers();App.home.findNearbyPokemon(o.latitude,o.longitude);window.location.hash='#/@'+o.latitude+','+o.longitude}},function(o){t.removeAttr('disabled');e.removeAttr('disabled');e.html('<span class="glyphicon glyphicon-remove-sign"></span>');App.error(o)});return!1})});t.on('click',function(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,o=e.coords.longitude;App.home.latitude=t;App.home.longitude=o;App.home.map.panTo({lat:t,lng:o});App.home.markers.center.setLatLng({lat:t,lng:o});App.home.updateMarkers();App.home.findNearbyPokemon(t,o);window.location.hash='#/@'+t+','+o},function(e){App.error(e.message)})}
else{App.error('Your browser doesn\'t support location tracking, sorry!')};return!1})}};
;App.home=new function(){var e=this;this.TIMER_JOB=2000;this.TIMER_UPDATE=10000;this.TIMER_ERROR=10000;this.TIMER_SCAN_ERROR=30000;this.TIMER_SCAN_DELAY=30000;this.initialised=!1;this.loading=!1;this.scanning=!1;this.loadingTimer=null;this.map=null;this.tooltipElem=null;this.latitude=34.00872705055818;this.longitude=-118.49764466285706;this.pokedex={};this.pokemon=[];this.markers={};this.init=function(e){this.initialised=!0;this.latitude=e.latitude||this.latitude;this.longitude=e.longitude||this.longitude;this.pokedex=e.pokedex||this.pokedex;setInterval(this.updateMarkers,1000)};this.initMap=function(){var n=$('.home-map-wrapper'),t=$('.home-map-scan');this.tooltipElem=$('.home-map-tooltip');this.map=L.map(n.get(0),{center:{lat:this.latitude,lng:this.longitude},zoom:17,zoomControl:!1});L.tileLayer('//server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}',{attribution:'Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'}).addTo(this.map);L.control.zoom({position:'bottomright'}).addTo(this.map);L.Icon.Default.imagePath='/asset/image/leaflet/';this.markers.center=L.marker({lat:this.latitude,lng:this.longitude}).addTo(this.map);this.map.on('click',function(n){e.markers.center.setLatLng(n.latlng);e.latitude=n.latlng.lat;e.longitude=n.latlng.lng;e.findNearbyPokemon(e.latitude,e.longitude);window.history.replaceState(null,null,'#/@'+e.latitude+','+e.longitude)});t.on('click',function(){e.findNearbyPokemon(e.latitude,e.longitude,!0);return!1});this.updateMarkers();this.findNearbyPokemon(this.latitude,this.longitude);setInterval(function(){e.findNearbyPokemon(e.latitude,e.longitude)},this.TIMER_UPDATE)};this.findNearbyPokemon=function(n,i,s,r){var o=$('.home-map-loading'),t=o.find('.loading-message'),a=$('.home-map-scan');if(e.loading){return};if(e.scanning&&!r){return};if(!e.scanning&&e.loadingTimer){clearInterval(e.loadingTimer);e.loadingTimer=null};e.loading=!0;if(o.is(':hidden')){o.addClass('home-map-loading-mini');o.fadeIn(200)};if(s){e.scanning=!0;a.attr('disabled',!0);a.find('strong').html('<span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>');return App.request('/map/scan/'+n+'/'+i,function(t){e.loading=!1;e.loadingTimer=setTimeout(function(){e.findNearbyPokemon(n,i,!1,t.jobId)},e.TIMER_JOB)},function(o){if(o.indexOf('{scan-throttle}')>-1){t.text('You already scanned recently, retrying in '+(e.TIMER_ERROR/1000)+' seconds.');t.css('display','inline-block')}
else{t.text('Unable to send scan request due to an internal error, retrying in '+(e.TIMER_ERROR/1000)+' seconds.');t.css('display','inline-block')};e.loading=!1;e.loadingTimer=setTimeout(function(){e.scanning=!1;e.findNearbyPokemon(n,i,!0)},e.TIMER_SCAN_ERROR)})};return App.request('/map/data/'+n+'/'+i+(r?'/'+r:''),function(s){if(s.jobStatus){if(s.jobStatus=='failure'||s.jobStatus=='unknown'){t.text('Unable to scan for pokemon, retrying in '+(e.TIMER_SCAN_ERROR/1000)+' seconds. If this continues to fail then the Pokemon servers are currently unstable or offline.');t.css('display','inline-block');e.loading=!1;e.loadingTimer=setTimeout(function(){e.scanning=!1;e.findNearbyPokemon(n,i,!0)},e.TIMER_SCAN_ERROR)}
else if(s.jobStatus=='in_progress'){t.text('');t.hide();e.loading=!1;e.loadingTimer=setTimeout(function(){e.findNearbyPokemon(n,i,!1,r)},e.TIMER_JOB)};return};for(var d in s.pokemon){var l=!1;for(var m in e.pokemon){if(e.pokemon[m].id==s.pokemon[d].id){l=!0}};if(!l){e.pokemon.push(s.pokemon[d])}};e.updateMarkers();if(e.scanning){t.text('');t.hide();App.success('Scan complete! You can re-scan the area for new pokemon that spawn soon.');a.addClass('is-on-cooldown');a.find('strong').text('Find Pokemon Near Marker');setTimeout(function(){a.removeClass('is-on-cooldown');a.removeAttr('disabled')},e.TIMER_SCAN_DELAY)};e.scanning=!1;e.loading=!1;e.loadingTimer=null;if(o.is(':visible')){o.fadeOut(200)}},function(o){t.text('Unable to process response from our server, checking again in '+(e.TIMER_ERROR/1000)+' seconds.');t.css('display','inline-block');e.loading=!1;e.loadingTimer=setTimeout(function(){e.findNearbyPokemon(n,i,!1,r)},e.TIMER_ERROR)})};this.updateMarkers=function(){if(!e.map){return};for(var t in e.pokemon){var i=e.pokemon[t],o=i.expiration_time-Math.floor(+new Date()/1000),n=e.markers['pokemon-'+t];if(o<=0){if(n){e.map.removeLayer(n);delete e.markers['pokemon-'+t]};delete e.pokemon[t];continue};if(!n){n=e.createMarker(t,i)};n.updateLabel(e.secondsToString(o))}};this.createMarker=function(n,t){var a=t.expiration_time-Math.floor(+new Date()/1000),r=L.Icon.Label.extend({options:{iconUrl:'//ugc.pokevision.com/images/pokemon/'+t.pokemonId+'.png',shadowUrl:null,iconSize:new L.Point(48,48),iconAnchor:new L.Point(0,0),labelAnchor:new L.Point(10,26),wrapperAnchor:new L.Point(0,0),labelClassName:'home-map-label'}});var o=new r({labelText:e.secondsToString(a)});var i=new L.Marker.Label({lat:t.latitude,lng:t.longitude},{icon:o});i.on('mouseover',function(n){var i=$(n.target._icon),o=t.expiration_time-Math.floor(+new Date()/1000),a='<strong>'+(e.pokedex[t.pokemonId]||'Unknown')+'</strong><small>Despawns in '+e.secondsToString(o);e.tooltipElem.css({top:(i.offset().top-96)+'px',left:i.offset().left+'px'});e.tooltipElem.removeAttr('title');e.tooltipElem.attr('data-original-title',a);e.tooltipElem.tooltip({trigger:'manual',html:!0}).tooltip('show')});i.on('mouseout',function(){var e=$('.tooltip');e.remove()});e.markers['pokemon-'+n]=i;e.map.addLayer(i);return i};this.secondsToString=function(e){var o=parseInt(e,10),n=Math.floor(o/3600),t=Math.floor((o-(n*3600))/60),i=o-(n*3600)-(t*60);if(n<10)n='0'+n;if(t<10)t='0'+t;if(i<10)i='0'+i;if(n>0){return n+':'+t+':'+i};return t+':'+i}};